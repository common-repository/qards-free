!function(){angular.module("dmApp",["angularFileUpload","ui.slider","pasvaz.bindonce"]).config(["$interpolateProvider",function(a){a.startSymbol("[["),a.endSymbol("]]")}]),_.mixin({deepEquals:function(a,b){if(a==b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!_.isArray(a)){if(_.isDate(a))return _.isDate(b)?_.isNaN(a.getTime())&&_.isNaN(b.getTime())||a.getTime()===b.getTime():!1;if(_.isRegExp(a)&&_.isRegExp(b))return a.toString()==b.toString();e={};for(d in a)if("$"!==d.charAt(0)&&!_.isFunction(a[d])){if(!_.deepEquals(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!e.hasOwnProperty(d)&&"$"!==d.charAt(0)&&void 0!==b[d]&&!_.isFunction(b[d]))return!1;return!0}if(!_.isArray(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!_.deepEquals(a[d],b[d]))return!1;return!0}}return!1}}),String.prototype.trimEnd=function(){return this.replace(/\s+$/,"")},String.prototype.trimStart=function(){return this.replace(/^\s+/,"")},$.fn.getAttributes=function(){var a={};return this.length&&$.each(this[0].attributes,function(b,c){a[c.name]=c.value}),a},$.fn.fromExisting=function(a,b){var c=$(this).getAttributes(),d="<"+a;for(var e in c)if(c.hasOwnProperty(e)){var f=c[e];d+=" "+e+'="'+(f?f.replace(/"/g,"'"):"")+'"'}return d+=">"+b+"</"+a+">",$(d)},$.fn.classes=function(){var a=[];return $.each(this,function(b,c){var d=c.className.split(/\s+/);for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];-1===a.indexOf(f)&&a.push(f)}}),a},$.fn.styles=function(){var a={};return $.each(this,function(b,c){var d=$(c).attr("style");void 0!==d&&$.each(d.split(/\s*\;\s*/),function(b,c){if(void 0!==c&&0!==c.length){var d=c.split(/\s*\:\s*/);a[d[0]]=d[1].replace(/"/g,"'")}})}),a}}(),function(){angular.module("dmApp").factory("layoutModel",["$http",function(a){var b={},c={};return c.addTemplate=function(a){b[a.id]=a.data},c.removeTemplate=function(a){delete b[a]},c.findById=function(a){return b[a]},c.save=function(){return a({url:ajaxurl,method:"POST",params:{action:"dm_api",method:"component.model.save"},data:JSON.stringify({params:{models:b}})})},c}])}(),function(){function a(a,b,c,d,e,f){b.$onWithAutoDeregister=function(a,c,d){var e=b.$on(c,d);a.$on("$destroy",function(){e()})},a.save=function(){c.save().success(function(){a.$broadcast("scope-was-saved");for(var b in a.arrayChanges)a.arrayChanges[b].changed=!1,a.arrayChanges[b].screenshotChanges=!1})},a.arrayChanges=[],a.$on("scope-was-loaded",function(b,c){var d=angular.element("[component-id]","#templates"),e=[],f=0;angular.forEach(d,function(a,b){e.push(angular.element(a).attr("component-id"))});for(var g=0;g<e.length;g++)if(e[g]==c.id){f=g;break}a.arrayChanges.splice(f,0,c)}),a.reorderBlocks=function(){function c(a,b){var c=e.indexOf(a.id),d=e.indexOf(b.id);return d>c?-1:c>d?1:0}var d=angular.element("[component-id]","#templates"),e=[];angular.forEach(d,function(a,b){e.push(angular.element(a).attr("component-id"))}),a.arrayChanges.sort(c),a.$apply(function(){b.$broadcast("applyPaddings")})},a.$on("scope-was-changed",function(b,c){for(var d=0;d<a.arrayChanges.length;d++)a.arrayChanges[d].id===c.id&&(a.arrayChanges[d].changed=c.changed,a.arrayChanges[d].screenshotChanges=c.changed)}),a.$on("scope-was-removed",function(b,c){for(var d=0;d<a.arrayChanges.length;d++)a.arrayChanges[d].id===c&&a.arrayChanges.splice(d,1)}),a.$on("reorder-block",function(b,c){a.reorderBlocks()}),a.keyDown=function(a){27===a.which&&b.$emit("hide-widgets")},$(document).on("keydown.saveLayout",function(a){DmCommonFunc.saveLayoutHandler(a)}),a.click=function(c){var d=$("[text-editing-popover],[text-editing-popover-e]").parent(),e=$(c.target);d=d.add($("[button-editing-popover]").parent()),0===d.find(e).length&&0===e.closest("[contenteditable]").length&&b.$emit("hide-widgets"),0===e.closest(".dm-widget").length&&0!==e.closest(".dm-template").find(".dm-widget-replace-parent").length&&a.$broadcast("closedDropDown","replace")},a.mouseUp=function(){b.$emit("text-editing-mouse-up"),b.$emit("button-editing-mouse-up")},$(window).on("resize",function(){a.$apply(function(){b.$emit("hide-widgets"),b.$emit("closeAllDropDowns")})})}angular.module("dmApp").controller("DMCtrl",a).constant("DMConstants",{YouTubeKey:"AIzaSyCKN82GeY6S2iQTbUg72TOqytmlTNeEzjk"}),a.$inject=["$scope","$rootScope","layoutModel","fonts","$http","events"]}(),angular.module("dmApp").run(["$templateCache",function(a){"use strict";a.put("../templates/ui-widgets/components/anchor-editor.directive/editor.html",'<div class="dm-widget-popover dm-widget-popover-link-settings" ng-class="{\'bottom\': !bottomArrow, \'top\': bottomArrow}">\n  <ul class="dm-widget-popover-list">\n    <li class="dm-widget-popover-list-item">\n      <input class="dm-widget-popover-text-field" type="text" placeholder="Set the Link" ng-model="link" />\n    </li>\n    <li class="dm-widget-popover-list-item">\n      <label class="dm-custom-checkbox">\n        <input type="checkbox" ng-model="isInNewTab" ng-change="change(isInNewTab)" ng-checked="isInNewTab" />\n        <span></span>\n        Show in New Tab\n      </label>\n    </li>\n  </ul>\n  <div class="dm-popover-button-holder" ng-hide="true">\n    <a class="dm-popover-button" ng-click="convertToButton($event)">Convert to Button</a>\n  </div>\n</div>\n'),a.put("../templates/ui-widgets/components/bg-color-options.directive/layout.html",'<i class="dm-widget-icon" ng-hide="showReplacedDropDown">\n    <span class="dm-color-icon" ng-style="{\'background-color\': dmBgColor}">Color</span>\n</i>\n<div\n    ng-class="{\n        \'dm-widget-drop-down dm-widget-cp-drop\': !showReplacedDropDown,\n        \'dm-widget-replace-panel dm-widget-cp-drop\': showReplacedDropDown}">\n    <div class="dm-widget-bg-option active">\n        <div class="dm-widget-drop-head" dm-bg-opacity dm-bg-opacity-color="hexValue" ng-model="opacityValue"></div>\n        <div class="dm-widget-drop-body" dm-colorpicker ng-model="hexValue"></div>\n    </div>\n</div>\n'),a.put("../templates/ui-widgets/components/bg-options.directive/layout.html",'<i class="dm-widget-icon" ng-if="dmBgOptionsType == \'color\'" ng-hide="showReplacedDropDown">\n    <span class="dm-color-icon" ng-style="{\'background-color\': dmBgOptionsColor}">Color</span>\n</i>\n<i class="dm-widget-icon" ng-if="dmBgOptionsType == \'gradient\'" ng-hide="showReplacedDropDown">\n    <span class="dm-color-icon" ng-style="gradientStyles()">Gradient</span>\n</i>\n<i class="dm-widget-icon" ng-if="dmBgOptionsType == \'image\'">\n    <span class="dm-color-icon" ng-class="{ \'border-light\': !dmBgOptionsImage }" ng-style="{\'background-image\': \'url(\' + url + dmBgOptionsImage + \')\'}">Image</span>\n</i>\n<div\n    ng-class="{\n        \'dm-widget-drop-down dm-widget-cp-drop\': !showReplacedDropDown,\n        \'dm-widget-replace-panel dm-widget-cp-drop\': showReplacedDropDown}">\n    <div class="dm-widget-bg-option" ng-class="{ \'active\': dmBgOptionsType == \'color\' }">\n        <div class="dm-widget-drop-head" dm-bg-opacity dm-bg-opacity-color="dmBgOptionsColor" ng-model="dmBgOptionsOpacity" ng-if="opacity"></div>\n        <div class="dm-widget-drop-body" dm-colorpicker ng-model="dmBgOptionsColor" ng-if="color"></div>\n    </div>\n    <div class="dm-widget-bg-option" dm-bg-gradient dm-bg-gradient-rendered="dmBgOptionsType == \'gradient\'" ng-model="dmBgOptionsGradient" ng-class="{ \'active\': dmBgOptionsType == \'gradient\' }" ng-if="gradient"></div>\n    <div class="dm-widget-bg-option dm-widget-drop-down-image-library" ng-class="{ \'active\': dmBgOptionsType == \'image\' }" ng-if="image">\n        <div class="dm-widget-drop-image-heading">Choose Image</div>\n        <div class="dm-widget-drop-body droppable-media-holder" style="padding:0px">\n            <div class="image-holder">\n                <div\n                    dm-wp-media-library\n                    dm-media-show=""\n                    dm-selected-image="dmBgOptionsImage">\n                </div>\n            </div>\n        </div>\n    </div>\n    <ul class="cp-navigation {{ navColsClass }}" ng-if="navigation">\n        <li ng-class="{ \'active\': dmBgOptionsType == \'color\' }" ng-if="opacity">\n            <span>\n                <i class="cp-nav-icon cp-nav-color" ng-style="{\'background-color\': dmBgOptionsColor}"></i>\n                <span>Color</span>\n            </span>\n            <a href="#" ng-click="changeVisibility(\'color\')" class="bg-options-nav-link" ng-show="dmBgOptionsType != \'color\'"></a>\n        </li>\n        <li ng-class="{ \'active\': dmBgOptionsType == \'gradient\' }" ng-if="gradient">\n            <span>\n                <i class="cp-nav-icon cp-nav-gradient" ng-style="gradientStyles()" dm-gradient-angle ng-model="dmBgOptionsAngle" >\n                    <span class="gradient-angle" ng-show="dmBgOptionsType == \'gradient\'" ng-style="createStyleString()">Gradient angle</span>\n                </i>\n                <span>Gradient</span>\n            </span>\n            <a href="#" ng-click="changeVisibility(\'gradient\')" class="bg-options-nav-link" ng-show="dmBgOptionsType != \'gradient\'"></a>\n        </li>\n        <li ng-class="{ \'active\': dmBgOptionsType == \'image\' }" ng-if="image">\n            <span>\n                <i class="cp-nav-icon cp-nav-image">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="39px" height="30px" viewBox="0 0 39 30" enable-background="new 0 0 39 30">\n                        <path fill="#52B2D8" d="M0 30l13.3-21.3 13.3 21.3zM19.9 30l9.5-15.3 9.6 15.3z"/>\n                        <circle fill="#52B2D8" cx="34" cy="5" r="5"/>\n                    </svg>\n                </i>\n                <span>Image</span>\n            </span>\n            <a href="#" ng-click="changeVisibility(\'image\')" class="bg-options-nav-link" ng-show="dmBgOptionsType != \'image\'"></a>\n        </li>\n    </ul>\n</div>\n'),a.put("../templates/ui-widgets/components/button-editor.directive/content.html",'<div ng-style="model[\'content-style\']">\n  <div ng-class="getClassString()" ng-style="model[\'button-style\']">\n    <div class="dm-text-editing-holder" ng-class="{isVisible: shownTools}">\n      <div anchor-editor data-html2canvas-ignore ng-show="shownAnchorEditor"></div>\n    </div>\n    <div contenteditable="true" spellcheck="false"></div>\n  </div>\n</div>\n'),a.put("../templates/ui-widgets/components/button-editor.directive/popover.html",'<div bindonce="includes" class="dm-widget dm-widget-text has-arrow" ng-class="{\'panel-opened\': changeHeading || changeFont || changeColor || changeBorder, \'inverted\': inverted, \'bottom\': bottomArrow, \'top\': !bottomArrow}">\n  <!-- Bold -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'bold\') !== -1" ng-click="execBold()">\n    <i class="dm-widget-icon" ng-class="{active: bold}">\n      <svg class="styleable" width="12" height="16" viewBox="0 0 12 16"><path d="M0 0L4.7 0C6.8 0 8.4 0.3 9.4 0.9 10.3 1.6 10.8 2.6 10.8 3.9 10.8 4.8 10.6 5.6 10.1 6.2 9.6 6.8 8.9 7.2 8 7.4L8 7.5C9.1 7.7 10 8.1 10.5 8.7 11 9.3 11.3 10.1 11.3 11.2 11.3 12.6 10.8 13.7 9.8 14.5 8.8 15.3 7.4 15.7 5.7 15.7L0 15.7 0 0ZM2.6 6.5L5 6.5C6.1 6.5 6.9 6.3 7.4 6 7.9 5.6 8.1 5.1 8.1 4.2 8.1 3.5 7.9 3 7.3 2.6 6.8 2.3 6 2.1 4.8 2.1L2.6 2.1 2.6 6.5ZM2.6 8.6L2.6 13.5 5.3 13.5C6.4 13.5 7.2 13.3 7.7 12.9 8.3 12.5 8.6 11.9 8.6 11 8.6 10.2 8.3 9.6 7.7 9.2 7.2 8.8 6.3 8.6 5.2 8.6L2.6 8.6Z"/></svg>\n    </i>\n  </button>\n\n  <!-- Italic -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'italic\') !== -1" ng-click="execItalic()">\n    <i class="dm-widget-icon" ng-class="{active: italic}">\n      <svg class="styleable" width="6" height="16" viewBox="0 0 6 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1"><g transform="translate(-247.000000, -233.000000)"><g transform="translate(177.000000, 216.000000)"><polygon points="70 32.7050781 73.3408203 17 75.8652344 17 72.5244141 32.7050781"></polygon></g></g></g></svg>\n    </i>\n  </button>\n\n  <!-- Alignment -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'justify\') !== -1" ng-click="execJustify()">\n    <i class="dm-widget-icon" ng-class="{active: justified}">\n      <svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M3 0L15 0 15 2 3 2 3 0ZM0 7L18 7 18 9 0 9 0 7ZM3 14L15 14 15 16 3 16 3 14Z"/></svg>\n    </i>\n  </button>\n\n  <!-- Link -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'anchor\') !== -1" ng-click="triggerLinkEditor()">\n    <i class="dm-widget-icon" ng-class="{active: existsLink}">\n      <svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"/></svg>\n    </i>\n  </button>\n\n  <!-- Color -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'color\') !== -1" ng-hide="inverted" ng-mouseup="toggleColorPicker($event)">\n    <i class="dm-widget-icon dm-widget-color-icon"><span class="dm-color-icon" ng-style="{background: commonColor}"></span></i>\n  </button>\n\n  <div class="dm-widget-panel js-panel-color" bo-if="includes.indexOf(\'color\') !== -1" ng-show="changeColor">\n    <div dm-colorpicker ng-model="commonColor" picker-id="color"></div>\n  </div>\n\n  <!--Border -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'border\') !== -1" ng-mouseup="triggerBorderEditor($event)">\n    <i class="dm-widget-icon">\n      <svg class="styleable" width="15" height="16" viewBox="0 0 15 16" xmlns="http://www.w3.org/2000/svg">\n        <g><path d="M1,3h2.3c0.3,0.6,1,1,1.7,1s1.4-0.4,1.7-1H15c0.5,0,1-0.5,1-1s-0.5-1-1-1H6.7C6.4,0.4,5.7,0,5,0S3.6,0.4,3.3,1H1\n		C0.5,1,0,1.4,0,2S0.5,3,1,3z"/><path d="M15,7h-1.3c-0.3-0.6-1-1-1.7-1s-1.4,0.4-1.7,1H1C0.5,7,0,7.4,0,8s0.5,1,1,1h9.3c0.3,0.6,1,1,1.7,1s1.4-0.4,1.7-1H15\n		c0.5,0,1-0.5,1-1S15.5,7,15,7z"/><path d="M15,13H6.7c-0.3-0.6-1-1-1.7-1s-1.4,0.4-1.7,1H1c-0.5,0-1,0.5-1,1s0.5,1,1,1h2.3c0.3,0.6,1,1,1.7,1s1.4-0.4,1.7-1H15\n		c0.5,0,1-0.5,1-1S15.5,13,15,13z"/></g>\n      </svg>\n    </i>\n  </button>\n  <!--Borders dropdown -->\n  <div class="dm-widget-panel js-panel-border dm-widget-button-editor" bo-if="includes.indexOf(\'border\') !== -1" ng-show="changeBorder">\n    <div class="dm-widget-panel-border">\n      <div class="dm-widget-panel-border-col-wrp border-bottom">\n        <div class="dm-widget-panel-border-col">\n          <span class="dm-widget-panel-border-label">Size vertical</span>\n          <span class="dm-widget-panel-border-icon first" style="top:21px">\n            <svg width="6px" height="13px" viewBox="0 0 6 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-201.000000, -755.000000)" fill="#B5B5B5"><g transform="translate(177.000000, 663.000000)"><g transform="translate(24.000000, 67.000000)"><g transform="translate(0.000000, 25.000000)"><path d="M4,9 L4,4 L2,4 L2,9 L0,9 L3,13 L6,9 L4,9 Z M3,0 L6,4 L0,4 L3,0 Z"></path></g></g></g></g></g></svg>\n          </span>\n          <div min="0" max="15" ui-slider ng-model="style[\'padding-y\']" class="bpadding-slider bpadding-slider-y"></div>\n        </div>\n        <div class="dm-widget-panel-border-col">\n          <span class="dm-widget-panel-border-label">Size horizontal</span>\n          <span class="dm-widget-panel-border-icon first" style="top:17px">\n            <svg width="13px" height="6px" viewBox="0 0 13 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-340.000000, -759.000000)" fill="#B5B5B5"><g transform="translate(177.000000, 663.000000)"><g transform="translate(163.000000, 67.000000)"><g transform="translate(6.500000, 32.000000) rotate(-270.000000) translate(-6.500000, -32.000000) translate(3.500000, 25.500000)"><path d="M2,9 L2,4 L0,4 L3,0 L6,4 L4,4 L4,9 L6,9 L3,13 L0,9 L2,9 Z"></path></g></g></g></g></svg>\n          </span>\n          <div min="0" max="15" ui-slider ng-model="style[\'padding-x\']" class="bpadding-slider bpadding-slider-x"></div>\n        </div>\n      </div>\n      <div class="dm-widget-panel-border-col-wrp border-bottom">\n        <div class="dm-widget-panel-border-col with-right-icon" style="width: 100%;">\n          <span class="dm-widget-panel-border-label">Round</span>\n          <span class="dm-widget-panel-border-icon first" ng-click="reduceBorderRadius()">\n            <svg height="22" width="22">\n              <rect x="6" y="6" width="9" height="9" stroke-width="2" fill="transparent" stroke="rgba(255, 255, 255, 0.7)"/>\n            </svg>\n          </span>\n          <div min="0" max="18" ui-slider ng-model="style[\'border-radius\']" class="bround-slider"></div>\n          <span class="dm-widget-panel-border-icon last" ng-click="increaseBorderRadius()">\n            <svg height="22" width="22">\n              <circle r="5" cx="11" cy="11" stroke-width="2" fill="transparent" stroke="rgba(255, 255, 255, 0.7)"></circle>\n            </svg>\n          </span>\n        </div>\n      </div>\n      <div class="dm-widget-panel-border-col-wrp">\n        <div class="dm-widget-panel-border-col with-right-icon">\n          <span class="dm-widget-panel-border-label">Thickness</span>\n          <span class="dm-widget-panel-border-icon first" ng-click="reduceBorderWidth()">\n            <svg height="22" width="22">\n              <circle r="5" cx="11" cy="11" stroke-width="1" fill="transparent" stroke="rgba(255, 255, 255, 0.7)"></circle>\n            </svg>\n          </span>\n          <div min="0" max="10" ui-slider ng-model="style[\'border-width\']" class="bwidth-slider"></div>\n          <span class="dm-widget-panel-border-icon last" ng-click="increaseBorderWidth()">\n            <svg height="22" width="22">\n              <circle r="5" cx="11" cy="11" stroke-width="3" fill="transparent" stroke="rgba(255, 255, 255, 0.7)"></circle>\n            </svg>\n          </span>\n        </div>\n        <div class="dm-widget-panel-border-col" style="padding:0px">\n          <div class="dm-widget-panel-border-subcol">\n            <span class="dm-widget-panel-border-label" style="text-align:center">Filled</span>\n            <label class="dm-custom-checkbox dm-custom-checkbox-round dm-custom-checkbox-small">\n              <input ng-model="backgroundVisibility" ng-change="backgroundVisibilityChange(backgroundVisibility)" type="checkbox" />\n              <span style="margin-top: 10px;"></span>\n            </label>\n          </div>\n          <div class="dm-widget-panel-border-subcol">\n            <span class="dm-widget-panel-border-label" style="text-align:center">Color</span>\n            <i class="dm-widget-icon dm-widget-color-icon" ng-click="colorpickerShow = !colorpickerShow; ChangePosition(colorpickerShow)" style="margin-top: 8px;padding:0"><span class="dm-color-icon" ng-style="{background: borderColor}"></span></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div dm-colorpicker ng-model="borderColor" picker-id="border" ng-show="colorpickerShow" ng-init="colorpickerShow = false" class="border-top"></div>\n  </div>\n\n  <!-- Font -->\n  <button class="dm-widget-item" bo-if="includes.indexOf(\'fonts\') !== -1" ng-click="triggerFontsEditor($event);" dm-nano-scroller>\n    <i class="dm-widget-icon">\n      <svg class="styleable" width="25" height="16" viewBox="0 0 25 16"><path d="M11.8 15.8L10.2 11.4 4.2 11.4 2.7 15.8 0 15.8 5.9 0 8.7 0 14.5 15.8 11.8 15.8ZM9.6 9.2L8.1 4.9C8 4.6 7.8 4.2 7.7 3.6 7.5 3 7.3 2.5 7.3 2.2 7.1 3.1 6.8 4.1 6.4 5.1L5 9.2 9.6 9.2ZM23.5 15.8L23.1 14.4 23 14.4C22.6 15 22.1 15.4 21.6 15.6 21.1 15.8 20.5 15.9 19.8 15.9 18.8 15.9 18.1 15.7 17.5 15.2 17 14.7 16.7 13.9 16.7 13 16.7 12 17.1 11.2 17.9 10.7 18.6 10.2 19.7 9.9 21.3 9.9L22.9 9.8 22.9 9.3C22.9 8.7 22.8 8.2 22.5 7.9 22.2 7.6 21.8 7.5 21.1 7.5 20.6 7.5 20.2 7.5 19.7 7.7 19.3 7.8 18.8 8 18.4 8.2L17.7 6.7C18.3 6.4 18.8 6.2 19.5 6.1 20.1 5.9 20.7 5.9 21.2 5.9 22.5 5.9 23.4 6.1 24 6.7 24.7 7.2 25 8.1 25 9.2L25 15.8 23.5 15.8ZM20.4 14.4C21.2 14.4 21.8 14.2 22.2 13.7 22.7 13.3 22.9 12.7 22.9 12L22.9 11.1 21.7 11.2C20.7 11.2 20 11.4 19.5 11.7 19.1 12 18.9 12.4 18.9 13 18.9 13.4 19 13.8 19.3 14 19.5 14.2 19.9 14.4 20.4 14.4Z"/></svg>\n    </i>\n  </button>\n\n  <!-- Fonts dropdown -->\n  <div class="dm-widget-panel js-panel-fonts" bo-if="includes.indexOf(\'fonts\') !== -1" ng-show="changeFont">\n    <div class="dm-widget-panel-font">\n      <div class="dm-widget-panel-font-col">\n        <span class="dm-widget-panel-font-icon first" ng-click="reduceFontSize()">\n          <svg width="9px" height="10px" viewBox="0 0 9 10" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g class="styleable" transform="translate(-251.000000, -199.000000)">\n                <g transform="translate(236.000000, 130.000000)">\n                  <g transform="translate(0.000000, 48.000000)">\n                    <path d="M22.424,27.776 C22.424,28.0213346 22.4293333,28.2693321 22.44,28.52 C22.4506667,28.7706679 22.4666666,28.9973323 22.488,29.2 L23.544,29.2 L23.544,30 L21.032,30 L20.872,28.48 L20.792,28.48 C20.7386664,28.6933344 20.6400007,28.9013323 20.496,29.104 C20.3519993,29.3066677 20.1706678,29.4879992 19.952,29.648 C19.7333322,29.8080008 19.4746682,29.9359995 19.176,30.032 C18.8773318,30.1280005 18.5466685,30.176 18.184,30.176 C17.8213315,30.176 17.4880015,30.1226672 17.184,30.016 C16.8799985,29.9093328 16.6160011,29.760001 16.392,29.568 C16.1679989,29.375999 15.9946673,29.1440014 15.872,28.872 C15.7493327,28.5999986 15.688,28.293335 15.688,27.952 C15.688,27.4293307 15.7973322,26.997335 16.016,26.656 C16.2346678,26.314665 16.5573312,26.0453343 16.984,25.848 C17.4106688,25.6506657 17.9439968,25.5093338 18.584,25.424 C19.2240032,25.3386662 19.9706624,25.2906667 20.824,25.28 C20.8453334,25.1093325 20.856,24.9466674 20.856,24.792 L20.856,24.336 C20.856,23.6746634 20.7440011,23.1706684 20.52,22.824 C20.2959989,22.4773316 19.8960029,22.304 19.32,22.304 C19.1066656,22.304 18.8773346,22.3146666 18.632,22.336 C18.3866654,22.3573334 18.1626677,22.4213328 17.96,22.528 L17.96,24 L16.52,24 L16.52,22.224 C16.9040019,22.0213323 17.3573307,21.8400008 17.88,21.68 C18.4026693,21.5199992 19.0159965,21.44 19.72,21.44 C20.328003,21.44 20.8159982,21.5173326 21.184,21.672 C21.5520018,21.8266674 21.8346657,22.0293321 22.032,22.28 C22.2293343,22.5306679 22.357333,22.8133318 22.416,23.128 C22.474667,23.4426682 22.504,23.7546651 22.504,24.064 C22.504,24.7360034 22.4906668,25.3786636 22.464,25.992 C22.4373332,26.6053364 22.424,27.1999971 22.424,27.776 L22.424,27.776 Z M18.92,29.104 C19.1760013,29.104 19.4053323,29.0640004 19.608,28.984 C19.8106677,28.9039996 19.9893326,28.8026673 20.144,28.68 C20.2986674,28.5573327 20.4319994,28.4213341 20.544,28.272 C20.6560006,28.1226659 20.749333,27.9786674 20.824,27.84 L20.824,25.936 C20.1306632,25.936 19.5680022,25.9813329 19.136,26.072 C18.7039978,26.1626671 18.3653346,26.2826659 18.12,26.432 C17.8746654,26.5813341 17.7066671,26.759999 17.616,26.968 C17.5253329,27.176001 17.48,27.3973322 17.48,27.632 C17.48,28.1120024 17.6079987,28.4773321 17.864,28.728 C18.1200013,28.9786679 18.4719978,29.104 18.92,29.104 L18.92,29.104 Z" id="size-small"></path>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n        <div min="1" max="7" ui-slider ng-model="classes[\'font-size\']"></div>\n        <span class="dm-widget-panel-font-icon last" ng-click="increaseFontSize()">\n          <svg width="11px" height="12px" viewBox="0 0 11 12" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-320.000000, -198.000000)">\n                <g transform="translate(236.000000, 130.000000)">\n                  <g transform="translate(0.000000, 48.000000)">\n                    <path d="M93.28,28.22 C93.28,28.5266682 93.2866666,28.8366651 93.3,29.15 C93.3133334,29.4633349 93.3333332,29.7466654 93.36,30 L94.68,30 L94.68,31 L91.54,31 L91.34,29.1 L91.24,29.1 C91.173333,29.366668 91.0500009,29.6266654 90.87,29.88 C90.6899991,30.1333346 90.4633347,30.359999 90.19,30.56 C89.9166653,30.760001 89.5933352,30.9199994 89.22,31.04 C88.8466648,31.1600006 88.4333356,31.22 87.98,31.22 C87.5266644,31.22 87.1100019,31.153334 86.73,31.02 C86.3499981,30.886666 86.0200014,30.7000012 85.74,30.46 C85.4599986,30.2199988 85.2433341,29.9300017 85.09,29.59 C84.9366659,29.2499983 84.86,28.8666688 84.86,28.44 C84.86,27.7866634 84.9966653,27.2466688 85.27,26.82 C85.5433347,26.3933312 85.946664,26.0566679 86.48,25.81 C87.013336,25.5633321 87.679996,25.3866672 88.48,25.28 C89.280004,25.1733328 90.213328,25.1133334 91.28,25.1 C91.3066668,24.8866656 91.32,24.6833343 91.32,24.49 L91.32,23.92 C91.32,23.0933292 91.1800014,22.4633355 90.9,22.03 C90.6199986,21.5966645 90.1200036,21.38 89.4,21.38 C89.133332,21.38 88.8466682,21.3933332 88.54,21.42 C88.2333318,21.4466668 87.9533346,21.526666 87.7,21.66 L87.7,23.5 L85.9,23.5 L85.9,21.28 C86.3800024,21.0266654 86.9466634,20.800001 87.6,20.6 C88.2533366,20.399999 89.0199956,20.3 89.9,20.3 C90.6600038,20.3 91.2699977,20.3966657 91.73,20.59 C92.1900023,20.7833343 92.5433321,21.0366651 92.79,21.35 C93.0366679,21.6633349 93.1966663,22.0166647 93.27,22.41 C93.3433337,22.8033353 93.38,23.1933314 93.38,23.58 C93.38,24.4200042 93.3633335,25.2233295 93.33,25.99 C93.2966665,26.7566705 93.28,27.4999964 93.28,28.22 L93.28,28.22 Z M88.9,29.88 C89.2200016,29.88 89.5066654,29.8300005 89.76,29.73 C90.0133346,29.6299995 90.2366657,29.5033341 90.43,29.35 C90.6233343,29.1966659 90.7899993,29.0266676 90.93,28.84 C91.0700007,28.6533324 91.1866662,28.4733342 91.28,28.3 L91.28,25.92 C90.413329,25.92 89.7100027,25.9766661 89.17,26.09 C88.6299973,26.2033339 88.2066682,26.3533324 87.9,26.54 C87.5933318,26.7266676 87.3833339,26.9499987 87.27,27.21 C87.1566661,27.4700013 87.1,27.7466652 87.1,28.04 C87.1,28.640003 87.2599984,29.0966651 87.58,29.41 C87.9000016,29.7233349 88.3399972,29.88 88.9,29.88 L88.9,29.88 Z" id="size-big"></path>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </div>\n      <div class="dm-widget-panel-font-col">\n        <span class="dm-widget-panel-font-icon first" ng-click="reduceLineHeight()">\n          <svg width="7px" height="6px" viewBox="0 0 7 6" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-368.000000, -201.000000)">\n                <g transform="translate(236.000000, 130.000000)">\n                  <g id="Group" transform="translate(0.000000, 48.000000)">\n                    <g transform="translate(132.000000, 22.000000)">\n                      <path d="M1.00292933,1 C0.449026756,1 0,1.44386482 0,2 L0,2 C0,2.55228475 0.437881351,3 1.00292933,3 L5.99707067,3 C6.55097324,3 7,2.55613518 7,2 L7,2 C7,1.44771525 6.56211865,1 5.99707067,1 L1.00292933,1 Z M1.00292933,5 C0.449026756,5 0,5.44386482 0,6 L0,6 C0,6.55228475 0.437881351,7 1.00292933,7 L5.99707067,7 C6.55097324,7 7,6.55613518 7,6 L7,6 C7,5.44771525 6.56211865,5 5.99707067,5 L1.00292933,5 Z"></path>\n                    </g>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n        <div min="1" max="7" ui-slider ng-model="classes[\'line-height\']"></div>\n        <span class="dm-widget-panel-font-icon last" ng-click="increaseLineHeight()">\n          <svg width="7px" height="8px" viewBox="0 0 7 8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-434.000000, -200.000000)">\n                <g transform="translate(236.000000, 130.000000)">\n                  <g transform="translate(0.000000, 48.000000)">\n                    <g transform="translate(132.000000, 22.000000)" id="line-height-big">\n                      <path d="M67.0029293,0 C66.4490268,0 66,0.443864822 66,1 L66,1 C66,1.55228475 66.4378814,2 67.0029293,2 L71.9970707,2 C72.5509732,2 73,1.55613518 73,1 L73,1 C73,0.44771525 72.5621186,0 71.9970707,0 L67.0029293,0 Z M67.0029293,6 C66.4490268,6 66,6.44386482 66,7 L66,7 C66,7.55228475 66.4378814,8 67.0029293,8 L71.9970707,8 C72.5509732,8 73,7.55613518 73,7 L73,7 C73,6.44771525 72.5621186,6 71.9970707,6 L67.0029293,6 Z"></path>\n                    </g>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </span>\n      </div>\n    </div>\n    <div class="dm-widget-panel-font-list nano">\n      <div class="nano-content">\n        <ul ng-click="selectFont($event)">\n          <li bindonce ng-repeat="font in fonts" >\n            <button>\n              <span bo-style="{\'font-family\': font.value}" bo-bind="font.key" ng-class="{\'active\': font.key == visibleFont}"></span>\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("../templates/ui-widgets/components/cover/btnimg.html",'<i class="dm-widget-icon">\n    <svg fill="rgba(255,255,255,.9)" class="styleable" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c0-3 2.5-5.5 5.5-5.5S23 9 23 12H12zm0 0c0 3-2.5 5.5-5.5 5.5S1 15 1 12h11zm0 0c-3 0-5.5-2.5-5.5-5.5S9 1 12 1v11zm0 0c3 0 5.5 2.5 5.5 5.5S15 23 12 23V12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\n</i>\n<div class="dm-widget-drop-down has-arrow">\n    <div class="dm-widget-drop-heading">\n        Choose button picture\n    </div>\n    <div class="dm-widget-drop-body">\n        <div>\n            <input type="checkbox" ng-attr-id="dm_button_apple[[ inputId ]]" ng-checked="dmCoverBtnimg.image==\'apple\'" ng-model="dmCoverBtnimg.image" ng-change="changeButtonImage(\'apple\')">\n            <label ng-class="{checked: dmCoverBtnimg.image==\'apple\'}" ng-attr-for="dm_button_apple[[ inputId ]]">App Store</label>\n        </div>\n        <div>\n            <input type="checkbox" ng-attr-id="dm_button_google[[ inputId ]]" ng-checked="dmCoverBtnimg.image==\'google\'" ng-model="dmCoverBtnimg.image" ng-change="changeButtonImage(\'google\')">\n            <label ng-class="{checked: dmCoverBtnimg.image==\'google\'}" ng-attr-for="dm_button_google[[ inputId ]]">Google Play</label>\n        </div>\n        <div>\n            <input type="checkbox" ng-attr-id="dm_button_win[[ inputId ]]" ng-checked="dmCoverBtnimg.image==\'windows\'" ng-model="dmCoverBtnimg.image" ng-change="changeButtonImage(\'windows\')">\n            <label ng-class="{checked: dmCoverBtnimg.image==\'windows\'}" ng-attr-for="dm_button_win[[ inputId ]]">Windows Store</label>\n        </div>\n    </div>\n</div>'),a.put("../templates/ui-widgets/components/cover/link.html",'<i class="dm-widget-icon" ng-class="{isLink: dmCoverLink.url}">\n    <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16" height="16" fill="rgba(255,255,255,.9)"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"></path></svg>\n</i>\n<div class="dm-widget-drop-down">\n    <div class="dm-widget-drop-heading">\n        <span>Set the link</span>\n        <a href="" ng-show="dmCoverLink.url" ng-click="removeLink()" class="grid-remove-link">\n            <i class="dm-widget-icon">\n                <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"></path></svg>\n            </i>\n        </a>\n    </div>\n    <div class="dm-widget-drop-body">\n        <div><input class="url-input" type="text" placeholder="Set the Link" ng-model="dmCoverLink.url" ng-keyup="insertLink($event)"></div>\n        <div><input type="checkbox" id="{{ inputIdNewTab }}" ng-model="dmCoverLink.target" ng-checked="dmCoverLink.target"><label for="{{ inputIdNewTab }}" ng-class="{\'checked\': dmCoverLink.target}">Show in New Tab</label></div>\n    </div>\n</div>\n'),
a.put("../templates/ui-widgets/components/dm-colorpicker.directive/layout.html",'<div class="cp-background-holder">\n  <div class="cp-background-wrapper">\n    <div class="cp-background-main-holder">\n      <div class="cp-background-main">\n        <div class="cp-background-handle"></div>\n      </div>\n    </div>\n    <div class="cp-background-bar-holder">\n      <div class="cp-background-bar">\n        <div class="cp-background-bar-handle-holder">\n          <div class="cp-background-bar-handle"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="cp-background-label cp-background-hex">\n    <input type="text" spellcheck="false" ng-model="hex2" class="cp-background-hex-input" onclick="this.setSelectionRange(1, this.value.length)">\n  </div>\n</div>\n'),a.put("../templates/ui-widgets/components/dm-gradient.directive/layout.html",'<div class="dm-widget-drop-head">\n  <div class="cp-gradient-handles">\n    <div\n      class="cp-gradient"\n      ng-mousedown="sliderDown($event)">\n      <div class="cp-gradient-handle-holder">\n        <div\n          ng-repeat="g in gradient"\n          class="cp-gradient-handle"\n          ng-class="{active: g.active}"\n          ng-style="{left: g.x + \'%\'}"\n          ng-mousedown="handleDown(g, $event)">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class="dm-widget-drop-body">\n  <div dm-colorpicker ng-model="notPresented" is-in-gradient="true"></div>\n</div>\n'),a.put("../templates/ui-widgets/components/dm-image.directive/layout.html",'<div class="dm-widget-drop-head">\n    Image\n</div>\n<div class="dm-widget-drop-body">\n    Body\n</div>\n'),a.put("../templates/ui-widgets/components/dm-opacity.directive/layout.html",'<div class="cp-opacity-holder">\n  <span class="left" ng-click="changeOpacity(0)"></span>\n  <div class="cp-opacity-plain"></div>\n  <div\n    class="cp-opacity"\n    ng-style="opacityStyles()"\n    ng-mousedown="down($event)">\n    <div class="cp-opacity-handle-holder">\n        <div class="cp-opacity-handle" ng-style="{left: left}"></div>\n    </div>\n  </div>\n  <span class="right" ng-click="changeOpacity(1)" ng-style="{\'background\': dmBgOpacityColor}"></span>\n</div>\n'),a.put("../templates/ui-widgets/components/footer.directive/footer.html",'<i class="dm-widget-icon" ng-hide="showReplacedDropDown">\n    <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path fill="rgba(255,255,255,.9)" d="M14 11v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7zm7-7v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7z"/></svg>\n</i>\n<div class="dm-widget-replace-panel" ng-show="showReplacedDropDown">\n    <div>\n        <div class="dm-widget-row">\n            <h2 class="dm-widget-row-title dm-widget-selectivizr-button" ng-click="showSelectivizr = !showSelectivizr">\n                <div class="dm-widget-selectivizr">\n                    <i class="dm-widget-selectivizr-icon">\n                        <span ng-show="dmFooterAlign == \'left\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-790.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M18,17 L29,17 L29,19 L18,19 L18,17 Z M18,24 L37,24 L37,26 L18,26 L18,24 Z M18,31 L29,31 L29,33 L18,33 L18,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                        <span ng-show="dmFooterAlign == \'center\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-846.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M78,17 L89,17 L89,19 L78,19 L78,17 Z M74,24 L93,24 L93,26 L74,26 L74,24 Z M78,31 L89,31 L89,33 L78,33 L78,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                        <span ng-show="dmFooterAlign == \'right\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-902.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M138,17 L149,17 L149,19 L138,19 L138,17 Z M130,24 L149,24 L149,26 L130,26 L130,24 Z M138,31 L149,31 L149,33 L138,33 L138,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                    </i>\n                    <ul class="dm-widget-selectivizr-list" ng-show="showSelectivizr">\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmFooterAlign == \'left\' }" ng-click="changeSelectivizr(\'left\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-790.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M18,17 L29,17 L29,19 L18,19 L18,17 Z M18,24 L37,24 L37,26 L18,26 L18,24 Z M18,31 L29,31 L29,33 L18,33 L18,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmFooterAlign == \'center\' }" ng-click="changeSelectivizr(\'center\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-846.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M78,17 L89,17 L89,19 L78,19 L78,17 Z M74,24 L93,24 L93,26 L74,26 L74,24 Z M78,31 L89,31 L89,33 L78,33 L78,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmFooterAlign == \'right\' }" ng-click="changeSelectivizr(\'right\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-902.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M138,17 L149,17 L149,19 L138,19 L138,17 Z M130,24 L149,24 L149,26 L130,26 L130,24 Z M138,31 L149,31 L149,33 L138,33 L138,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                    </ul>\n                </div>\n                Align\n            </h2>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmFooterBrandVisibility" ng-checked="dmFooterBrandVisibility" ng-disabled="dmFooterBrandVisibility" type="checkbox" />\n                <span></span>\n                Show Logo\n            </label>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmFooterTextVisibility" ng-checked="dmFooterTextVisibility" ng-disabled="dmFooterTextVisibility" type="checkbox" />\n                <span></span>\n                Show Text\n            </label>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmFooterLinksVisibility" ng-checked="dmFooterLinksVisibility" ng-disabled="dmFooterLinksVisibility" type="checkbox" />\n                <span></span>\n                Show Links\n            </label>\n        </div>\n        <div class="dm-widget-row dm-widget-row-bottom" ng-show="dmFooterLinksVisibility">\n            <a ng-href="[[ dmFooterExternalNav ]]" target="_blank" class="dm-widget-button">Edit Menu Items</a>\n        </div>\n    </div>\n</div>\n'),a.put("../templates/ui-widgets/components/grid/addItem.html",'<a href="" class="addCols" ng-click="addColumn()">\n	<i class="dm-widget-icon">\n		<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path d="M16 7h-7v-7h-2v7h-7v2h7v7h2v-7h7z"></path></svg>\n	</i>\n</a>\n'),a.put("../templates/ui-widgets/components/grid/columns.html",'<i class="dm-widget-icon">\n	<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 14 16" enable-background="new 0 0 14 16"><path d="M0 0h2v16h-2zm6 0h2v16h-2zm6 0h2v16h-2z"/></svg>\n</i>\n<div class="dm-widget-drop-down">\n	<div class="dm-widget-drop-heading"><span>Columns</span></div>\n	<div class="dm-widget-drop-body">\n		<div ui-slider ng-model="dmGridColumns" min="2" max="4"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 50%;">[[dmGridColumns]]</span></div>\n	</div>\n</div>\n'),a.put("../templates/ui-widgets/components/grid/duplicateItem.html",'<a href="" class="duplicateCols" ng-click="duplicateColumn(dmGridDuplicate)" tabindex="-1">\n	<i class="dm-widget-icon">\n		<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path d="M2 14v-10h-2v12h12v-2zM14 2v8h-8v-8h8m2-2h-12v12h12v-12z"/></svg>\n	</i>\n</a>\n'),a.put("../templates/ui-widgets/components/grid/layout.html",'<i class="dm-widget-icon">\n  <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path fill="rgba(255,255,255,.9)" d="M14 11v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7zm7-7v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7z"/></svg>\n</i>\n<div class="dm-widget-drop-down has-arrow">\n  <div class="dm-widget-drop-heading">\n    <span ng-show="!showEls && !showHeight">Layout</span>\n    <span class="dm-widget-drop-heading-btn" ng-show="showEls" ng-click="showEls = !showEls">Elements</span>\n    <span  class="dm-widget-drop-heading-btn" ng-show="showHeight" ng-click="showHeight = !showHeight">Media Height</span>\n  </div>\n  <div class="dm-widget-drop-body">\n    <div ng-show="!showEls && !showHeight">\n      <a href="#" class="dm-widget-btn-arrow" ng-click="showEls = !showEls">Elements</a>\n    </div>\n    <div ng-show="!showEls && !showHeight && dmGridLayout.image.value">\n      <a href="#" class="dm-widget-btn-arrow" ng-click="showHeight = !showHeight">\n        Media Height\n        <span class="dm-widget-btn-arrow-label">[[ dmGridImgHeight ]]</span>\n      </a>\n    </div>\n    <div ng-show="showEls" ng-repeat="(elval,el) in layout track by $index">\n      <input type="checkbox" ng-attr-id="[[ el + componentId ]]" ng-checked="dmGridLayout[el].value" ng-change="elsChanged()" ng-model="dmGridLayout[el].value" ng-true-value="1" ng-false-value="">\n      <label ng-class="{checked: dmGridLayout[el].value}" ng-attr-for="[[ el + componentId ]]">[[dmGridLayout[el].label]]</label>\n    </div>\n    <div style="display: none;"></div>\n    <div ng-show="!showEls && !showHeight" class="dm-grid-seamless-ui">\n      <input type="checkbox" ng-attr-id="[[ \'seamless\' + componentId ]]" ng-change="layoutChanged()" ng-checked="dmGridSeamless.value" ng-model="dmGridSeamless.value" ng-true-value="1" ng-false-value="">\n      <label ng-class="{checked: dmGridSeamless.value}" ng-attr-for="[[ \'seamless\' + componentId ]]">[[dmGridSeamless.label]]</label>\n    </div>\n    <div ng-show="showHeight" ui-slider ng-model="dmGridImgHeight" min="1" max="5" class="grid-img-height-slider">\n      <div class="ui-slider-handle-holder">\n        <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 50%;">[[dmGridImgHeight]]</span>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("../templates/ui-widgets/components/grid/link.html",'<i class="dm-widget-icon" ng-class="{isLink: dmGridLink.url}">\n    <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16" height="16" fill="rgba(255,255,255,.9)"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"></path></svg>\n</i>\n<div class="dm-widget-drop-down">\n    <div class="dm-widget-drop-heading">\n        <span>Set the link</span>\n        <a href="" ng-show="dmGridLink.url" ng-click="removeLink()" class="grid-remove-link">\n            <i class="dm-widget-icon">\n                <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"></path></svg>\n            </i>\n        </a>\n    </div>\n    <div class="dm-widget-drop-body">\n        <div><input class="url-input" type="text" placeholder="Set the Link" ng-model="dmGridLink.url" ng-keyup="insertLink($event)"></div>\n        <div ng-show="!dmGridLinkLayout"><input type="checkbox" id="{{ inputId }}" ng-model="dmGridLink.bottom" ng-checked="dmGridLink.bottom"><label for="{{ inputId }}" ng-class="{\'checked\': dmGridLink.bottom}">Bottom Link</label></div>\n        <div><input type="checkbox" id="{{ inputIdNewTab }}" ng-model="dmGridLink.target" ng-checked="dmGridLink.target"><label for="{{ inputIdNewTab }}" ng-class="{\'checked\': dmGridLink.target}">Show in New Tab</label></div>\n    </div>\n</div>\n'),a.put("../templates/ui-widgets/components/grid/removeItem.html",'<a href="" class="removeCols" ng-click="removeColumn(dmGridRemove)" tabindex="-1">\n	<i class="dm-widget-icon">\n		<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"></path></svg>\n	</i>\n</a>\n<div class="dm-widget-modal" ng-show="isClicked">\n	<div class="dm-widget-modal-inner-holder">\n		<div class="dm-widget-modal-inner">\n			<div class="dm-widget-modal-box">\n				<div class="dm-widget-modal-heading"><span>Removing</span></div>\n				<div class="dm-widget-modal-body">\n					<p>Are you sure you want to remove this item?</p>\n					<a href="" ng-click="removeCancel()">No</a>\n					<a href="" ng-click="removeConfirm()">Remove</a>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n'),a.put("../templates/ui-widgets/components/grid/srtbl.html",'<i class="dm-widget-icon">\n    <svg class="styleable" ng-non-bindable xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" style="fill: rgba(255,255,255,.9);">\n        <path d="M0 9h7v7h-7zM14.6 4.9l1.1-1.5c.5-.6.3-1.4-.3-1.4h-5.6c-.6 0-1 .8-.7 1.4l2.1 4.3c.2.5.9.5 1.3 0l.9-1.1c.3.4.6 1 .6 2 0 2.1-.8 2.9-2.4 3.6-.5.2-.7.8-.5 1.3.2.4.5.6.9.6.1 0 .3 0 .4-.1 1.8-.8 3.6-2.1 3.6-5.4 0-1.9-.7-3-1.4-3.7zM0 7h7v-7h-7v7zm2-5h3v3h-3v-3z"/>\n    </svg>\n</i>'),a.put("../templates/ui-widgets/components/image.directive/layout.html",'<i class="dm-widget-icon">\n    <svg class="styleable" ng-show="showIcon(\'full\')" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM4 4h12v8h-12z"/></svg>\n    <svg class="styleable" ng-show="showIcon(\'medium\')" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM4 6h12v4h-12z"/></svg>\n    <svg class="styleable" ng-show="showIcon(\'small\')" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM7 6h6v4h-6z"/></svg>\n</i>\n<div class="dm-widget-drop-down dm-widget-drop-down-image-layout">\n	<ul>\n		<li>\n            <button data-type="full" ng-class="{ \'active\': showIcon(\'full\') }">\n                <svg class="styleable" width="40px" height="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 32" enable-background="new 0 0 40 32"><path d="M36 4v24h-32v-24h32m2-4h-36c-1.1 0-2 .9-2 2v28c0 1.1.9 2 2 2h36c1.1 0 2-.9 2-2v-28c0-1.1-.9-2-2-2zM8 8h24v16h-24z"/></svg>\n            </button>\n        </li>\n        <li>\n            <button data-type="medium" ng-class="{ \'active\': showIcon(\'medium\') }">\n                <svg class="styleable" width="40px" height="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 32" enable-background="new 0 0 40 32"><path d="M36 4v24h-32v-24h32m2-4h-36c-1.1 0-2 .9-2 2v28c0 1.1.9 2 2 2h36c1.1 0 2-.9 2-2v-28c0-1.1-.9-2-2-2zM8 12h24v8h-24z"/></svg>\n            </button>\n        </li>\n        <li>\n            <button data-type="small" ng-class="{ \'active\': showIcon(\'small\') }">\n                <svg class="styleable" width="40px" height="32px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 32" enable-background="new 0 0 40 32"><path d="M36 4v24h-32v-24h32m2-4h-36c-1.1 0-2 .9-2 2v28c0 1.1.9 2 2 2h36c1.1 0 2-.9 2-2v-28c0-1.1-.9-2-2-2zM13 12h14v8h-14z"/></svg>\n            </button>\n        </li>\n	</ul>\n</div>'),a.put("../templates/ui-widgets/components/image.directive/link.html",'<i class="dm-widget-icon dm-widget-icon-image-link" ng-class="{ \'active\': hasLink }" ng-hide="showReplacedDropDown">\n    <svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"/></svg>\n</i>\n<div\n	ng-class="{\n		\'valid\': validLink,\n		\'dm-widget-replace-panel dm-widget-drop-down-image-link\': showReplacedDropDown,\n		\'dm-widget-drop-down dm-widget-drop-down-image-link\': !showReplacedDropDown }">\n	<input class="dm-widget-drop-down-image-link-text" type="text" placeholder="Set the Link" />\n	<button ng-click="addLink()">\n		<svg class="styleable" width="15px" height="12px" viewBox="0 0 15 12" version="1.1" xmlns="http://www.w3.org/2000/svg">\n			<g transform="translate(-854.000000, -195.000000)">\n				<g transform="translate(594.000000, 169.000000)">\n					<path d="M274.061033,26 C273.497653,26 273.122066,26.4 273.122066,27 L273.122066,32 L263.169014,32 L265.328638,29.7 C265.704225,29.3 265.704225,28.7 265.328638,28.3 C264.953052,27.9 264.389671,27.9 264.014085,28.3 L260.258216,32.3 C260.164319,32.4 260.070423,32.5 260.070423,32.6 C259.976526,32.9 259.976526,33.1 260.070423,33.4 L260.258216,33.7 L264.014085,37.7 C264.201878,37.9 264.389671,38 264.671362,38 C264.953052,38 265.140845,37.9 265.328638,37.7 C265.704225,37.3 265.704225,36.7 265.328638,36.3 L263.169014,34 L274.061033,34 C274.624413,34 275,33.6 275,33 L275,27 C275,26.4 274.624413,26 274.061033,26 L274.061033,26 Z" id="Shape-3"></path>\n	            </g>\n	        </g>\n		</svg>\n	</button>\n</div>\n'),a.put("../templates/ui-widgets/components/menu.directive/menu.html",'<i class="dm-widget-icon" ng-hide="showReplacedDropDown">\n    <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path fill="rgba(255,255,255,.9)" d="M14 11v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7zm7-7v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7z"/></svg>\n</i>\n<div class="dm-widget-replace-panel" ng-show="showReplacedDropDown">\n    <div>\n        <div class="dm-widget-row" ng-show="dmMenuLinksVisibility">\n            <h2 class="dm-widget-row-title dm-widget-selectivizr-button" ng-click="showSelectivizr = !showSelectivizr">\n                <div class="dm-widget-selectivizr">\n                    <i class="dm-widget-selectivizr-icon">\n                        <span ng-show="dmMenuLinksAlign == \'left\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-790.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M18,17 L29,17 L29,19 L18,19 L18,17 Z M18,24 L37,24 L37,26 L18,26 L18,24 Z M18,31 L29,31 L29,33 L18,33 L18,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                        <span ng-show="dmMenuLinksAlign == \'center\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-846.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M78,17 L89,17 L89,19 L78,19 L78,17 Z M74,24 L93,24 L93,26 L74,26 L74,24 Z M78,31 L89,31 L89,33 L78,33 L78,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                        <span ng-show="dmMenuLinksAlign == \'right\'">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-902.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M138,17 L149,17 L149,19 L138,19 L138,17 Z M130,24 L149,24 L149,26 L130,26 L130,24 Z M138,31 L149,31 L149,33 L138,33 L138,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </span>\n                    </i>\n                    <ul class="dm-widget-selectivizr-list" ng-show="showSelectivizr">\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmMenuLinksAlign == \'left\' }" ng-click="changeSelectivizr(\'left\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-790.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M18,17 L29,17 L29,19 L18,19 L18,17 Z M18,24 L37,24 L37,26 L18,26 L18,24 Z M18,31 L29,31 L29,33 L18,33 L18,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmMenuLinksAlign == \'center\' }" ng-click="changeSelectivizr(\'center\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-846.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M78,17 L89,17 L89,19 L78,19 L78,17 Z M74,24 L93,24 L93,26 L74,26 L74,24 Z M78,31 L89,31 L89,33 L78,33 L78,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                        <li class="dm-widget-selectivizr-item" ng-class="{ \'active\': dmMenuLinksAlign == \'right\' }" ng-click="changeSelectivizr(\'right\', $event)">\n                            <svg width="19px" height="16px" viewBox="0 0 19 16" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                    <g class="selectivizr-icon" transform="translate(-902.000000, -152.000000)">\n                                        <g transform="translate(772.000000, 135.000000)">\n                                            <g>\n                                                <path d="M138,17 L149,17 L149,19 L138,19 L138,17 Z M130,24 L149,24 L149,26 L130,26 L130,24 Z M138,31 L149,31 L149,33 L138,33 L138,31 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </svg>\n                        </li>\n                    </ul>\n                </div>\n                Align Items\n            </h2>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmMenuButtonVisibility" ng-checked="dmMenuButtonVisibility" type="checkbox" />\n                <span></span>\n                Show Button\n            </label>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmMenuLinksVisibility" ng-checked="dmMenuLinksVisibility" type="checkbox" />\n                <span></span>\n                Show Items\n            </label>\n        </div>\n        <div class="dm-widget-row">\n            <label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n                <input ng-model="dmMenuSticky" ng-checked="dmMenuSticky" type="checkbox" />\n                <span></span>\n                Stick to Top\n            </label>\n        </div>\n        <div class="dm-widget-row dm-widget-row-bottom" ng-show="dmMenuLinksVisibility">\n            <a ng-href="[[ dmMenuExternalNav ]]" target="_blank" class="dm-widget-button">Edit Menu Items</a>\n        </div>\n    </div>\n</div>\n'),a.put("../templates/ui-widgets/components/section-anchor-editor.directive/editor.html",'<div class="dm-widget-popover dm-widget-popover-link-settings">\n    <div class="dm-widget-row-title">Set an Anchor</div>\n    <div class="dm-widget-info">saved</div>\n    <input class="dm-video-settings-text" type="text" placeholder="anchor" ng-model="anchorValue" />\n</div>\n'),
a.put("../templates/ui-widgets/components/text-editing-e.directive/content.html",'<div>\n	<div class="dm-text-editing-holder" ng-class="{isVisible: shownTools}"></div>\n	<div dm-tinymce ng-model="ngModel" contenteditable="true" spellcheck="false"></div>\n</div>\n'),a.put("../templates/ui-widgets/components/text-editing-e.directive/popover.html","<div bindonce=\"includes\" class=\"dm-widget dm-widget-text has-arrow\" ng-style=\"{'min-width' : extraPanel == 'color' ? '385px' : '50px' }\" ng-class=\"{'panel-opened':  extraPanel=='fonts' || extraPanel=='color' || extraPanel=='link1', 'inverted': inverted, 'bottom': bottomArrow, 'top': !bottomArrow}\">\n	<!-- Bold -->\n	<button class=\"dm-widget-item\" bo-if=\"includes.indexOf('bold') !== -1\" ng-click=\"execCommand('bold')\" ng-hide=\"extraPanel && extraPanel!='fonts'\">\n"+'		<i class="dm-widget-icon" ng-class="{active: styling.bold}">\n			<svg class="styleable" width="12" height="16" viewBox="0 0 12 16"><path d="M0 0L4.7 0C6.8 0 8.4 0.3 9.4 0.9 10.3 1.6 10.8 2.6 10.8 3.9 10.8 4.8 10.6 5.6 10.1 6.2 9.6 6.8 8.9 7.2 8 7.4L8 7.5C9.1 7.7 10 8.1 10.5 8.7 11 9.3 11.3 10.1 11.3 11.2 11.3 12.6 10.8 13.7 9.8 14.5 8.8 15.3 7.4 15.7 5.7 15.7L0 15.7 0 0ZM2.6 6.5L5 6.5C6.1 6.5 6.9 6.3 7.4 6 7.9 5.6 8.1 5.1 8.1 4.2 8.1 3.5 7.9 3 7.3 2.6 6.8 2.3 6 2.1 4.8 2.1L2.6 2.1 2.6 6.5ZM2.6 8.6L2.6 13.5 5.3 13.5C6.4 13.5 7.2 13.3 7.7 12.9 8.3 12.5 8.6 11.9 8.6 11 8.6 10.2 8.3 9.6 7.7 9.2 7.2 8.8 6.3 8.6 5.2 8.6L2.6 8.6Z"/></svg>\n		</i>\n	</button>\n\n	<!-- Italic -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'italic\') !== -1" ng-click="execCommand(\'italic\')" ng-hide="extraPanel && extraPanel!=\'fonts\'">\n		<i class="dm-widget-icon" ng-class="{active: styling.italic}">\n			<svg class="styleable" width="6" height="16" viewBox="0 0 6 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1"><g transform="translate(-247.000000, -233.000000)"><g transform="translate(177.000000, 216.000000)"><polygon points="70 32.7050781 73.3408203 17 75.8652344 17 72.5244141 32.7050781"></polygon></g></g></g></svg>\n		</i>\n	</button>\n\n	<!-- Underline -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'underline\') !== -1" ng-click="execCommand(\'underline\')" ng-hide="extraPanel && extraPanel!=\'fonts\'">\n		<i class="dm-widget-icon" ng-class="{active: styling.underline}">\n			<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="12" height="16" viewBox="0 0 12 16"><path d="M10.7 0L10.7 7.4C10.7 8.2 10.5 9 10.2 9.6 9.8 10.2 9.2 10.7 8.5 11.1 7.8 11.4 7 11.6 6 11.6 4.5 11.6 3.4 11.2 2.6 10.4 1.8 9.7 1.4 8.7 1.4 7.4L1.4 0 3.8 0 3.8 7C3.8 7.9 4 8.5 4.3 8.9 4.7 9.3 5.2 9.5 6.1 9.5 6.9 9.5 7.4 9.3 7.8 8.9 8.1 8.5 8.3 7.9 8.3 7L8.3 0 10.7 0ZM0 13.4L12 13.4 12 15.4 0 15.4 0 13.4Z"/></svg>\n		</i>\n	</button>\n\n	<!-- Quote -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'quote\') !== -1" ng-click="execQuote()" ng-hide="extraPanel" title="Insert Quote">\n		<i class="dm-widget-icon" ng-class="{active: styling.isQuote}">\n			<svg class="styleable" width="16" height="14" viewBox="0 0 16 14"><path d="M0.8 13.6L0.8 11.8C2.3 11.4 3.1 9.6 3.1 6.4L3.1 5.9 0.8 5.9 0.8 0 6.7 0 6.7 5.1C6.7 10.4 4.7 13.2 0.8 13.6ZM10.1 13.6L10.1 11.8C11.6 11.4 12.4 9.6 12.4 6.4L12.4 5.9 10.1 5.9 10.1 0 16 0 16 5.1C16 10.4 14 13.2 10.1 13.6Z"/></svg>\n		</i>\n	</button>\n\n	<!-- Heading -->\n	<!--<button class="dm-widget-item dm-widget-headings dm-widget-headings-h3" bo-if="includes.indexOf(\'heading\') !== -1" ng-click="triggerHeadingEditor($event);" ng-hide="extraPanel">\n		<i class="dm-widget-icon" ng-class="{active: selectedH1 || selectedHero || selectedSmall}">\n			<svg ng-show="(h1 || (!hero && !small) || selectedH1) && !selectedHero && !selectedSmall" class="styleable dm-widget-icon-h1" width="26" height="16" viewBox="0 0 26 16" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm19.191 0h5.775v-.99h-2.145v-8.625h-1.05c-.435.795-1.575 1.245-2.655 1.185v.81c.24.09.72.15 1.035.15.465 0 .915-.09 1.185-.21v6.69h-2.145v.99z"/></svg>\n			<svg ng-show="hero || selectedHero" class="styleable dm-widget-icon-h2" width="27" height="17" viewBox="0 0 27 17" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm18.966-.855c0 .615.36 1.095.96 1.095.495 0 .84-.39.84-.84 0-.18-.06-.345-.135-.45l.27-.03c.975 0 1.665 1.32 3.045 1.32 1.155 0 1.98-.855 2.22-3.135l-.75-.075c-.33 1.32-.6 1.8-1.23 1.8-.6 0-1.455-.78-2.52-.78-.405 0-.945.12-1.335.36l-.03-.06c.36-.645.84-1.185 2.52-1.995 1.935-.93 2.955-1.815 2.955-3.27 0-1.47-1.11-2.835-3.225-2.835-1.98 0-3.39 1.29-3.39 2.67 0 .675.45 1.2 1.095 1.2.63 0 1.02-.465 1.02-1.05 0-.465-.285-.825-.75-.99.315-.57.975-.915 1.815-.915 1.155 0 1.83.72 1.83 1.815 0 1.38-.615 1.86-2.445 2.955-1.86 1.11-2.76 2.22-2.76 3.21z"/></svg>\n			<svg ng-show="small || selectedSmall" class="styleable dm-widget-icon-h3" width="27" height="17" viewBox="0 0 27 17" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm22.041.24c2.22 0 3.63-1.29 3.63-2.835 0-1.245-1.065-2.235-2.97-2.325v-.045c1.935-.345 2.745-1.41 2.745-2.4 0-1.275-1.125-2.385-3.165-2.385-1.89 0-3.24 1.065-3.24 2.22 0 .675.48 1.125 1.035 1.125.63 0 .945-.495.945-.975 0-.42-.27-.75-.6-.9.315-.3.915-.57 1.725-.57 1.035 0 1.665.555 1.665 1.59 0 1.065-.51 1.92-2.49 1.92h-.345v.885h.42c2.04 0 2.64.795 2.64 1.92 0 1.095-.57 1.875-1.98 1.875-.75 0-1.335-.21-1.665-.54.225-.195.45-.495.45-.87 0-.51-.345-.975-.93-.975-.66 0-1.11.54-1.11 1.14 0 1.23 1.395 2.145 3.24 2.145z"/></svg>\n		</i>\n	</button>-->\n\n	<!-- Panel for selecting Heading -->\n	<span bo-if="includes.indexOf(\'heading\') !== -1" ng-hide="extraPanel!=\'heading\' && extraPanel!=\'fonts\'">\n\n		<button class="dm-widget-item" title="Heading 1" ng-click="execFormat(\'h1\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.format==\'h1\'}">\n				<svg class="styleable dm-widget-icon-h1" width="21" height="16" viewBox="0 0 21 16"><path d="M12.4 15.7L9.8 15.7 9.8 8.6 2.6 8.6 2.6 15.7 0 15.7 0 0 2.6 0 2.6 6.4 9.8 6.4 9.8 0 12.4 0 12.4 15.7ZM20 15.7L17.9 15.7 17.9 9.9 17.9 9 18 7.9C17.6 8.3 17.4 8.5 17.2 8.6L16.1 9.5 15.1 8.3 18.3 5.7 20 5.7 20 15.7Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Heading 2" ng-click="execFormat(\'h2\')">\n			<i class="dm-widget-icon dm-widget-icon-h2" ng-class="{active: styling.format==\'h2\'}">\n				<svg class="styleable dm-widget-icon-h2" width="22" height="16" viewBox="0 0 22 16"><path d="M12.4 15.7L9.8 15.7 9.8 8.6 2.6 8.6 2.6 15.7 0 15.7 0 0 2.6 0 2.6 6.4 9.8 6.4 9.8 0 12.4 0 12.4 15.7ZM22 15.7L15 15.7 15 14.2 17.5 11.7C18.3 10.9 18.7 10.4 19 10.1 19.2 9.8 19.4 9.6 19.5 9.3 19.6 9 19.6 8.8 19.6 8.5 19.6 8.1 19.5 7.8 19.3 7.6 19.1 7.4 18.8 7.3 18.4 7.3 18 7.3 17.6 7.4 17.3 7.6 16.9 7.8 16.5 8 16.1 8.4L15 7C15.5 6.6 15.9 6.3 16.2 6.1 16.5 5.9 16.9 5.8 17.3 5.7 17.6 5.6 18.1 5.6 18.5 5.6 19.2 5.6 19.7 5.7 20.2 5.9 20.7 6.1 21.1 6.5 21.3 6.9 21.6 7.3 21.7 7.7 21.7 8.3 21.7 8.7 21.6 9.2 21.5 9.6 21.3 10 21.1 10.4 20.7 10.8 20.4 11.2 19.8 11.8 18.9 12.6L17.6 13.8 17.6 13.9 22 13.9 22 15.7Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Heading 3" ng-click="execFormat(\'h3\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.format==\'h3\'}">\n				<svg class="styleable dm-widget-icon-h3" width="22" height="16" viewBox="0 0 22 16"><path d="M12.4 15.7L9.8 15.7 9.8 8.6 2.6 8.6 2.6 15.7 0 15.7 0 0 2.6 0 2.6 6.4 9.8 6.4 9.8 0 12.4 0 12.4 15.7ZM21.7 7.9C21.7 8.6 21.5 9.1 21.1 9.5 20.8 10 20.2 10.3 19.5 10.4L19.5 10.5C20.4 10.6 21 10.8 21.4 11.2 21.8 11.6 22 12.1 22 12.8 22 13.8 21.7 14.5 21 15 20.3 15.6 19.3 15.8 18 15.8 16.9 15.8 15.9 15.7 15.1 15.3L15.1 13.5C15.5 13.7 15.9 13.9 16.4 14 16.8 14.1 17.3 14.2 17.7 14.2 18.4 14.2 19 14 19.3 13.8 19.6 13.6 19.8 13.2 19.8 12.7 19.8 12.2 19.6 11.9 19.2 11.7 18.8 11.5 18.2 11.4 17.4 11.4L16.6 11.4 16.6 9.8 17.4 9.8C18.2 9.8 18.7 9.7 19.1 9.5 19.4 9.3 19.6 8.9 19.6 8.4 19.6 7.7 19.2 7.3 18.2 7.3 17.9 7.3 17.5 7.3 17.2 7.4 16.9 7.5 16.5 7.7 16.1 8L15.1 6.6C16 5.9 17.1 5.6 18.4 5.6 19.4 5.6 20.2 5.8 20.8 6.2 21.4 6.6 21.7 7.2 21.7 7.9Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Heading 4" ng-click="execFormat(\'h4\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.format==\'h4\'}">\n				<svg class="styleable dm-widget-icon-h4" width="23" height="16" viewBox="0 0 23 16"><path d="M12.4 15.7L9.8 15.7 9.8 8.6 2.6 8.6 2.6 15.7 0 15.7 0 0 2.6 0 2.6 6.4 9.8 6.4 9.8 0 12.4 0 12.4 15.7ZM22.6 13.6L21.4 13.6 21.4 15.7 19.4 15.7 19.4 13.6 15.1 13.6 15.1 12.2 19.5 5.7 21.4 5.7 21.4 12 22.6 12 22.6 13.6ZM19.4 12L19.4 10.3C19.4 10 19.4 9.6 19.4 9.1 19.4 8.5 19.4 8.2 19.4 8.1L19.4 8.1C19.2 8.5 19 8.9 18.8 9.2L16.9 12 19.4 12Z"/></svg>\n			</i>\n		</button>\n<!--\n		<button class="dm-widget-item" title="Heading 5" ng-click="execFormat(\'h5\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.format==\'h5\'}">\n				<svg class="styleable dm-widget-icon-h5" viewBox="0 0 27.5 17.5" height="17.5" width="27.5"><g transform="matrix(1.25,0,0,-1.25,0,17.5)"><g transform="scale(0.1,0.1)"><path style="fill-rule:nonzero;stroke:none" d="m 5.73828,7.98828 59.33982,0 0,12.70312 -18.2383,0 0,47.2188 57.8082,0 0,-47.2188 -18.2378,0 0,-12.70312 59.3278,0 0,12.70312 -21.328,0 0,100.9686 21.328,0 0,12.66 -59.3278,0 0,-12.66 18.2378,0 0,-42.6092 -57.8082,0 0,42.6092 18.2383,0 0,12.66 -59.33982,0 0,-12.66 21.33202,0 0,-100.9686 -21.33202,0 0,-12.70312 z" /><path style="fill-rule:nonzero;stroke:none" d="m 210.98,36.1602 c 0,-8.75 -3.832,-16.0196 -11.41,-21.7188 -6.992,-5.12109 -15,-7.66015 -24.058,-7.66015 -5.942,0 -11.492,1.59766 -16.563,4.84765 -5.75,3.6328 -8.597,8.2813 -8.597,13.9024 0,2.5781 1.128,4.9179 3.437,7.0273 2.262,2.0703 4.731,3.1328 7.34,3.1328 2.5,0 4.691,-0.9023 6.57,-2.6601 1.949,-1.8008 2.961,-3.8711 2.961,-6.25 0,-2.6211 -1.051,-4.7618 -3.121,-6.4024 -1.988,-1.5703 -4.379,-2.3476 -7.187,-2.3476 -1.68,0 -2.813,0.1992 -3.442,0.6289 0,0 -0.07,0 -0.148,0 -0.121,0 -0.16,-0.2813 -0.16,-0.7813 0,-0.9375 1.128,-2.3086 3.437,-4.0703 1.949,-1.5586 3.59,-2.5781 4.84,-2.9688 3.441,-1.24996 6.601,-1.87105 9.531,-1.87105 6.641,0 11.918,2.19145 15.789,6.56255 3.629,4.0585 5.461,9.4492 5.461,16.25 0,17.2695 -6.398,25.9375 -19.211,25.9375 -4.5,0 -8.558,-1.0586 -12.187,-3.129 -4.184,-2.4179 -6.25,-5.621 -6.25,-9.6796 0,-0.75 0.039,-1.3321 0.148,-1.7188 -0.93,-1.0625 -1.711,-1.5625 -2.34,-1.5625 -1.05,0 -1.558,0.9297 -1.558,2.8125 0,0.3086 0.226,1.0078 0.777,2.1875 0.621,1.25 0.941,2.0313 0.941,2.3399 l 0,35.3125 c 3.43,-0.6211 6.872,-1.211 10.309,-1.7227 4.063,-0.7383 7.5,-1.0898 10.313,-1.0898 4.058,0 8.199,0.5507 12.5,1.7226 5.308,1.3281 8.789,3.2774 10.468,5.7774 l 0,-2.1875 c 0,-3.6719 -1.558,-7.3008 -4.691,-10.9415 -3.117,-3.5507 -6.52,-5.7812 -10.149,-6.7109 -3.359,-0.8594 -7.89,-1.1797 -13.601,-0.9375 -6.988,0.1875 -11.481,0.1484 -13.43,-0.1601 l 0,-13.2813 0.93,-0.9414 c 7.07,4.4609 14.07,6.7227 20.941,6.7227 7.891,0 14.918,-2.0313 21.09,-6.0899 6.879,-4.6133 10.32,-10.7109 10.32,-18.2812 z" /></g></g></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Heading 6" ng-click="execFormat(\'h6\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.format==\'h6\'}">\n				<svg class="styleable dm-widget-icon-h6" viewBox="0 0 27.5 17.5" height="17.5" width="27.5" ><g transform="matrix(1.25,0,0,-1.25,0,17.5)" ><g transform="scale(0.1,0.1)" ><path style="fill-rule:nonzero;stroke:none" d="m 5.73828,7.98828 59.33982,0 0,12.70312 -18.2383,0 0,47.2188 57.8082,0 0,-47.2188 -18.2378,0 0,-12.70312 59.3278,0 0,12.70312 -21.328,0 0,100.9686 21.328,0 0,12.66 -59.3278,0 0,-12.66 18.2378,0 0,-42.6092 -57.8082,0 0,42.6092 18.2383,0 0,12.66 -59.33982,0 0,-12.66 21.33202,0 0,-100.9686 -21.33202,0 0,-12.70312 z" /><path style="fill-rule:nonzero;stroke:none" d="m 211.762,33.0313 c 0,-7.9297 -3.051,-14.3711 -9.063,-19.3711 -5.75,-4.60942 -12.621,-6.87895 -20.629,-6.87895 -10.308,0 -18.441,3.98825 -24.371,12.02735 -5.429,7.1914 -8.129,16.1016 -8.129,26.7227 0,9.7695 3.16,18.789 9.532,27.0273 6.757,8.6406 15,12.9727 24.687,12.9727 4.762,0 9.141,-1.3321 13.121,-3.9024 4.57,-2.9297 6.879,-6.6484 6.879,-11.0976 0,-3.1211 -1.059,-5.9024 -3.129,-8.2813 -2.109,-2.3008 -4.609,-3.4414 -7.5,-3.4414 -2.422,0 -4.762,0.8633 -7.031,2.6602 -2.18,1.871 -3.277,4.0625 -3.277,6.5625 0,2.1875 1.019,4.0976 3.128,5.7773 2.071,1.7617 4.372,2.6602 6.872,2.6602 0.308,0 1.019,-0.1602 2.187,-0.4688 1.133,-0.3086 1.91,-0.4687 2.34,-0.4687 0.512,0 0.82,0.039 0.941,0.1601 -1.48,2.1875 -3.55,3.9375 -6.25,5.3086 -2.73,1.4492 -5.39,2.1914 -7.968,2.1914 -4.801,0 -9.063,-1.4101 -12.813,-4.2226 -3.988,-3.2383 -5.937,-7.1485 -5.937,-11.7188 l 0.16,-21.0898 c 1.636,2.5 4.566,4.6093 8.75,6.3984 3.828,1.5703 7.379,2.3516 10.617,2.3516 6.961,0 13.012,-1.8789 18.133,-5.6289 5.816,-4.0625 8.75,-9.4922 8.75,-16.25 z M 195.98,27.4102 c 0,8 -0.55,13.4687 -1.57,16.3984 -1.988,5.3906 -6.211,8.1328 -12.648,8.1328 -2.5,0 -5.551,-0.9414 -9.063,-2.8125 -3.437,-1.8008 -5.629,-3.7187 -6.57,-5.7891 -0.738,-1.6796 -1.09,-4.7617 -1.09,-9.2109 0,-8.1289 0.699,-13.8672 2.191,-17.1875 2.258,-5.3125 7.032,-7.97265 14.219,-7.97265 5.699,0 9.68,1.72265 11.871,5.16015 1.758,2.8125 2.66,7.2227 2.66,13.2813 z" /></g></g></svg>\n			</i>\n		</button>-->\n\n	</span>\n\n	<!-- Alignment -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'justify\') !== -1" ng-click="triggerPanel($event,\'justify\')" ng-hide="extraPanel" title="Text Alignment">\n		<i class="dm-widget-icon">\n			<svg ng-show="styling.justify==\'JustifyLeft\'" class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM0 7L12 7 12 9 0 9 0 7Z"/></svg>\n			<svg ng-show="styling.justify==\'JustifyCenter\'" class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M3 0L15 0 15 2 3 2 3 0ZM0 7L18 7 18 9 0 9 0 7ZM3 14L15 14 15 16 3 16 3 14Z"/></svg>\n			<svg ng-show="styling.justify==\'JustifyRight\'" class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM6 7L18 7 18 9 6 9 6 7Z"/></svg>\n			<svg ng-show="styling.justify==\'JustifyFull\'" class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM0 7L18 7 18 9 0 9 0 7Z"/></svg>\n		</i>\n	</button>\n\n\n	<!-- Panel for selecting Alignment -->\n	<span bo-if="includes.indexOf(\'justify\') !== -1" ng-hide="extraPanel!=\'justify\'">\n\n		<button class="dm-widget-item" title="Left Text" ng-click="execJustify(\'JustifyLeft\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.justify==\'JustifyLeft\'}">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM0 7L12 7 12 9 0 9 0 7Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Center Text" ng-click="execJustify(\'JustifyCenter\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.justify==\'JustifyCenter\'}">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M3 0L15 0 15 2 3 2 3 0ZM0 7L18 7 18 9 0 9 0 7ZM3 14L15 14 15 16 3 16 3 14Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Right Text" ng-click="execJustify(\'JustifyRight\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.justify==\'JustifyRight\'}">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM6 7L18 7 18 9 6 9 6 7Z"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Justify Text" ng-click="execJustify(\'JustifyFull\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.justify==\'JustifyFull\'}">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM0 7L18 7 18 9 0 9 0 7Z"/></svg>\n			</i>\n		</button>\n\n	</span>\n\n	<!-- Link -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'link\') !== -1" ng-click="triggerPanel($event,\'link\')" ng-hide="extraPanel">\n		<i class="dm-widget-icon" ng-class="{active: styling.link.href}">\n			<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"/></svg>\n		</i>\n	</button>\n\n	<!-- Panel for anchor -->\n	<span bo-if="includes.indexOf(\'link\') !== -1" ng-hide="extraPanel!=\'link\'" style="width:350px;display: inline-block">\n		<span style="width:250px" class="dm-widget-item">\n			<input class="dm-widget-popover-text-field anchor-link-field" type="text" ng-keypress="changeLink($event)" placeholder="Set the Link" ng-model="styling.link.href" />\n		</span>\n		<label class="dm-custom-checkbox dm-widget-item" style="display: inline-block!important;">\n			<input type="checkbox" ng-model="styling.link.target" ng-checked="styling.link.target" />\n			<span style="top:50%;margin-top: -14px;"></span>\n		</label>\n	</span>\n\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'link\') !== -1" ng-click="execCommand(\'unlink\')" ng-hide="extraPanel!=\'link\'">\n		<i class="dm-widget-icon">\n			<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"></path></svg>\n		</i>\n	</button>\n	<!-- Color -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'color\') !== -1" ng-hide="inverted || extraPanel" ng-click="triggerPanel($event,\'color\')">\n		<i class="dm-widget-icon dm-widget-color-icon"><span class="dm-color-icon" ng-style="{background: styling.color}"></span></i>\n	</button>\n	<button class="dm-widget-item" title="Remove color" bo-if="includes.indexOf(\'color\') !== -1" ng-hide="extraPanel!=\'color\'" ng-click="removeColor()">\n		<i class="dm-widget-icon">\n			<svg class="styleable" width="17" height="18" viewBox="0 0 17 18"><path d="M4.7 4.7C4.7 4.7 4.8 4.6 4.8 4.6L13.9 13.7C13.9 13.7 13.8 13.8 13.8 13.8L16.4 16.4 14.8 18 12.3 15.5C11.2 16.3 9.9 16.8 8.5 16.8 5 16.8 2.2 13.9 2.2 10.5 2.2 9.4 2.6 8.2 3.5 6.7L0 3.2 1.6 1.6 4.7 4.7ZM6.2 2.7C6.9 1.9 7.6 1 8.5 0 12.7 4.7 14.8 8.2 14.8 10.5 14.8 10.8 14.8 11 14.7 11.3L6.2 2.7Z"/></svg>\n		</i>\n	</button>\n\n	<div class="dm-widget-panel js-panel-color" bo-if="includes.indexOf(\'color\') !== -1" ng-show="extraPanel==\'color\'" style="min-width: 350px;">\n		<div dm-colorpicker ng-model="styling.color"></div>\n	</div>\n\n	<!-- Font -->\n	<button class="dm-widget-item shown" bo-if="includes.indexOf(\'fonts\') !== -1" ng-click="triggerPanel($event,\'fonts\')" dm-nano-scroller ng-hide="extraPanel">\n		<i class="dm-widget-icon">\n			<svg class="styleable" width="25" height="16" viewBox="0 0 25 16"><path d="M11.8 15.8L10.2 11.4 4.2 11.4 2.7 15.8 0 15.8 5.9 0 8.7 0 14.5 15.8 11.8 15.8ZM9.6 9.2L8.1 4.9C8 4.6 7.8 4.2 7.7 3.6 7.5 3 7.3 2.5 7.3 2.2 7.1 3.1 6.8 4.1 6.4 5.1L5 9.2 9.6 9.2ZM23.5 15.8L23.1 14.4 23 14.4C22.6 15 22.1 15.4 21.6 15.6 21.1 15.8 20.5 15.9 19.8 15.9 18.8 15.9 18.1 15.7 17.5 15.2 17 14.7 16.7 13.9 16.7 13 16.7 12 17.1 11.2 17.9 10.7 18.6 10.2 19.7 9.9 21.3 9.9L22.9 9.8 22.9 9.3C22.9 8.7 22.8 8.2 22.5 7.9 22.2 7.6 21.8 7.5 21.1 7.5 20.6 7.5 20.2 7.5 19.7 7.7 19.3 7.8 18.8 8 18.4 8.2L17.7 6.7C18.3 6.4 18.8 6.2 19.5 6.1 20.1 5.9 20.7 5.9 21.2 5.9 22.5 5.9 23.4 6.1 24 6.7 24.7 7.2 25 8.1 25 9.2L25 15.8 23.5 15.8ZM20.4 14.4C21.2 14.4 21.8 14.2 22.2 13.7 22.7 13.3 22.9 12.7 22.9 12L22.9 11.1 21.7 11.2C20.7 11.2 20 11.4 19.5 11.7 19.1 12 18.9 12.4 18.9 13 18.9 13.4 19 13.8 19.3 14 19.5 14.2 19.9 14.4 20.4 14.4Z"/></svg>\n		</i>\n	</button>\n\n	<!-- Fonts dropdown -->\n	<div class="dm-widget-panel js-panel-fonts" bo-if="includes.indexOf(\'fonts\') !== -1" ng-hide="extraPanel!=\'fonts\'">\n		<div class="dm-widget-panel-font">\n			<div class="dm-widget-panel-font-col col-fs">\n				<span class="dm-widget-panel-font-icon first" ng-click="reduceFontSize($event)">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="7" height="8" viewBox="0 0 7 8"><path d="M5.9 7.7L5.5 6.6 5.5 6.6C5.1 7.1 4.7 7.4 4.4 7.6 4 7.8 3.5 7.8 3 7.8 2.2 7.8 1.6 7.6 1.2 7.2 0.8 6.8 0.6 6.3 0.6 5.5 0.6 4.8 0.9 4.2 1.5 3.8 2 3.4 2.9 3.2 4.1 3.1L5.4 3.1 5.4 2.7C5.4 2.2 5.3 1.8 5.1 1.6 4.8 1.4 4.5 1.2 4 1.2 3.6 1.2 3.3 1.3 2.9 1.4 2.5 1.5 2.2 1.6 1.9 1.8L1.4 0.7C1.8 0.4 2.2 0.3 2.7 0.2 3.2 0.1 3.7 0 4.1 0 5 0 5.8 0.2 6.3 0.6 6.8 1 7 1.7 7 2.6L7 7.7 5.9 7.7ZM3.5 6.6C4 6.6 4.5 6.4 4.9 6.1 5.2 5.8 5.4 5.3 5.4 4.7L5.4 4.1 4.4 4.1C3.7 4.2 3.1 4.3 2.8 4.5 2.4 4.7 2.3 5.1 2.3 5.5 2.3 5.9 2.4 6.1 2.6 6.3 2.8 6.5 3.1 6.6 3.5 6.6Z"/></svg>\n				</span>\n				<div min="1" max="18" ui-slider ng-model="classes[\'font-size\']"></div>\n				<span class="dm-widget-panel-font-icon last" ng-click="increaseFontSize($event)">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="11" height="13" viewBox="0 0 11 13"><path d="M8.3 12.1L7.8 10.4 7.7 10.4C7.1 11.2 6.5 11.7 6 11.9 5.4 12.2 4.6 12.3 3.7 12.3 2.5 12.3 1.6 12 1 11.4 0.3 10.7 0 9.8 0 8.7 0 7.5 0.5 6.5 1.4 5.9 2.3 5.3 3.7 5 5.5 4.9L7.6 4.8 7.6 4.2C7.6 3.4 7.4 2.9 7 2.5 6.7 2.1 6.1 1.9 5.4 1.9 4.8 1.9 4.2 2 3.6 2.2 3.1 2.4 2.5 2.6 2 2.8L1.2 1C1.9 0.7 2.6 0.4 3.3 0.3 4.1 0.1 4.8 0 5.5 0 7 0 8.2 0.3 8.9 1 9.7 1.6 10.1 2.7 10.1 4.1L10.1 12.1 8.3 12.1ZM4.5 10.4C5.4 10.4 6.2 10.1 6.7 9.6 7.3 9.1 7.6 8.4 7.6 7.5L7.6 6.4 6 6.5C4.8 6.5 4 6.7 3.4 7.1 2.9 7.4 2.6 8 2.6 8.7 2.6 9.2 2.8 9.7 3.1 9.9 3.4 10.2 3.9 10.4 4.5 10.4Z"/></svg>\n				</span>\n			</div>\n			<div class="dm-widget-panel-font-col col-lh">\n				<span class="dm-widget-panel-font-icon first" ng-click="reduceLineHeight()">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="8" height="6" viewBox="0 0 8 6"><path d="M0 0L8 0 8 2 0 2 0 0ZM0 4L8 4 8 6 0 6 0 4Z"/></svg>\n				</span>\n				<div min="1" max="18" ui-slider ng-model="classes[\'line-height\']"></div>\n				<span class="dm-widget-panel-font-icon last" ng-click="increaseLineHeight()">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="8" height="10" viewBox="0 0 8 10"><path d="M0 0L8 0 8 2 0 2 0 0ZM0 8L8 8 8 10 0 10 0 8Z"/></svg>\n				</span>\n			</div>\n			<div class="dm-widget-panel-font-col col-fw">\n				<span class="dm-widget-panel-font-icon first">\n					<svg class="styleable" width="10" height="13" viewBox="0 0 10 13"><path d="M8.3 12L8 10.2 7.9 10.2C7.4 10.9 6.7 11.4 6.1 11.7 5.5 12.1 4.8 12.2 3.9 12.2 2.8 12.2 1.9 11.9 1.3 11.3 0.6 10.7 0.3 9.9 0.3 8.9 0.3 7.8 0.8 6.9 1.7 6.2 2.7 5.6 4 5.3 5.8 5.2L8.1 5.2 8.1 4.4C8.1 3.3 7.8 2.5 7.4 1.9 6.9 1.3 6.2 1 5.2 1 4.1 1 3 1.3 1.8 1.9L1.5 1C2.7 0.4 4 0.1 5.3 0.1 6.5 0.1 7.5 0.5 8.1 1.1 8.8 1.8 9.1 2.8 9.1 4.2L9.1 12 8.3 12ZM4 11.2C5.2 11.2 6.2 10.9 6.9 10.2 7.7 9.5 8 8.5 8 7.2L8 6.1 6 6.1C4.3 6.2 3.2 6.5 2.5 6.9 1.8 7.3 1.4 8 1.4 8.9 1.4 9.7 1.7 10.2 2.1 10.6 2.5 11 3.2 11.2 4 11.2Z"/></svg>\n				</span>\n				<div min="1" max="9" ui-slider ng-model="classes[\'font-weight\']"></div>\n				<span class="dm-widget-panel-font-icon last">\n					<svg class="styleable" width="11" height="13" viewBox="0 0 11 13"><path d="M8.3 12.1L7.8 10.4 7.7 10.4C7.1 11.2 6.5 11.7 6 11.9 5.4 12.2 4.6 12.3 3.7 12.3 2.5 12.3 1.6 12 1 11.4 0.3 10.7 0 9.8 0 8.7 0 7.5 0.5 6.5 1.4 5.9 2.3 5.3 3.7 5 5.5 4.9L7.6 4.8 7.6 4.2C7.6 3.4 7.4 2.9 7 2.5 6.7 2.1 6.1 1.9 5.4 1.9 4.8 1.9 4.2 2 3.6 2.2 3.1 2.4 2.5 2.6 2 2.8L1.2 1C1.9 0.7 2.6 0.4 3.3 0.3 4.1 0.1 4.8 0 5.5 0 7 0 8.2 0.3 8.9 1 9.7 1.6 10.1 2.7 10.1 4.1L10.1 12.1 8.3 12.1ZM4.5 10.4C5.4 10.4 6.2 10.1 6.7 9.6 7.3 9.1 7.6 8.4 7.6 7.5L7.6 6.4 6 6.5C4.8 6.5 4 6.7 3.4 7.1 2.9 7.4 2.6 8 2.6 8.7 2.6 9.2 2.8 9.7 3.1 9.9 3.4 10.2 3.9 10.4 4.5 10.4Z"/></svg>\n				</span>\n			</div>\n			<div class="dm-widget-panel-font-col col-ls">\n				<span class="dm-widget-panel-font-icon first">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(90deg)" width="8" height="6" viewBox="0 0 8 6"><path d="M0 0L8 0 8 2 0 2 0 0ZM0 4L8 4 8 6 0 6 0 4Z"/></svg>\n				</span>\n				<div min="1" max="21" ui-slider ng-model="classes[\'letter-spacing\']"></div>\n				<span class="dm-widget-panel-font-icon last">\n					<svg class="styleable" xmlns="http://www.w3.org/2000/svg" style="transform: rotate(90deg)" width="8" height="10" viewBox="0 0 8 10"><path d="M0 0L8 0 8 2 0 2 0 0ZM0 8L8 8 8 10 0 10 0 8Z"/></svg>\n				</span>\n			</div>\n		</div>\n		<div class="dm-widget-panel-font-list nano">\n			<div class="nano-content">\n				<ul ng-click="selectFont($event)">\n					<li bindonce ng-repeat="font in fonts track by $index" >\n						<button>\n							<span bo-bind="font.key" bo-style="{\'font-family\': font.value}" ng-class="{\'active\': font.key == visibleFont}"></span>\n						</button>\n					</li>\n				</ul>\n			</div>\n		</div>\n	</div>\n	<!-- list -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'list\') !== -1" ng-click="triggerPanel($event,\'list\')" ng-hide="extraPanel" title="List Settings">\n		<i class="dm-widget-icon">\n			<svg ng-show="!styling.list || styling.list==\'InsertUnorderedList\'" class="styleable" width="19" height="16" viewBox="0 0 19 16"><path d="M5 14L19 14 19 16 5 16 5 14ZM5 0L19 0 19 2 5 2 5 0ZM5 7L19 7 19 9 5 9 5 7ZM0 14L2 14 2 16 0 16 0 14ZM0 0L2 0 2 2 0 2 0 0ZM0 7L2 7 2 9 0 9 0 7Z"/></svg>\n			<svg ng-show="styling.list==\'InsertOrderedList\'" class="styleable" width="20" height="18" viewBox="0 0 20 18"><path d="M6 15L20 15 20 17 6 17 6 15ZM6 1L20 1 20 3 6 3 6 1ZM6 8L20 8 20 10 6 10 6 8ZM3 4L2 4 2 2C1.6 1.6 1.6 1.4 2 1 1.5 1.3 1.4 1.3 1 1L1 2 0 1 2 0 3 0 3 4ZM3 11L0 11 0 10 1 9C1.3 9 1.5 8.8 2 9 1.7 8.6 1.7 8.5 2 8 1.8 8.4 1.8 8.3 2 8 1.8 8.1 1.8 8 2 8 1.7 7.9 1.6 7.9 1 8 1.3 7.9 1.2 7.9 1 8 0.9 8.1 0.8 8.2 1 8L0 8C0.2 7.4 0.4 7.3 1 7 0.7 7.2 0.8 7.1 1 7 1.2 7 1.4 7 2 7 1.8 7 2.1 7 2 7 2.5 7.2 2.6 7.4 3 8 2.9 7.7 2.9 7.9 3 8 2.9 8.2 2.9 8.4 3 9 2.8 8.6 2.8 8.8 3 9 2.6 9 2.5 9.2 2 9 2.2 9.4 1.9 9.7 1 10L3 10 3 11ZM3 15C2.9 15.1 2.8 15.3 3 16 2.5 15.7 2.3 15.8 2 16 2.7 16 3 16.3 3 17 3 17.2 2.8 17.5 3 18 2.2 17.9 1.8 18 1 18 1 18 0.8 18 1 18 0.4 17.9 0.2 17.9 0 18L0 17C0.2 17 0.4 17.1 1 17 0.8 17.2 0.9 17.2 1 17 1.3 17.2 1.5 17.1 2 17 1.7 17 1.8 16.9 2 17 1.8 16.7 1.8 16.6 2 17 1.7 16.5 1.6 16.4 1 16 1.3 16.4 1.1 16.3 1 16 1.5 15.6 1.8 15.4 2 15 1.8 15 1.7 15 2 15 1.6 14.9 1.5 14.8 1 15 1 14.8 0.8 14.9 0 15L0 14C0.2 14.3 0.5 14.2 1 14 0.9 14 1.2 14 1 14 1.9 14 2.3 14.1 3 14 2.8 14.4 2.9 14.6 3 15Z"/></svg>\n		</i>\n	</button>\n\n\n	<!-- Panel for selecting Alignment -->\n	<span bo-if="includes.indexOf(\'list\') !== -1" ng-hide="extraPanel!=\'list\'">\n		<button class="dm-widget-item" title="Insert Unordered List" ng-click="execCommandList(\'InsertUnorderedList\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.list==\'InsertUnorderedList\'}">\n				<svg class="styleable" width="19" height="16" viewBox="0 0 19 16"><path d="M5 14L19 14 19 16 5 16 5 14ZM5 0L19 0 19 2 5 2 5 0ZM5 7L19 7 19 9 5 9 5 7ZM0 14L2 14 2 16 0 16 0 14ZM0 0L2 0 2 2 0 2 0 0ZM0 7L2 7 2 9 0 9 0 7Z"/></svg>\n			</i>\n		</button>\n		<button class="dm-widget-item" title="Insert Ordered List" ng-click="execCommandList(\'InsertOrderedList\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.list==\'InsertOrderedList\'}">\n				<svg class="styleable" width="20" height="18" viewBox="0 0 20 18"><path d="M6 15L20 15 20 17 6 17 6 15ZM6 1L20 1 20 3 6 3 6 1ZM6 8L20 8 20 10 6 10 6 8ZM3 4L2 4 2 2C1.6 1.6 1.6 1.4 2 1 1.5 1.3 1.4 1.3 1 1L1 2 0 1 2 0 3 0 3 4ZM3 11L0 11 0 10 1 9C1.3 9 1.5 8.8 2 9 1.7 8.6 1.7 8.5 2 8 1.8 8.4 1.8 8.3 2 8 1.8 8.1 1.8 8 2 8 1.7 7.9 1.6 7.9 1 8 1.3 7.9 1.2 7.9 1 8 0.9 8.1 0.8 8.2 1 8L0 8C0.2 7.4 0.4 7.3 1 7 0.7 7.2 0.8 7.1 1 7 1.2 7 1.4 7 2 7 1.8 7 2.1 7 2 7 2.5 7.2 2.6 7.4 3 8 2.9 7.7 2.9 7.9 3 8 2.9 8.2 2.9 8.4 3 9 2.8 8.6 2.8 8.8 3 9 2.6 9 2.5 9.2 2 9 2.2 9.4 1.9 9.7 1 10L3 10 3 11ZM3 15C2.9 15.1 2.8 15.3 3 16 2.5 15.7 2.3 15.8 2 16 2.7 16 3 16.3 3 17 3 17.2 2.8 17.5 3 18 2.2 17.9 1.8 18 1 18 1 18 0.8 18 1 18 0.4 17.9 0.2 17.9 0 18L0 17C0.2 17 0.4 17.1 1 17 0.8 17.2 0.9 17.2 1 17 1.3 17.2 1.5 17.1 2 17 1.7 17 1.8 16.9 2 17 1.8 16.7 1.8 16.6 2 17 1.7 16.5 1.6 16.4 1 16 1.3 16.4 1.1 16.3 1 16 1.5 15.6 1.8 15.4 2 15 1.8 15 1.7 15 2 15 1.6 14.9 1.5 14.8 1 15 1 14.8 0.8 14.9 0 15L0 14C0.2 14.3 0.5 14.2 1 14 0.9 14 1.2 14 1 14 1.9 14 2.3 14.1 3 14 2.8 14.4 2.9 14.6 3 15Z"/></svg>\n			</i>\n		</button>\n		<button class="dm-widget-item" title="Indent" ng-click="execCmd(\'Indent\')">\n			<i class="dm-widget-icon">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM9 7L18 7 18 9 9 9 9 7ZM6 8L0 11 0 5 6 8Z"/></svg>\n			</i>\n		</button>\n		<button class="dm-widget-item" title="Outdent" ng-click="execCmd(\'Outdent\')">\n			<i class="dm-widget-icon">\n				<svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM9 7L18 7 18 9 9 9 9 7ZM0 8L6 5 6 11 0 8Z"/></svg>\n			</i>\n		</button>\n	</span>\n\n	<!-- textTransform -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'textTransform\') !== -1" ng-click="triggerPanel($event,\'textTransform\')" ng-hide="extraPanel" title="Text Transform">\n		<i class="dm-widget-icon">\n			<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="19" height="16" viewBox="0 0 19 16"><rect width="13" height="2"/><rect x="5" width="3" height="16"/><g><rect x="14" y="6" width="2" height="8"/><rect x="12" y="6" width="3" height="2"/><rect x="16" y="6" width="3" height="2"/><rect x="14" y="4" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="16" y="14" width="3" height="2"/></g></svg>\n		</i>\n	</button>\n\n\n	<!-- Panel for selecting textTransform -->\n	<span bo-if="includes.indexOf(\'textTransform\') !== -1" ng-hide="extraPanel!=\'textTransform\'">\n\n		<button class="dm-widget-item" title="Uppercase" ng-click="execTextTransform(\'uppercase\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.textTransform==\'uppercase\'}">\n				<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="27" height="16" viewBox="0 0 27 16"><rect width="13" height="2"/><rect x="5" width="3" height="16"/><rect x="19" width="3" height="16"/><rect x="14" width="13" height="2"/></svg>\n			</i>\n		</button>\n\n		<button class="dm-widget-item" title="Lowercase" ng-click="execTextTransform(\'lowercase\')">\n			<i class="dm-widget-icon" ng-class="{active: styling.textTransform==\'lowercase\'}">\n				<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16"><g><rect x="2" y="6" width="2" height="8"/><rect y="6" width="3" height="2"/><rect x="4" y="6" width="3" height="2"/><rect x="2" y="4" width="2" height="2"/><rect x="2" y="14" width="2" height="2"/><rect x="4" y="14" width="3" height="2"/></g><g><rect x="10" y="6" width="2" height="8"/><rect x="8" y="6" width="3" height="2"/><rect x="12" y="6" width="3" height="2"/><rect x="10" y="4" width="2" height="2"/><rect x="10" y="14" width="2" height="2"/><rect x="12" y="14" width="3" height="2"/></g></svg>\n			</i>\n		</button>\n\n	</span>\n\n	<button class="dm-widget-item" ng-click="execCmd(\'RemoveFormat\')" ng-hide="extraPanel" title="Removes any formats">\n		<i class="dm-widget-icon">\n			<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16"><path d="M11.000,0.000 L14.000,0.000 L10.754,5.771 L8.837,3.845 L11.000,0.000 Z"/><path d="M9.463,8.065 L5.000,16.000 L2.000,16.000 L7.364,6.464 L9.463,8.065 Z"/><path d="M2.000,-0.000 L18.000,16.000 L15.613,16.033 L-0.503,-0.010 L2.000,-0.000 Z"/><path d="M5.000,-0.000 L18.000,-0.000 L18.000,2.000 L7.056,2.000 L5.000,-0.000 Z"/></svg>\n		</i>\n	</button>\n\n	<button class="dm-widget-item" ng-click="triggerPanel($event,false)" ng-hide="!extraPanel" title="Go Back">\n		<i class="dm-widget-icon">\n			<svg class="styleable" width="16" height="16" viewBox="0 0 16 16"><path d="M8 6.6L5 3.6 3.6 5 6.6 8 3.6 11 5 12.4 8 9.4 11 12.4 12.4 11 9.4 8 12.4 5 11 3.6 8 6.6ZM8 16C3.6 16 0 12.4 0 8 0 3.6 3.6 0 8 0 12.4 0 16 3.6 16 8 16 12.4 12.4 16 8 16Z"/></svg>\n		</i>\n	</button>\n\n</div>\n'),
a.put("../templates/ui-widgets/components/text-editing-e.directive/width-editor.html",'<i class="dm-widget-icon">\n    <svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="20px" height="20px" fill="rgba(255,255,255,.9)" viewBox="0 0 200 200"><polygon points="0 100 40 70 40 130"/><rect x="40" y="90" width="20" height="20"/><rect x="60" y="30" width="20" height="140"/><rect x="120" y="30" width="20" height="140"/><rect x="140" y="90" width="20" height="20"/><polygon points="200 100 160 70 160 130"/></svg>\n</i>\n<div class="dm-widget-drop-down dm-widget-drop-down-tools has-arrow alt-drop-down dm-tet">\n    <ul class="dm-widget-drop-down-tools-list">\n        <li class="paddings-holder">\n            <span class="ui-slider-label">Width</span>\n            <div ui-slider ng-model="size" data-slider-type="bottom" min="1" max="4" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">\n                <div class="ui-slider-handle-holder">\n                    <span class="bottom-padding-handle ui-slider-handle ui-state-default ui-corner-all ng-binding" tabindex="0">{{ size }}</span>\n                </div>\n            </div>\n        </li>\n        <li class="paddings-holder dm-tet-holder" ng-show="size<=2">\n            <div class="dm-tet-place">\n                <button class="dm-tet-item" ng-class="{active:position==\'left\'}" ng-click="position=\'left\'">\n                    <svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM0 7L12 7 12 9 0 9 0 7Z"/></svg>\n                </button>\n                <button class="dm-tet-item" ng-class="{active:position==\'center\'}" ng-click="position=\'center\'">\n                    <svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M3 0L15 0 15 2 3 2 3 0ZM0 7L18 7 18 9 0 9 0 7ZM3 14L15 14 15 16 3 16 3 14Z"/></svg>\n                </button>\n                <button class="dm-tet-item" ng-class="{active:position==\'right\'}" ng-click="position=\'right\'">\n                    <svg class="styleable" width="18" height="16" viewBox="0 0 18 16"><path d="M0 14L18 14 18 16 0 16 0 14ZM0 0L18 0 18 2 0 2 0 0ZM6 7L18 7 18 9 6 9 6 7Z"/></svg>\n                </button>\n            </div>\n        </li>\n    </ul>\n</div>'),a.put("../templates/ui-widgets/components/text-editing-menu.directive/text-editing-menu.html",'<i class="dm-widget-icon" ng-hide="showReplacedDropDown">\n    <svg width="30px" height="17px" viewBox="0 0 30 17" version="1.1" xmlns="http://www.w3.org/2000/svg">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g class="styleable" transform="translate(-561.000000, -66.000000)">\n                <g transform="translate(295.000000, 49.000000)">\n                    <path d="M278.76,31.416 L276.264,31.416 L276.264,33 L283.656,33 L283.656,31.416 L281.472,31.416 L276.312,17.112 L273.888,17.112 L268.392,31.416 L266.688,31.416 L266.688,33 L272.232,33 L272.232,31.416 L270.24,31.416 L271.68,27.456 L277.392,27.456 L278.76,31.416 Z M274.584,19.608 L274.68,19.608 L276.912,26.064 L272.208,26.064 L274.584,19.608 Z M287.376,33.12 C288.792,33.12 290.304,32.328 290.904,31.152 L291.024,31.152 C291.024,32.496 291.984,33.072 292.992,33.072 C294.072,33.072 294.888,32.52 295.464,31.176 L294.624,30.672 C294.384,31.2 294.096,31.536 293.76,31.536 C293.184,31.536 293.016,31.296 293.016,30.744 L293.016,25.176 C293.016,22.872 291.576,21.84 289.08,21.84 C286.608,21.84 284.568,22.896 284.568,24.648 C284.568,25.344 285.096,26.04 286.032,26.04 C286.92,26.04 287.424,25.416 287.424,24.696 C287.424,24.192 287.136,23.712 286.728,23.52 C287.304,23.208 287.856,23.064 288.576,23.064 C290.088,23.064 290.76,23.592 290.76,25.008 L290.76,26.136 C290.76,26.568 290.496,26.592 289.08,26.808 C287.088,27.096 285.888,27.384 285,28.272 C284.424,28.848 284.184,29.52 284.184,30.288 C284.184,31.944 285.36,33.12 287.376,33.12 L287.376,33.12 Z M288.408,31.584 C287.184,31.584 286.632,30.864 286.632,29.808 C286.632,28.368 287.352,28.08 289.68,27.72 C290.28,27.624 290.544,27.576 290.76,27.48 L290.76,29.376 C290.76,30.648 289.488,31.584 288.408,31.584 L288.408,31.584 Z" id="Aa-4"></path>\n                </g>\n            </g>\n        </g>\n    </svg>\n</i>\n<div class="dm-widget-replace-panel" ng-show="showReplacedDropDown">\n    <div class="dm-widget dm-widget-text" ng-class="{\'panel-opened\': changeHeading || changeFont || changeColor, \'inverted\': inverted, \'bottom\': bottomArrow, \'top\': !bottomArrow}">\n        <span class="dm-widget-item" ng-click="setBold()">\n            <i class="dm-widget-icon-menu" ng-class="{active: dmTextEditingMenu.bold == \'bold\'}">\n                <svg class="styleable" width="15" height="16" viewBox="0 0 15 16" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.2c5.28 0 6.648-2.208 6.648-4.512 0-1.896-1.302-3.488-4.542-3.728v-.12c3.192-.552 3.774-2.344 3.774-3.616 0-2.016-1.176-3.816-5.904-3.816h-7.176v1.584h2.664v12.624h-2.664v1.584zm5.136-9v-5.208h1.944c2.736 0 3.408.888 3.408 2.4 0 1.656-.816 2.808-3.456 2.808h-1.896zm0 7.416v-6.024h1.824c3.096 0 4.248 1.224 4.248 2.88 0 2.232-1.08 3.144-4.2 3.144h-1.872z"/></svg>\n            </i>\n        </span>\n        <span class="dm-widget-item" ng-click="setItalic()">\n            <i class="dm-widget-icon-menu" ng-class="{active: dmTextEditingMenu.italic == \'italic\'}">\n                <svg class="styleable" width="13" height="16" viewBox="0 0 13 16" xmlns="http://www.w3.org/2000/svg"><path d="M.664 16h7.8l.36-1.584h-2.688l3.144-12.624h2.64l.384-1.584h-7.8l-.384 1.584h2.688l-3.144 12.624h-2.64l-.36 1.584z"/></svg>\n            </i>\n        </span>\n        <span class="dm-widget-item" ng-mouseup="toggleColorPicker()">\n            <i class="dm-widget-icon-menu dm-widget-color-icon"><span class="dm-color-icon" ng-style="{background: dmTextEditingMenu.color}"></span></i>\n        </span>\n        <span class="dm-widget-item" ng-click="triggerFontsEditor();" dm-nano-scroller>\n            <i class="dm-widget-icon-menu">\n                <svg width="30px" height="17px" viewBox="0 0 30 17" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                        <g class="styleable" transform="translate(-561.000000, -66.000000)">\n                            <g transform="translate(295.000000, 49.000000)">\n                                <path d="M278.76,31.416 L276.264,31.416 L276.264,33 L283.656,33 L283.656,31.416 L281.472,31.416 L276.312,17.112 L273.888,17.112 L268.392,31.416 L266.688,31.416 L266.688,33 L272.232,33 L272.232,31.416 L270.24,31.416 L271.68,27.456 L277.392,27.456 L278.76,31.416 Z M274.584,19.608 L274.68,19.608 L276.912,26.064 L272.208,26.064 L274.584,19.608 Z M287.376,33.12 C288.792,33.12 290.304,32.328 290.904,31.152 L291.024,31.152 C291.024,32.496 291.984,33.072 292.992,33.072 C294.072,33.072 294.888,32.52 295.464,31.176 L294.624,30.672 C294.384,31.2 294.096,31.536 293.76,31.536 C293.184,31.536 293.016,31.296 293.016,30.744 L293.016,25.176 C293.016,22.872 291.576,21.84 289.08,21.84 C286.608,21.84 284.568,22.896 284.568,24.648 C284.568,25.344 285.096,26.04 286.032,26.04 C286.92,26.04 287.424,25.416 287.424,24.696 C287.424,24.192 287.136,23.712 286.728,23.52 C287.304,23.208 287.856,23.064 288.576,23.064 C290.088,23.064 290.76,23.592 290.76,25.008 L290.76,26.136 C290.76,26.568 290.496,26.592 289.08,26.808 C287.088,27.096 285.888,27.384 285,28.272 C284.424,28.848 284.184,29.52 284.184,30.288 C284.184,31.944 285.36,33.12 287.376,33.12 L287.376,33.12 Z M288.408,31.584 C287.184,31.584 286.632,30.864 286.632,29.808 C286.632,28.368 287.352,28.08 289.68,27.72 C290.28,27.624 290.544,27.576 290.76,27.48 L290.76,29.376 C290.76,30.648 289.488,31.584 288.408,31.584 L288.408,31.584 Z" id="Aa-4"></path>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </i>\n        </span>\n\n        <div class="dm-widget-panel dm-widget-panel-change-color" ng-show="changeColor">\n            <div dm-colorpicker ng-model="dmTextEditingMenu.color"></div>\n        </div>\n        <div class="dm-widget-panel dm-widget-panel-font-settings" ng-show="changeFont">\n            <div class="dm-widget-panel-font one-row">\n                <div class="dm-widget-panel-font-col">\n                    <span class="dm-widget-panel-font-icon first" ng-click="reduceFontSize()">\n                        <svg width="9px" height="10px" viewBox="0 0 9 10" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                <g class="styleable" transform="translate(-251.000000, -199.000000)">\n                                    <g transform="translate(236.000000, 130.000000)">\n                                        <g transform="translate(0.000000, 48.000000)">\n                                            <path d="M22.424,27.776 C22.424,28.0213346 22.4293333,28.2693321 22.44,28.52 C22.4506667,28.7706679 22.4666666,28.9973323 22.488,29.2 L23.544,29.2 L23.544,30 L21.032,30 L20.872,28.48 L20.792,28.48 C20.7386664,28.6933344 20.6400007,28.9013323 20.496,29.104 C20.3519993,29.3066677 20.1706678,29.4879992 19.952,29.648 C19.7333322,29.8080008 19.4746682,29.9359995 19.176,30.032 C18.8773318,30.1280005 18.5466685,30.176 18.184,30.176 C17.8213315,30.176 17.4880015,30.1226672 17.184,30.016 C16.8799985,29.9093328 16.6160011,29.760001 16.392,29.568 C16.1679989,29.375999 15.9946673,29.1440014 15.872,28.872 C15.7493327,28.5999986 15.688,28.293335 15.688,27.952 C15.688,27.4293307 15.7973322,26.997335 16.016,26.656 C16.2346678,26.314665 16.5573312,26.0453343 16.984,25.848 C17.4106688,25.6506657 17.9439968,25.5093338 18.584,25.424 C19.2240032,25.3386662 19.9706624,25.2906667 20.824,25.28 C20.8453334,25.1093325 20.856,24.9466674 20.856,24.792 L20.856,24.336 C20.856,23.6746634 20.7440011,23.1706684 20.52,22.824 C20.2959989,22.4773316 19.8960029,22.304 19.32,22.304 C19.1066656,22.304 18.8773346,22.3146666 18.632,22.336 C18.3866654,22.3573334 18.1626677,22.4213328 17.96,22.528 L17.96,24 L16.52,24 L16.52,22.224 C16.9040019,22.0213323 17.3573307,21.8400008 17.88,21.68 C18.4026693,21.5199992 19.0159965,21.44 19.72,21.44 C20.328003,21.44 20.8159982,21.5173326 21.184,21.672 C21.5520018,21.8266674 21.8346657,22.0293321 22.032,22.28 C22.2293343,22.5306679 22.357333,22.8133318 22.416,23.128 C22.474667,23.4426682 22.504,23.7546651 22.504,24.064 C22.504,24.7360034 22.4906668,25.3786636 22.464,25.992 C22.4373332,26.6053364 22.424,27.1999971 22.424,27.776 L22.424,27.776 Z M18.92,29.104 C19.1760013,29.104 19.4053323,29.0640004 19.608,28.984 C19.8106677,28.9039996 19.9893326,28.8026673 20.144,28.68 C20.2986674,28.5573327 20.4319994,28.4213341 20.544,28.272 C20.6560006,28.1226659 20.749333,27.9786674 20.824,27.84 L20.824,25.936 C20.1306632,25.936 19.5680022,25.9813329 19.136,26.072 C18.7039978,26.1626671 18.3653346,26.2826659 18.12,26.432 C17.8746654,26.5813341 17.7066671,26.759999 17.616,26.968 C17.5253329,27.176001 17.48,27.3973322 17.48,27.632 C17.48,28.1120024 17.6079987,28.4773321 17.864,28.728 C18.1200013,28.9786679 18.4719978,29.104 18.92,29.104 L18.92,29.104 Z" id="size-small"></path>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    </span>\n                    <div min="1" max="7" ui-slider ng-model="dmTextEditingMenu.fontSize"></div>\n                    <span class="dm-widget-panel-font-icon last" ng-click="increaseFontSize()">\n                        <svg width="11px" height="12px" viewBox="0 0 11 12" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-320.000000, -198.000000)">\n                                    <g transform="translate(236.000000, 130.000000)">\n                                        <g transform="translate(0.000000, 48.000000)">\n                                            <path d="M93.28,28.22 C93.28,28.5266682 93.2866666,28.8366651 93.3,29.15 C93.3133334,29.4633349 93.3333332,29.7466654 93.36,30 L94.68,30 L94.68,31 L91.54,31 L91.34,29.1 L91.24,29.1 C91.173333,29.366668 91.0500009,29.6266654 90.87,29.88 C90.6899991,30.1333346 90.4633347,30.359999 90.19,30.56 C89.9166653,30.760001 89.5933352,30.9199994 89.22,31.04 C88.8466648,31.1600006 88.4333356,31.22 87.98,31.22 C87.5266644,31.22 87.1100019,31.153334 86.73,31.02 C86.3499981,30.886666 86.0200014,30.7000012 85.74,30.46 C85.4599986,30.2199988 85.2433341,29.9300017 85.09,29.59 C84.9366659,29.2499983 84.86,28.8666688 84.86,28.44 C84.86,27.7866634 84.9966653,27.2466688 85.27,26.82 C85.5433347,26.3933312 85.946664,26.0566679 86.48,25.81 C87.013336,25.5633321 87.679996,25.3866672 88.48,25.28 C89.280004,25.1733328 90.213328,25.1133334 91.28,25.1 C91.3066668,24.8866656 91.32,24.6833343 91.32,24.49 L91.32,23.92 C91.32,23.0933292 91.1800014,22.4633355 90.9,22.03 C90.6199986,21.5966645 90.1200036,21.38 89.4,21.38 C89.133332,21.38 88.8466682,21.3933332 88.54,21.42 C88.2333318,21.4466668 87.9533346,21.526666 87.7,21.66 L87.7,23.5 L85.9,23.5 L85.9,21.28 C86.3800024,21.0266654 86.9466634,20.800001 87.6,20.6 C88.2533366,20.399999 89.0199956,20.3 89.9,20.3 C90.6600038,20.3 91.2699977,20.3966657 91.73,20.59 C92.1900023,20.7833343 92.5433321,21.0366651 92.79,21.35 C93.0366679,21.6633349 93.1966663,22.0166647 93.27,22.41 C93.3433337,22.8033353 93.38,23.1933314 93.38,23.58 C93.38,24.4200042 93.3633335,25.2233295 93.33,25.99 C93.2966665,26.7566705 93.28,27.4999964 93.28,28.22 L93.28,28.22 Z M88.9,29.88 C89.2200016,29.88 89.5066654,29.8300005 89.76,29.73 C90.0133346,29.6299995 90.2366657,29.5033341 90.43,29.35 C90.6233343,29.1966659 90.7899993,29.0266676 90.93,28.84 C91.0700007,28.6533324 91.1866662,28.4733342 91.28,28.3 L91.28,25.92 C90.413329,25.92 89.7100027,25.9766661 89.17,26.09 C88.6299973,26.2033339 88.2066682,26.3533324 87.9,26.54 C87.5933318,26.7266676 87.3833339,26.9499987 87.27,27.21 C87.1566661,27.4700013 87.1,27.7466652 87.1,28.04 C87.1,28.640003 87.2599984,29.0966651 87.58,29.41 C87.9000016,29.7233349 88.3399972,29.88 88.9,29.88 L88.9,29.88 Z" id="size-big"></path>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    </span>\n                </div>\n                <div class="dm-widget-panel-font-col" ng-show="dmTextEditingMenu.lineHeight">\n                    <span class="dm-widget-panel-font-icon first" ng-click="reduceLineHeight()">\n                        <svg width="7px" height="6px" viewBox="0 0 7 6" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-368.000000, -201.000000)">\n                                    <g transform="translate(236.000000, 130.000000)">\n                                        <g id="Group" transform="translate(0.000000, 48.000000)">\n                                            <g transform="translate(132.000000, 22.000000)">\n                                                <path d="M1.00292933,1 C0.449026756,1 0,1.44386482 0,2 L0,2 C0,2.55228475 0.437881351,3 1.00292933,3 L5.99707067,3 C6.55097324,3 7,2.55613518 7,2 L7,2 C7,1.44771525 6.56211865,1 5.99707067,1 L1.00292933,1 Z M1.00292933,5 C0.449026756,5 0,5.44386482 0,6 L0,6 C0,6.55228475 0.437881351,7 1.00292933,7 L5.99707067,7 C6.55097324,7 7,6.55613518 7,6 L7,6 C7,5.44771525 6.56211865,5 5.99707067,5 L1.00292933,5 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    </span>\n                    <div min="1" max="7" ui-slider ng-model="dmTextEditingMenu.lineHeight"></div>\n                    <span class="dm-widget-panel-font-icon last" ng-click="increaseLineHeight()">\n                        <svg width="7px" height="8px" viewBox="0 0 7 8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                <g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-434.000000, -200.000000)">\n                                    <g transform="translate(236.000000, 130.000000)">\n                                        <g transform="translate(0.000000, 48.000000)">\n                                            <g transform="translate(132.000000, 22.000000)" id="line-height-big">\n                                                <path d="M67.0029293,0 C66.4490268,0 66,0.443864822 66,1 L66,1 C66,1.55228475 66.4378814,2 67.0029293,2 L71.9970707,2 C72.5509732,2 73,1.55613518 73,1 L73,1 C73,0.44771525 72.5621186,0 71.9970707,0 L67.0029293,0 Z M67.0029293,6 C66.4490268,6 66,6.44386482 66,7 L66,7 C66,7.55228475 66.4378814,8 67.0029293,8 L71.9970707,8 C72.5509732,8 73,7.55613518 73,7 L73,7 C73,6.44771525 72.5621186,6 71.9970707,6 L67.0029293,6 Z"></path>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    </span>\n                </div>\n            </div>\n            <div class="dm-widget-panel-font-list nano">\n                <div class="nano-content">\n                    <ul ng-click="selectFont($event)">\n                        <li ng-repeat="font in fonts" >\n                            <button>\n                                <span ng-style="{\'font-family\': font.value}" ng-class="{\'active\': font.key == visibleFont}">{{font.key}}</span>\n                            </button>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),a.put("../templates/ui-widgets/components/text-editing.directive/content.html",'<div>\n	<div class="dm-text-editing-holder" ng-class="{isVisible: shownTools}">\n        <div anchor-editor data-html2canvas-ignore ng-show="shownAnchorEditor"></div>\n	</div>\n	<div contenteditable="true" spellcheck="false"></div>\n</div>\n'),a.put("../templates/ui-widgets/components/text-editing.directive/popover.html",'<div bindonce="includes" class="dm-widget dm-widget-text has-arrow" ng-class="{\'panel-opened\': changeHeading || changeFont || changeColor, \'inverted\': inverted, \'bottom\': bottomArrow, \'top\': !bottomArrow}">\n	<!-- Bold -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'bold\') !== -1" ng-click="execBold()">\n		<i class="dm-widget-icon" ng-class="{active: bold}">\n			<svg class="styleable" width="15" height="16" viewBox="0 0 15 16" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.2c5.28 0 6.648-2.208 6.648-4.512 0-1.896-1.302-3.488-4.542-3.728v-.12c3.192-.552 3.774-2.344 3.774-3.616 0-2.016-1.176-3.816-5.904-3.816h-7.176v1.584h2.664v12.624h-2.664v1.584zm5.136-9v-5.208h1.944c2.736 0 3.408.888 3.408 2.4 0 1.656-.816 2.808-3.456 2.808h-1.896zm0 7.416v-6.024h1.824c3.096 0 4.248 1.224 4.248 2.88 0 2.232-1.08 3.144-4.2 3.144h-1.872z"/></svg>\n		</i>\n	</button>\n\n	<!-- Italic -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'italic\') !== -1" ng-click="execItalic()">\n		<i class="dm-widget-icon" ng-class="{active: italic}">\n			<svg class="styleable" width="13" height="16" viewBox="0 0 13 16" xmlns="http://www.w3.org/2000/svg"><path d="M.664 16h7.8l.36-1.584h-2.688l3.144-12.624h2.64l.384-1.584h-7.8l-.384 1.584h2.688l-3.144 12.624h-2.64l-.36 1.584z"/></svg>\n		</i>\n	</button>\n\n	<!-- Heading -->\n	<button class="dm-widget-item dm-widget-headings dm-widget-headings-h3" bo-if="includes.indexOf(\'heading\') !== -1" ng-click="triggerHeadingEditor($event);">\n		<i class="dm-widget-icon" ng-class="{active: selectedH1 || selectedHero || selectedSmall}">\n			<svg ng-show="(h1 || (!hero && !small) || selectedH1) && !selectedHero && !selectedSmall" class="styleable dm-widget-icon-h1" width="26" height="16" viewBox="0 0 26 16" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm19.191 0h5.775v-.99h-2.145v-8.625h-1.05c-.435.795-1.575 1.245-2.655 1.185v.81c.24.09.72.15 1.035.15.465 0 .915-.09 1.185-.21v6.69h-2.145v.99z"/></svg>\n			<svg ng-show="hero || selectedHero" class="styleable dm-widget-icon-h2" width="27" height="17" viewBox="0 0 27 17" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm18.966-.855c0 .615.36 1.095.96 1.095.495 0 .84-.39.84-.84 0-.18-.06-.345-.135-.45l.27-.03c.975 0 1.665 1.32 3.045 1.32 1.155 0 1.98-.855 2.22-3.135l-.75-.075c-.33 1.32-.6 1.8-1.23 1.8-.6 0-1.455-.78-2.52-.78-.405 0-.945.12-1.335.36l-.03-.06c.36-.645.84-1.185 2.52-1.995 1.935-.93 2.955-1.815 2.955-3.27 0-1.47-1.11-2.835-3.225-2.835-1.98 0-3.39 1.29-3.39 2.67 0 .675.45 1.2 1.095 1.2.63 0 1.02-.465 1.02-1.05 0-.465-.285-.825-.75-.99.315-.57.975-.915 1.815-.915 1.155 0 1.83.72 1.83 1.815 0 1.38-.615 1.86-2.445 2.955-1.86 1.11-2.76 2.22-2.76 3.21z"/></svg>\n			<svg ng-show="small || selectedSmall" class="styleable dm-widget-icon-h3" width="27" height="17" viewBox="0 0 27 17" xmlns="http://www.w3.org/2000/svg"><path d="M.72 16h7.416v-1.584h-2.28v-5.904h7.224v5.904h-2.28v1.584h7.416v-1.584h-2.664v-12.624h2.664v-1.584h-7.416v1.584h2.28v5.328h-7.224v-5.328h2.28v-1.584h-7.416v1.584h2.664v12.624h-2.664v1.584zm22.041.24c2.22 0 3.63-1.29 3.63-2.835 0-1.245-1.065-2.235-2.97-2.325v-.045c1.935-.345 2.745-1.41 2.745-2.4 0-1.275-1.125-2.385-3.165-2.385-1.89 0-3.24 1.065-3.24 2.22 0 .675.48 1.125 1.035 1.125.63 0 .945-.495.945-.975 0-.42-.27-.75-.6-.9.315-.3.915-.57 1.725-.57 1.035 0 1.665.555 1.665 1.59 0 1.065-.51 1.92-2.49 1.92h-.345v.885h.42c2.04 0 2.64.795 2.64 1.92 0 1.095-.57 1.875-1.98 1.875-.75 0-1.335-.21-1.665-.54.225-.195.45-.495.45-.87 0-.51-.345-.975-.93-.975-.66 0-1.11.54-1.11 1.14 0 1.23 1.395 2.145 3.24 2.145z"/></svg>\n		</i>\n	</button>\n\n	<!-- Panel for selecting heading -->\n	<div class="dm-widget-panel js-panel-heading" bo-if="includes.indexOf(\'heading\') !== -1" ng-hide="!changeHeading">\n		<ul class="dm-widget-panel-headings" ng-click="execHeading($event)">\n			<li class="dm-widget-panel-headings-h1" ng-class="{selected: selectedH1}"><button class="js-h1">Heading</button></li>\n			<li class="dm-widget-panel-headings-h2" ng-class="{selected: selectedHero}"><button class="js-h2">Hero text</button></li>\n			<li class="dm-widget-panel-headings-h3" ng-class="{selected: selectedSmall}"><button class="js-h3">Small heading</button></li>\n			<li ng-class="{selected: selectedH1}" ng-show="selectedH1">\n				<label class="dm-custom-checkbox dm-custom-checkbox-transparent dm-custom-checkbox-small">\n					<input ng-model="isHeadlineReplaced" ng-checked="isHeadlineReplaced" type="checkbox" />\n					<span></span>\n					<p>Use H1 header tag</p>\n				</label>\n			</li>\n		</ul>\n	</div>\n\n	<!-- Alignment -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'justify\') !== -1" ng-click="execJustify()">\n		<i class="dm-widget-icon" ng-class="{active: justified}">\n			<svg class="styleable" width="17" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 16"><path d="M4 0h11v2h-11zM0 7h19v2h-19zM4 14h11v2h-11z"/></svg>\n		</i>\n	</button>\n\n	<!-- Link -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'anchor\') !== -1" ng-click="triggerLinkEditor()">\n		<i class="dm-widget-icon" ng-class="{active: existsLink}">\n			<svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"/></svg>\n		</i>\n	</button>\n\n	<!-- Color -->\n	<button class="dm-widget-item" bo-if="includes.indexOf(\'color\') !== -1" ng-hide="inverted" ng-mouseup="toggleColorPicker($event)">\n		<i class="dm-widget-icon dm-widget-color-icon"><span class="dm-color-icon" ng-style="{background: style.color}"></span></i>\n	</button>\n\n	<div class="dm-widget-panel js-panel-color" bo-if="includes.indexOf(\'color\') !== -1" ng-show="changeColor">\n		<div dm-colorpicker ng-model="style.color"></div>\n	</div>\n\n	<!-- Font -->\n	<button class="dm-widget-item shown" bo-if="includes.indexOf(\'fonts\') !== -1" ng-click="triggerFontsEditor($event);" dm-nano-scroller>\n		<i class="dm-widget-icon">\n			<svg width="30px" height="17px" viewBox="0 0 30 17" version="1.1" xmlns="http://www.w3.org/2000/svg">\n			    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n			        <g class="styleable" transform="translate(-561.000000, -66.000000)">\n			            <g transform="translate(295.000000, 49.000000)">\n			                <path d="M278.76,31.416 L276.264,31.416 L276.264,33 L283.656,33 L283.656,31.416 L281.472,31.416 L276.312,17.112 L273.888,17.112 L268.392,31.416 L266.688,31.416 L266.688,33 L272.232,33 L272.232,31.416 L270.24,31.416 L271.68,27.456 L277.392,27.456 L278.76,31.416 Z M274.584,19.608 L274.68,19.608 L276.912,26.064 L272.208,26.064 L274.584,19.608 Z M287.376,33.12 C288.792,33.12 290.304,32.328 290.904,31.152 L291.024,31.152 C291.024,32.496 291.984,33.072 292.992,33.072 C294.072,33.072 294.888,32.52 295.464,31.176 L294.624,30.672 C294.384,31.2 294.096,31.536 293.76,31.536 C293.184,31.536 293.016,31.296 293.016,30.744 L293.016,25.176 C293.016,22.872 291.576,21.84 289.08,21.84 C286.608,21.84 284.568,22.896 284.568,24.648 C284.568,25.344 285.096,26.04 286.032,26.04 C286.92,26.04 287.424,25.416 287.424,24.696 C287.424,24.192 287.136,23.712 286.728,23.52 C287.304,23.208 287.856,23.064 288.576,23.064 C290.088,23.064 290.76,23.592 290.76,25.008 L290.76,26.136 C290.76,26.568 290.496,26.592 289.08,26.808 C287.088,27.096 285.888,27.384 285,28.272 C284.424,28.848 284.184,29.52 284.184,30.288 C284.184,31.944 285.36,33.12 287.376,33.12 L287.376,33.12 Z M288.408,31.584 C287.184,31.584 286.632,30.864 286.632,29.808 C286.632,28.368 287.352,28.08 289.68,27.72 C290.28,27.624 290.544,27.576 290.76,27.48 L290.76,29.376 C290.76,30.648 289.488,31.584 288.408,31.584 L288.408,31.584 Z" id="Aa-4"></path>\n			            </g>\n			        </g>\n			    </g>\n			</svg>\n		</i>\n	</button>\n\n	<!-- Fonts dropdown -->\n	<div class="dm-widget-panel js-panel-fonts" bo-if="includes.indexOf(\'fonts\') !== -1" ng-show="changeFont">\n		<div class="dm-widget-panel-font">\n			<div class="dm-widget-panel-font-col">\n				<span class="dm-widget-panel-font-icon first" ng-click="reduceFontSize()">\n					<svg width="9px" height="10px" viewBox="0 0 9 10" version="1.1" xmlns="http://www.w3.org/2000/svg">\n						<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n							<g class="styleable" transform="translate(-251.000000, -199.000000)">\n								<g transform="translate(236.000000, 130.000000)">\n									<g transform="translate(0.000000, 48.000000)">\n										<path d="M22.424,27.776 C22.424,28.0213346 22.4293333,28.2693321 22.44,28.52 C22.4506667,28.7706679 22.4666666,28.9973323 22.488,29.2 L23.544,29.2 L23.544,30 L21.032,30 L20.872,28.48 L20.792,28.48 C20.7386664,28.6933344 20.6400007,28.9013323 20.496,29.104 C20.3519993,29.3066677 20.1706678,29.4879992 19.952,29.648 C19.7333322,29.8080008 19.4746682,29.9359995 19.176,30.032 C18.8773318,30.1280005 18.5466685,30.176 18.184,30.176 C17.8213315,30.176 17.4880015,30.1226672 17.184,30.016 C16.8799985,29.9093328 16.6160011,29.760001 16.392,29.568 C16.1679989,29.375999 15.9946673,29.1440014 15.872,28.872 C15.7493327,28.5999986 15.688,28.293335 15.688,27.952 C15.688,27.4293307 15.7973322,26.997335 16.016,26.656 C16.2346678,26.314665 16.5573312,26.0453343 16.984,25.848 C17.4106688,25.6506657 17.9439968,25.5093338 18.584,25.424 C19.2240032,25.3386662 19.9706624,25.2906667 20.824,25.28 C20.8453334,25.1093325 20.856,24.9466674 20.856,24.792 L20.856,24.336 C20.856,23.6746634 20.7440011,23.1706684 20.52,22.824 C20.2959989,22.4773316 19.8960029,22.304 19.32,22.304 C19.1066656,22.304 18.8773346,22.3146666 18.632,22.336 C18.3866654,22.3573334 18.1626677,22.4213328 17.96,22.528 L17.96,24 L16.52,24 L16.52,22.224 C16.9040019,22.0213323 17.3573307,21.8400008 17.88,21.68 C18.4026693,21.5199992 19.0159965,21.44 19.72,21.44 C20.328003,21.44 20.8159982,21.5173326 21.184,21.672 C21.5520018,21.8266674 21.8346657,22.0293321 22.032,22.28 C22.2293343,22.5306679 22.357333,22.8133318 22.416,23.128 C22.474667,23.4426682 22.504,23.7546651 22.504,24.064 C22.504,24.7360034 22.4906668,25.3786636 22.464,25.992 C22.4373332,26.6053364 22.424,27.1999971 22.424,27.776 L22.424,27.776 Z M18.92,29.104 C19.1760013,29.104 19.4053323,29.0640004 19.608,28.984 C19.8106677,28.9039996 19.9893326,28.8026673 20.144,28.68 C20.2986674,28.5573327 20.4319994,28.4213341 20.544,28.272 C20.6560006,28.1226659 20.749333,27.9786674 20.824,27.84 L20.824,25.936 C20.1306632,25.936 19.5680022,25.9813329 19.136,26.072 C18.7039978,26.1626671 18.3653346,26.2826659 18.12,26.432 C17.8746654,26.5813341 17.7066671,26.759999 17.616,26.968 C17.5253329,27.176001 17.48,27.3973322 17.48,27.632 C17.48,28.1120024 17.6079987,28.4773321 17.864,28.728 C18.1200013,28.9786679 18.4719978,29.104 18.92,29.104 L18.92,29.104 Z" id="size-small"></path>\n									</g>\n								</g>\n							</g>\n						</g>\n					</svg>\n				</span>\n				<div min="1" max="9" ui-slider ng-model="classes[\'font-size\']"></div>\n				<span class="dm-widget-panel-font-icon last" ng-click="increaseFontSize()">\n					<svg width="11px" height="12px" viewBox="0 0 11 12" version="1.1" xmlns="http://www.w3.org/2000/svg">\n						<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n							<g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-320.000000, -198.000000)">\n								<g transform="translate(236.000000, 130.000000)">\n									<g transform="translate(0.000000, 48.000000)">\n										<path d="M93.28,28.22 C93.28,28.5266682 93.2866666,28.8366651 93.3,29.15 C93.3133334,29.4633349 93.3333332,29.7466654 93.36,30 L94.68,30 L94.68,31 L91.54,31 L91.34,29.1 L91.24,29.1 C91.173333,29.366668 91.0500009,29.6266654 90.87,29.88 C90.6899991,30.1333346 90.4633347,30.359999 90.19,30.56 C89.9166653,30.760001 89.5933352,30.9199994 89.22,31.04 C88.8466648,31.1600006 88.4333356,31.22 87.98,31.22 C87.5266644,31.22 87.1100019,31.153334 86.73,31.02 C86.3499981,30.886666 86.0200014,30.7000012 85.74,30.46 C85.4599986,30.2199988 85.2433341,29.9300017 85.09,29.59 C84.9366659,29.2499983 84.86,28.8666688 84.86,28.44 C84.86,27.7866634 84.9966653,27.2466688 85.27,26.82 C85.5433347,26.3933312 85.946664,26.0566679 86.48,25.81 C87.013336,25.5633321 87.679996,25.3866672 88.48,25.28 C89.280004,25.1733328 90.213328,25.1133334 91.28,25.1 C91.3066668,24.8866656 91.32,24.6833343 91.32,24.49 L91.32,23.92 C91.32,23.0933292 91.1800014,22.4633355 90.9,22.03 C90.6199986,21.5966645 90.1200036,21.38 89.4,21.38 C89.133332,21.38 88.8466682,21.3933332 88.54,21.42 C88.2333318,21.4466668 87.9533346,21.526666 87.7,21.66 L87.7,23.5 L85.9,23.5 L85.9,21.28 C86.3800024,21.0266654 86.9466634,20.800001 87.6,20.6 C88.2533366,20.399999 89.0199956,20.3 89.9,20.3 C90.6600038,20.3 91.2699977,20.3966657 91.73,20.59 C92.1900023,20.7833343 92.5433321,21.0366651 92.79,21.35 C93.0366679,21.6633349 93.1966663,22.0166647 93.27,22.41 C93.3433337,22.8033353 93.38,23.1933314 93.38,23.58 C93.38,24.4200042 93.3633335,25.2233295 93.33,25.99 C93.2966665,26.7566705 93.28,27.4999964 93.28,28.22 L93.28,28.22 Z M88.9,29.88 C89.2200016,29.88 89.5066654,29.8300005 89.76,29.73 C90.0133346,29.6299995 90.2366657,29.5033341 90.43,29.35 C90.6233343,29.1966659 90.7899993,29.0266676 90.93,28.84 C91.0700007,28.6533324 91.1866662,28.4733342 91.28,28.3 L91.28,25.92 C90.413329,25.92 89.7100027,25.9766661 89.17,26.09 C88.6299973,26.2033339 88.2066682,26.3533324 87.9,26.54 C87.5933318,26.7266676 87.3833339,26.9499987 87.27,27.21 C87.1566661,27.4700013 87.1,27.7466652 87.1,28.04 C87.1,28.640003 87.2599984,29.0966651 87.58,29.41 C87.9000016,29.7233349 88.3399972,29.88 88.9,29.88 L88.9,29.88 Z" id="size-big"></path>\n									</g>\n								</g>\n							</g>\n						</g>\n					</svg>\n				</span>\n			</div>\n			<div class="dm-widget-panel-font-col">\n				<span class="dm-widget-panel-font-icon first" ng-click="reduceLineHeight()">\n					<svg width="7px" height="6px" viewBox="0 0 7 6" version="1.1" xmlns="http://www.w3.org/2000/svg">\n						<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n							<g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-368.000000, -201.000000)">\n								<g transform="translate(236.000000, 130.000000)">\n									<g id="Group" transform="translate(0.000000, 48.000000)">\n										<g transform="translate(132.000000, 22.000000)">\n											<path d="M1.00292933,1 C0.449026756,1 0,1.44386482 0,2 L0,2 C0,2.55228475 0.437881351,3 1.00292933,3 L5.99707067,3 C6.55097324,3 7,2.55613518 7,2 L7,2 C7,1.44771525 6.56211865,1 5.99707067,1 L1.00292933,1 Z M1.00292933,5 C0.449026756,5 0,5.44386482 0,6 L0,6 C0,6.55228475 0.437881351,7 1.00292933,7 L5.99707067,7 C6.55097324,7 7,6.55613518 7,6 L7,6 C7,5.44771525 6.56211865,5 5.99707067,5 L1.00292933,5 Z"></path>\n										</g>\n									</g>\n								</g>\n							</g>\n						</g>\n					</svg>\n				</span>\n				<div min="1" max="7" ui-slider ng-model="classes[\'line-height\']"></div>\n				<span class="dm-widget-panel-font-icon last" ng-click="increaseLineHeight()">\n					<svg width="7px" height="8px" viewBox="0 0 7 8" version="1.1" xmlns="http://www.w3.org/2000/svg">\n						<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n							<g class="styleable" sketch:type="MSArtboardGroup" transform="translate(-434.000000, -200.000000)">\n								<g transform="translate(236.000000, 130.000000)">\n									<g transform="translate(0.000000, 48.000000)">\n										<g transform="translate(132.000000, 22.000000)" id="line-height-big">\n											<path d="M67.0029293,0 C66.4490268,0 66,0.443864822 66,1 L66,1 C66,1.55228475 66.4378814,2 67.0029293,2 L71.9970707,2 C72.5509732,2 73,1.55613518 73,1 L73,1 C73,0.44771525 72.5621186,0 71.9970707,0 L67.0029293,0 Z M67.0029293,6 C66.4490268,6 66,6.44386482 66,7 L66,7 C66,7.55228475 66.4378814,8 67.0029293,8 L71.9970707,8 C72.5509732,8 73,7.55613518 73,7 L73,7 C73,6.44771525 72.5621186,6 71.9970707,6 L67.0029293,6 Z"></path>\n										</g>\n									</g>\n								</g>\n							</g>\n						</g>\n					</svg>\n				</span>\n			</div>\n		</div>\n		<div class="dm-widget-panel-font-list nano">\n			<div class="nano-content">\n				<ul ng-click="selectFont($event)">\n					<li bindonce ng-repeat="font in fonts track by $index" >\n						<button>\n							<span bo-bind="font.key" bo-style="{\'font-family\': font.value}" ng-class="{\'active\': font.key == visibleFont}"></span>\n						</button>\n					</li>\n				</ul>\n			</div>\n		</div>\n	</div>\n</div>\n'),
a.put("../templates/ui-widgets/components/tools.directive/tools.html",'<i class="dm-widget-icon" ng-hide="showReplacedDropDown">\n  <svg class="styleable" xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><circle cx="2" cy="8" r="2"/><circle cx="8" cy="8" r="2"/><circle cx="14" cy="8" r="2"/></svg>\n</i>\n<div\n    ng-class="{\n        \'dm-widget-drop-down dm-widget-drop-down-tools\': !showReplacedDropDown,\n        \'dm-widget-replace-panel dm-widget-drop-down-tools\': showReplacedDropDown,\n        \'open-reordering\': reordering,\n        \'alt-drop-down\': changePaddings,\n        \'black-drop-down\': shownAnchorEditor,\n        }">\n	<ul class="dm-widget-drop-down-tools-list">\n		<li class="reorder-buttons" ng-hide="reordering || !move || changeAppearance || shownAnchorEditor">\n			<button class="move-up" ng-show="showUp">\n                <svg width="19px" height="21px" viewBox="0 0 19 21" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                        <g class="styleable" transform="translate(-811.000000, -110.000000)" fill="#3C3C3C">\n                            <g transform="translate(669.000000, 84.000000)">\n                                <path d="M156.764286,33.1064163 L152.05,28.2237872 C151.971429,28.14241 151.892857,28.0610329 151.814286,28.0610329 C151.578571,27.9796557 151.421429,27.9796557 151.185714,28.0610329 C151.107143,28.0610329 151.028571,28.14241 150.95,28.2237872 L146.235714,33.1064163 C145.921429,33.4319249 145.921429,33.9201878 146.235714,34.2456964 C146.55,34.571205 147.021429,34.571205 147.335714,34.2456964 L150.714286,30.7464789 L150.714286,40.1862285 C150.714286,40.6744914 151.028571,41 151.5,41 C151.971429,41 152.285714,40.6744914 152.285714,40.1862285 L152.285714,30.7464789 L155.664286,34.2456964 C155.821429,34.4084507 155.978571,34.4898279 156.214286,34.4898279 C156.45,34.4898279 156.607143,34.4084507 156.764286,34.2456964 C157.078571,33.9201878 157.078571,33.4319249 156.764286,33.1064163 L156.764286,33.1064163 Z"></path>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </button>\n			<button class="reorder">Move</button>\n			<button class="move-down" ng-show="showDown">\n                <svg width="19px" height="21px" viewBox="0 0 19 21" version="1.1" xmlns="http://www.w3.org/2000/svg">\n                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                        <g class="styleable" transform="translate(-688.000000, -110.000000)">\n                            <g transform="translate(669.000000, 84.000000)">\n                                <path d="M33.7642857,34.74375 C33.45,34.41875 32.9785714,34.41875 32.6642857,34.74375 L29.2857143,38.2375 L29.2857143,28.8125 C29.2857143,28.325 28.9714286,28 28.5,28 C28.0285714,28 27.7142857,28.325 27.7142857,28.8125 L27.7142857,38.2375 L24.3357143,34.74375 C24.0214286,34.41875 23.55,34.41875 23.2357143,34.74375 C22.9214286,35.06875 22.9214286,35.55625 23.2357143,35.88125 L27.95,40.75625 C28.0285714,40.8375 28.1071429,40.91875 28.1857143,40.91875 C28.2642857,41 28.4214286,41 28.5,41 C28.5785714,41 28.7357143,41 28.8142857,40.91875 L29.05,40.75625 L33.7642857,35.88125 C34.0785714,35.55625 34.0785714,35.06875 33.7642857,34.74375 L33.7642857,34.74375 Z"></path>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </button>\n		</li>\n        <li ng-hide="reordering || !duplicate || changeAppearance || shownAnchorEditor"><button class="duplicate-template">Duplicate</button></li>\n        <li ng-hide="reordering || !anchor || changeAppearance || shownAnchorEditor"><button class="section-anchor">Anchor</button></li>\n		<li ng-hide="reordering || !appearance || changeAppearance || shownAnchorEditor"><button class="appearance-template">Appearance</button></li>\n		<li ng-hide="reordering || !customCSS || changeAppearance || shownAnchorEditor"><button class="edit-css-template">Custom CSS</button></li>\n		<li ng-hide="reordering || !remove || changeAppearance || shownAnchorEditor"><button class="remove-template">Remove</button></li>\n        <li class="reorder-holder" ng-show="reordering">\n            <div class="reorder-holder-inner"></div>\n        </li>\n        <li ng-show="changeAppearance && !changePaddings && !hideInFooter">\n            <button class="background-template">Background</button>\n        </li>\n        <li ng-show="changeAppearance && !changePaddings">\n            <button class="paddings-template">Change Paddings</button>\n        </li>\n        <li ng-show="changePaddings" class="paddings-holder">\n            <span class="ui-slider-label">Top padding</span>\n            <div ui-slider ng-model="topPadding" data-slider-type="top" min="0" max="12" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">\n                <div class="ui-slider-handle-holder">\n                    <span class="top-padding-handle ui-slider-handle ui-state-default ui-corner-all ng-binding" tabindex="0">{{ topPadding }}</span>\n                </div>\n            </div>\n            <span class="ui-slider-label">Bottom padding</span>\n            <div ui-slider ng-model="bottomPadding" data-slider-type="bottom" min="0" max="12" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">\n                <div class="ui-slider-handle-holder">\n                    <span class="bottom-padding-handle ui-slider-handle ui-state-default ui-corner-all ng-binding" tabindex="0">{{ bottomPadding }}</span>\n                </div>\n            </div>\n        </li>\n        <li class="section-anchor-holder" ng-show="shownAnchorEditor">\n            <div section-anchor-editor data-html2canvas-ignore ng-show="shownAnchorEditor"></div>\n        </li>\n	</ul>\n</div>\n'),a.put("../templates/ui-widgets/components/upload-media.directive/drop-image.html",'<div ng-controller="MediaUploadCtrl">\n    <div\n        class="droppable-media"\n        drag-over-class="{ accept: \'show\', delay: 10 }"\n        ng-file-drop\n        ng-file-change="onFileSelect($files, dmImageWidth)"\n        ng-multiple="true"\n        allow-dir="false"\n        accept="image/*">\n    </div>\n    <input\n        class="dm-hidden-custom-file"\n        type="file"\n        ng-file-select\n        ng-file-change="onFileSelect($files, dmImageWidth)"\n        accept="image/*" />\n</div>\n'),a.put("../templates/ui-widgets/components/upload-media.directive/upload-drop-down-image.html",'<div \n	class="dm-widget-drop-down-upload-media-item" \n	ng-click="openWPMediaLibrary(showWPMediaLibrary)"\n	ng-hide="showUploadVideoDropDown">\n	<div \n		class="dm-upload-video" \n		ng-hide="showWPMediaLibrary">\n        <svg xmlns="http://www.w3.org/2000/svg" width="39px" height="30px" viewBox="0 0 39 30" enable-background="new 0 0 39 30"><path fill="#52B2D8" d="M0 30l13.3-21.3 13.3 21.3zM19.9 30l9.5-15.3 9.6 15.3z"></path><circle fill="#52B2D8" cx="34" cy="5" r="5"></circle>\n        </svg>\n        <span class="dm-media-title">Image</span>\n    </div>\n    <div ng-show="showWPMediaLibrary">\n		<div ng-transclude></div>\n	</div>\n</div>'),a.put("../templates/ui-widgets/components/upload-media.directive/upload-drop-down-video.html",'<div \n	class="dm-widget-drop-down-upload-media-item video-item" \n	ng-click="openVideoSettings(showUploadVideoDropDown)" \n	ng-class="{ \'show-video-settings\': showUploadVideoDropDown }"\n 	ng-hide="showWPMediaLibrary">\n    <div \n    	class="dm-upload-video" \n    	ng-hide="showUploadVideoDropDown">\n        <svg width="37px" height="29px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39 30" enable-background="new 0 0 39 30"><path fill="#E1241B" d="M35 30h-31c-2.2 0-4-1.8-4-4v-22c0-2.2 1.8-4 4-4h31c2.2 0 4 1.8 4 4v22c0 2.2-1.8 4-4 4z"/><path fill="#fff" d="M16 9.2l8 6.3-8 6.3z"/></svg>\n        <span class="dm-media-title">Video</span>\n    </div>\n    <div ng-show="showUploadVideoDropDown">\n    	<div ng-transclude></div>\n    </div>\n</div>'),a.put("../templates/ui-widgets/components/upload-media.directive/upload-media.html",'<i class="dm-widget-icon">\n    <svg class="styleable" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 0h-16c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-2.5 3c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm-12.6 10l4.3-6.5 3.6 5.7 2.8-4.4 3.6 5.2h-14.3z"/></svg>\n</i>\n<div class="dm-widget-drop-down dm-widget-drop-down-upload-media">\n    <div ng-transclude></div>\n</div>'),a.put("../templates/ui-widgets/components/upload-media.directive/video-settings.html",'<div ng-hide="showVideoQualityPanel">\n	<div class="dm-widget-row dm-video-settings-videoID" ng-hide="showWPMediaLibrary">\n		<a ng-show="dmUploadVideo" class="dm-video-settings-remove" ng-click="removeVideo()">\n			<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"></path></svg>\n		</a>\n		<h2 class="dm-widget-row-title">Youtube Video ID</h2>\n		<input class="dm-video-settings-text videoID" ng-model="tempVideoID" type="text" placeholder="XSNQRNlja8" />\n	</div>\n	<div class="dm-widget-row" ng-hide="showWPMediaLibrary || !checkVisibility(dmUploadVideoAutoplay)">\n		<label class="dm-custom-checkbox dm-custom-checkbox-small dm-widget-row-title">\n			<input ng-model="dmUploadVideoAutoplay" ng-checked="dmUploadVideoAutoplay" type="checkbox" />\n			<span></span>\n			Autoplay\n		</label>\n	</div>\n	<div class="dm-widget-row" ng-hide="showWPMediaLibrary || !checkVisibility(dmUploadVideoControls)">\n		<label class="dm-custom-checkbox dm-custom-checkbox-small dm-widget-row-title">\n			<input ng-model="dmUploadVideoControls" ng-checked="dmUploadVideoControls" type="checkbox" />\n			<span></span>\n			Show Controls\n		</label>\n	</div>\n	<div class="dm-widget-row" ng-hide="showWPMediaLibrary || !checkVisibility(dmUploadVideoQuality)">\n		<h2 class="dm-widget-row-title dm-video-settings-quality" ng-click="showVideoQuality(true)">\n			<span class="dm-widget-row-value" ng-bind="qualityName(dmUploadVideoQuality)"></span>\n			Quality\n		</h2>\n	</div>\n	<div class="dm-widget-row row-first-frame" ng-show="checkVisibility(dmUploadVideoFirstFrame)">\n		<span class="dm-widget-row-value" ng-hide="showWPMediaLibrary">Upload</span>\n		<h2 class="dm-widget-row-title" ng-hide="showWPMediaLibrary">First Frame</h2>\n		<div\n				class="dm-video-settings-first-frame"\n				dm-image-width="dmUploadVideoFirstFrameImageWidth"\n				dm-upload-image="dmUploadVideoFirstFrame"\n				ng-click="openWPMediaLibrary(showWPMediaLibrary)">\n				<div\n						dm-wp-media-library\n						ng-show="showWPMediaLibrary"\n						dm-media-show="data.media.show"\n						dm-selected-image="dmUploadVideoFirstFrame">\n				</div>\n	</div>\n	</div>\n	<div class="dm-widget-row" ng-hide="showWPMediaLibrary || !checkVisibility(dmUploadVideoStartAt)">\n		<label class="dm-widget-row-title">\n			<input class="dm-widget-row-value" dm-numbers-only ng-model="dmUploadVideoStartAt" maxlength="5" type="text" />\n			Start At (sec.)\n		</label>\n	</div>\n	<div class="dm-widget-row" ng-hide="showWPMediaLibrary || !checkVisibility(dmUploadVideoStopAt)">\n		<label class="dm-widget-row-title">\n			<input class="dm-widget-row-value" dm-numbers-only ng-model="dmUploadVideoStopAt" maxlength="5" type="text" />\n			Finish At (sec.)\n		</label>\n	</div>\n</div>\n\n<div ng-show="showVideoQualityPanel">\n	<div class="dm-widget-drop-heading">\n		<span class="dm-widget-drop-heading-btn" ng-click="showVideoQuality(false)">Quality</span>\n	</div>\n	<div class="dm-video-settings-quality-wrapper">\n		<ul class="dm-video-settings-quality-list">\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'default\' }" ng-click="setVideoQuality(\'default\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				Default\n			</li>\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'small\' }" ng-click="setVideoQuality(\'small\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				Small\n			</li>\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'medium\' }" ng-click="setVideoQuality(\'medium\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				Medium\n			</li>\n		</ul>\n		<ul class="dm-video-settings-quality-list">\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'large\' }" ng-click="setVideoQuality(\'large\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				Large\n			</li>\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'hd720\' }" ng-click="setVideoQuality(\'hd720\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				HD 720\n			</li>\n			<li class="dm-video-settings-quality-item" ng-class="{ \'active\': dmUploadVideoQuality == \'hd1080\' }" ng-click="setVideoQuality(\'hd1080\')">\n				<svg width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n				    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n				        <g transform="translate(-707.000000, -157.000000)" stroke-width="3" stroke="#FFFFFF" opacity="0.9">\n				            <g transform="translate(709.000000, 158.000000)">\n				                <g>\n				                    <path d="M0,8 L5,14 L14,0" id="Shape"></path>\n				                </g>\n				            </g>\n				        </g>\n				    </g>\n				</svg>\n				HD 1080\n			</li>\n		</ul>\n	</div>\n</div>'),a.put("../templates/ui-widgets/components/upload-media.directive/wp-media-library.html",'<div dm-media-preloader>\n	<iframe id="media-library"></iframe>\n</div>')}]),function(){angular.module("dmApp").controller("MediaUploadCtrl",["$scope","$element","$upload","$rootScope",function(a,b,c,d){var e=b.find(".dm-hidden-custom-file"),f=b.find(".dm-custom-file"),g=!1;a.onFileSelect=function(e,f){var g=0,h={};if(d.$emit("closeAllDropDowns"),a.dataFiles=[],f)for(var i in f)h[i]={max_width:f[i]-0};for(var i=0;i<e.length;i++){var j=e[i];a.$emit("showPreloader"),a.upload=c.upload({url:ajaxurl+"?action=dm_api&method=attachement.upload",params:{params:{sizes:h}},file:j}).success(function(c,d,f,h){var i=h.file.type.split("/"),j=i[i.length-1];c.result?a.dataFiles.push({dataUrl:c.result,format:j}):c.error?(alert("Error occurred: ("+c.error.code+") "+c.error.message),a.$emit("hidePreloader")):(alert("Upload error"),a.$emit("hidePreloader")),g++,g===e.length&&(a.$emit("fileUploaded",a.dataFiles),b.find(".dm-custom-file").val(null),a.$emit("hidePreloader"))}).error(function(b,c,d,e){alert("Error occurred: "+(413==c?"Your HTTP server does not allow to upload large files.":"HTTP Error number"+c+".")),a.$emit("hidePreloader")})}},a.$on("clickedToUploadMedia",function(a){g=!0,e.click()}),e.on("click",function(a){g&&a.stopPropagation()}),f.on("click",function(){d.$emit("closeAllDropDowns")})}])}(),function(){angular.module("dmApp").factory("api",["$http",function(a){return{call:function(b,c,d,e){var f=function(a){console.log(a)},g=function(a,b){alert("API failed: "+a+": "+b)};return d=d||f,e=e||g,a({url:ajaxurl,method:"POST",params:{action:"dm_api",method:b},data:JSON.stringify({params:c})}).success(function(a,b,c,f){"result"in a?d(a.result):"error"in a&&e(a.error.code,a.error.message)}).error(function(a,b,c,d){e(b,c)})}}}])}(),function(){angular.module("dmApp").factory("fontsFactory",["$http",function(a){return{getFonts:function(){return a({url:ajaxurl,method:"GET",params:{action:"dm_api",method:"font.get"},data:{params:{}}})},getTKFonts:function(b){return a.jsonp("https://typekit.com/api/v1/json/kits/"+b+"/published?callback=JSON_CALLBACK")}}}])}(),function(){angular.module("dmApp").factory("URLValidator",[function(){var a=function(a){return a?!0:!1};return{init:a}}])}(),function(){angular.module("dmApp").factory("widgetIcons",["$filter",function(a){function b(b){var d=a("filter")(c(),{name:b});return d.length?d[0].code:""}function c(){return[{name:"image",code:'<svg class="styleable" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 0h-16c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-2.5 3c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm-12.6 10l4.3-6.5 3.6 5.7 2.8-4.4 3.6 5.2h-14.3z"/></svg>'},{name:"image-alt",code:'<svg xmlns="http://www.w3.org/2000/svg" width="39px" height="30px" viewBox="0 0 39 30" enable-background="new 0 0 39 30"><path fill="#52B2D8" d="M0 30l13.3-21.3 13.3 21.3zM19.9 30l9.5-15.3 9.6 15.3z"/><circle fill="#52B2D8" cx="34" cy="5" r="5"/></svg>'},{name:"video",code:'<svg xmlns="http://www.w3.org/2000/svg" width="37px" height="29px" viewBox="0 0 39 30" enable-background="new 0 0 39 30"><path fill="#E1241B" d="M35 30h-31c-2.2 0-4-1.8-4-4v-22c0-2.2 1.8-4 4-4h31c2.2 0 4 1.8 4 4v22c0 2.2-1.8 4-4 4z"/><path fill="#fff" d="M16 9.2l8 6.3-8 6.3z"/></svg>'},{name:"url",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16" height="16" fill="rgba(255,255,255,.9)"><path d="M10 6c-.6-.5-1.2-.5-1.5-.1-.5.4-.5 1 .1 1.5.5.6.7 1.2.7 2 0 .7-.3 1.4-.8 1.9l-1.9 1.9c-1 1-2.8 1-3.8 0-1.1-1.1-1.1-2.8 0-3.8l.7-.7c-.3-.9-.4-1.7-.3-2.6l-1.8 1.9c-1.8 1.8-1.8 4.8 0 6.7.9.8 2 1.3 3.3 1.3s2.4-.5 3.3-1.4l1.9-1.9c1.9-1.9 1.9-4.8.1-6.7zm-4 4c.5.5 1.1.5 1.5.2.5-.5.5-1.1-.1-1.6-.5-.6-.7-1.2-.7-2 0-.7.3-1.4.8-1.9l1.9-1.9c1-1 2.8-1 3.8 0 1.1 1.1 1.1 2.8 0 3.8l-.7.7c.3.8.4 1.7.3 2.5l1.8-1.8c1.8-1.8 1.8-4.8 0-6.7-.9-.8-2-1.3-3.3-1.3s-2.4.5-3.3 1.4l-2 1.9c-1.8 1.9-1.8 4.8 0 6.7z"/></svg>'},{name:"trash",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 17 16" enable-background="new 0 0 17 16"><path d="M14.3 4.5h-11.6c-.4 0-.7.3-.7.8l.7 10c0 .4.4.8.9.8h10c.4 0 .8-.3.9-.8l.7-10c-.2-.5-.5-.8-.9-.8zm-7.3 8.4c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-5.5c0-.5.4-.9.9-.9s.9.4.9.9v5.5zm4.7 0c0 .5-.4.8-.8.8-.5 0-.8-.4-.8-.8v-5.6c0-.5.4-.8.8-.8.5 0 .8.4.8.8v5.6zm4.3-11.9h-4c0-.6-.4-1-1-1h-5c-.6 0-1 .4-1 1h-4c-.6 0-1 .4-1 1s.4 1 1 1h15c.6 0 1-.4 1-1s-.4-1-1-1z"/></svg>'},{name:"duplicate",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path d="M2 14v-10h-2v12h12v-2zM14 2v8h-8v-8h8m2-2h-12v12h12v-12z"/></svg>'},{name:"addElement",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path d="M16 7h-7v-7h-2v7h-7v2h7v7h2v-7h7z"/></svg>'},{name:"columns",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 14 16" enable-background="new 0 0 14 16"><path d="M0 0h2v16h-2zm6 0h2v16h-2zm6 0h2v16h-2z"/></svg>'},{name:"layout",code:'<svg xmlns="http://www.w3.org/2000/svg" class="styleable" width="16px" height="16px" fill="rgba(255,255,255,.9)" viewBox="0 0 16 16" enable-background="new 0 0 16 16"><path fill="rgba(255,255,255,.9)" d="M14 11v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7zm7-7v3h-3v-3h3m2-2h-7v7h7v-7zm-11 2v3h-3v-3h3m2-2h-7v7h7v-7z"/></svg>'},{name:"feature-top",code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24px" height="22px" enable-background="new 0 0 24 22"><path fill="#fff" d="M1 1h22v13h-22z"/><path fill="#0192FD" class="feature-icon" d="M22 2v11h-20v-11h20m1-2h-22c-.6 0-1 .4-1 1v12.9c0 .6.4 1.1 1 1.1h22c.5 0 1-.5 1-1.1v-12.9c0-.6-.5-1-1-1z"/><path opacity=".4" fill="#0192FD" class="feature-icon" d="M24 21c0 .6-.4 1-1 1h-22c-.6 0-1-.4-1-1s.4-1 1-1h22c.6 0 1 .4 1 1z"/></svg>'},{name:"feature-bottom",code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24px" height="22px" enable-background="new 0 0 24 22"><path fill="#fff" d="M1 8h22v13h-22z"/><path fill="#0192FD" class="feature-icon" d="M22 9v11h-20v-11h20m1-2h-22c-.6 0-1 .4-1 1v12.9c0 .6.4 1.1 1 1.1h22c.5 0 1-.5 1-1.1v-12.9c0-.6-.5-1-1-1z"/><path opacity=".4" fill="#0192FD" class="feature-icon" d="M24 1c0 .6-.4 1-1 1h-22c-.6 0-1-.4-1-1s.4-1 1-1h22c.6 0 1 .4 1 1z"/></svg>'},{name:"feature-left",code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24px" height="22px" enable-background="new 0 0 24 22"><path fill="#fff" d="M1 5h8v12h-8z"/><path fill="#0192FD" class="feature-icon" d="M8 6v10h-6v-10h6m1-2h-8c-.6 0-1 .5-1 1v12c0 .6.5 1 1 1h8c.5 0 1-.4 1-1v-12c0-.5-.5-1-1-1z"/><path opacity=".4" fill="#0192FD" class="feature-icon" d="M24 5c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1zM24 11c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1zM24 17c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1z"/></svg>'},{name:"feature-right",code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24px" height="22px" enable-background="new 0 0 24 22"><path fill="#fff" d="M15 5h8v12h-8z"/><path fill="#0192FD" class="feature-icon" d="M22 6v10h-6v-10h6m1-2h-8c-.5 0-1 .5-1 1v12c0 .6.5 1 1 1h8c.6 0 1-.4 1-1v-12c0-.5-.5-1-1-1z"/><path opacity=".4" fill="#0192FD" class="feature-icon" d="M9 5c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1zM9 11c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1zM9 17c0 .6-.4 1-1 1h-7c-.6 0-1-.4-1-1s.4-1 1-1h7c.6 0 1 .4 1 1z"/></svg>'},{name:"feature-small",code:'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="22px" viewBox="0 0 24 22" enable-background="new 0 0 24 22"><path fill="#0192FD" class="feature-icon" d="M22 2v18h-20v-18h20m.9-2h-21.9c-.6 0-1 .5-1 1v19.9c0 .6.4 1.1 1 1.1h21.9c.6 0 1.1-.5 1.1-1.1v-19.9c0-.5-.5-1-1.1-1z" opacity=".4"/><path fill="#0192FD" class="feature-icon" d="M9 2v4h-7v-4h7m1-2h-9c-.6 0-1 .5-1 1v6.1c0 .6.4.9 1 .9h9c.6 0 1-.3 1-.9v-6.1c0-.5-.5-1-1-1z"/></svg>'},{name:"feature-medium",code:'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="22px" viewBox="0 0 24 22" enable-background="new 0 0 24 22"><path fill="#0192FD" class="feature-icon" d="M22 2v18h-20v-18h20m.9-2h-21.9c-.6 0-1 .5-1 1v19.9c0 .6.4 1.1 1 1.1h21.9c.6 0 1.1-.5 1.1-1.1v-19.9c0-.5-.5-1-1.1-1z" opacity=".4"/><path fill="#0192FD" class="feature-icon" d="M13 2v7h-11v-7h11m.9-2h-12.9c-.6 0-1 .5-1 1v8.9c0 .6.4 1.1 1 1.1h12.9c.6 0 1.1-.5 1.1-1.1v-8.9c0-.5-.5-1-1.1-1z"/></svg>'},{name:"feature-large",code:'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="22px" viewBox="0 0 24 22" enable-background="new 0 0 24 22"><path fill="#0192FD" class="feature-icon" d="M22 2v18h-20v-18h20m.9-2h-21.9c-.6 0-1 .5-1 1v19.9c0 .6.4 1.1 1 1.1h21.9c.6 0 1.1-.5 1.1-1.1v-19.9c0-.5-.5-1-1.1-1z" opacity=".4"/><path fill="#0192FD" class="feature-icon" d="M22 2v11h-20v-11h20m1-2h-22c-.6 0-1 .5-1 1v12.8c0 .6.4 1.2 1 1.2h22c.6 0 1-.6 1-1.2v-12.8c0-.5-.4-1-1-1z"/></svg>'},{name:"feature-small-alt",code:'<svg class="styleable" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM7 6h6v4h-6z"/></svg>'},{name:"feature-medium-alt",code:'<svg class="styleable" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM4 6h12v4h-12z"/></svg>'},{name:"feature-large-alt",code:'<svg class="styleable" width="20px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" enable-background="new 0 0 20 16"><path d="M18 2v12h-16v-12h16m1-2h-18c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h18c.5 0 1-.4 1-1v-14c0-.6-.5-1-1-1zM4 4h12v8h-12z"/></svg>'},{name:"prev",code:'<svg ng-non-bindable width="8px" height="15px" viewBox="0 0 11 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Slides-2" sketch:type="MSArtboardGroup" transform="translate(-48.000000, -52.000000)" stroke="rgba(255,255,255,.9)FFF" stroke-width="2"><path d="M47,51 L54.875,60 L47,69" id="Prev-Slide-2" sketch:type="MSShapeGroup" transform="translate(52.500000, 61.000000) rotate(-180.000000) translate(-52.500000, -61.000000) "></path></g></g></svg>'},{name:"next",code:'<svg ng-non-bindable width="8px" height="15px" viewBox="0 0 11 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Slides-2"  transform="translate(-150.000000, -50.000000)" stroke="rgba(255,255,255,.9)FFF" stroke-width="2"><path d="M151,51 L158.875,60 L151,69" id="Prev-Slide-2" sketch:type="MSShapeGroup"></path></g></g></svg>'},{name:"add",code:'<svg ng-non-bindable width="16px" height="16px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Slides-2" sketch:type="MSArtboardGroup" transform="translate(-93.000000, -135.000000)" stroke="rgba(255,255,255,.9)FFF" stroke-width="2"><g id="Add-Slide" sketch:type="MSLayerGroup" transform="translate(94.000000, 136.000000)"><circle id="Oval-15" sketch:type="MSShapeGroup" cx="10" cy="10" r="10"></circle><path d="M5.5,10 L14.5553856,10" id="Line-2" stroke-linecap="square" sketch:type="MSShapeGroup"></path><path d="M10,5 L10,14.0553856" id="Line-3" stroke-linecap="square" sketch:type="MSShapeGroup"></path></g></g></g></svg>'},{name:"remove",code:'<svg ng-non-bindable width="16px" height="16px" viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Slides-2" sketch:type="MSArtboardGroup" transform="translate(-222.000000, -135.000000)" stroke="rgba(255,255,255,.9)FFF" stroke-width="2"><g id="Remove-Slide" sketch:type="MSLayerGroup" transform="translate(223.000000, 136.000000)"><circle id="Oval-15" sketch:type="MSShapeGroup" cx="10" cy="10" r="10"></circle><path d="M5.5,10 L14.5553856,10" id="Line-2" stroke-linecap="square" sketch:type="MSShapeGroup"></path></g></g></g></svg>'},{name:"text",code:'<svg ng-non-bindable width="22px" height="22px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Menu" sketch:type="MSArtboardGroup" transform="translate(-47.000000, -79.000000)" fill="rgba(255,255,255,.9)FFF"><path d="M52.3058015,96.4036305 L64.9357044,83.7737275 L64.9357044,83.7737275 L62.212337,81.0503601 L49.5927616,93.6905905 L49.5941394,93.6919684 L52.3058015,96.4036305 Z M51.6629772,97.0464548 L50.6363636,98.0730683 C50.6363636,98.0730683 47,99.0133806 47,99.0133806 L47.9090909,95.3770169 L48.9504629,94.3339405 L48.9513151,94.3347927 L51.6629772,97.0464548 Z M65.5785288,83.1309032 L66.9843893,81.7250426 L64.2593467,79 L62.8546357,80.4070101 L65.5785288,83.1309032 L65.5785288,83.1309032 Z" id="Edit-2" sketch:type="MSShapeGroup"></path></g></g></svg>'},{name:"new-window",code:'<svg ng-non-bindable xmlns="http://www.w3.org/2000/svg" style="fill: rgba(255,255,255,.9);" viewBox="0 0 15 16" enable-background="new 0 0 15 16" width="15px" height="15px"><path d="M13.5 11h-8c-.827 0-1.5-.673-1.5-1.5v-8c0-.827.673-1.5 1.5-1.5h8c.827 0 1.5.673 1.5 1.5v8c0 .827-.673 1.5-1.5 1.5zm-7.5-2h7v-7h-7v7zM9.5 15h-8c-.827 0-1.5-.673-1.5-1.5v-8c0-.827.673-1.5 1.5-1.5h1.5v2h-1v7h7v-1h2v1.5c0 .827-.673 1.5-1.5 1.5z"/></svg>'},{name:"reorder",code:'<svg ng-non-bindable xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" style="fill: rgba(255,255,255,.9);"><path d="M0 9h7v7h-7zM14.6 4.9l1.1-1.5c.5-.6.3-1.4-.3-1.4h-5.6c-.6 0-1 .8-.7 1.4l2.1 4.3c.2.5.9.5 1.3 0l.9-1.1c.3.4.6 1 .6 2 0 2.1-.8 2.9-2.4 3.6-.5.2-.7.8-.5 1.3.2.4.5.6.9.6.1 0 .3 0 .4-.1 1.8-.8 3.6-2.1 3.6-5.4 0-1.9-.7-3-1.4-3.7zM0 7h7v-7h-7v7zm2-5h3v3h-3v-3z"/></svg>'}]}return{getIcon:b}}])}(),function(){angular.module("dmApp").directive("dmTemplate",["templateModel","layoutModel","$http","$timeout","$rootScope",function(a,b,c,d,e){function f(f,g,h){function i(a,b){return{url:ajaxurl,method:"POST",params:{action:"dm_api",method:a},data:JSON.stringify({
params:b})}}function j(c){f.data=angular.copy(c),b.addTemplate(a.create(f.id,f.data))}function k(a){d(function(){j(a),m=f.data,DmCommonFunc.customBlockWidget(g),f.templatedCreated=!0,e.$broadcast("applyPaddings"),l(h.dmTemplate,h.componentId)},!1)}function l(a,b){var c,e=a.split("."),f=e[0],g=e[1];if("custom"===f){var h=g.split("_"),i=h[0];h[1];c=i}else c=f;d(function(){window.dmTemplateInit[c]($("[component-id="+b+"]"),!0)},!1)}var m,n='<div class="template-selection template-selection-top"></div><div class="template-selection template-selection-bottom"></div><div class="template-selection template-selection-left"></div><div class="template-selection template-selection-right"></div>';if(f.id=h.componentId,f.$emit("scope-was-loaded",{id:f.id,changed:!1}),g.hasClass("manuallyAdded"))c(i("component.model.get",{component_ids:[f.id]})).then(function(a){k(a.data.result[f.id]),g.removeClass("manuallyAdded")});else if(!e.loadingInitScopes){var o=$(".dm-template","#templates"),p=[];e.loadingInitScopes=!0,$.each(o,function(){p.push(+$(this).attr("component-id"))}),c(i("component.model.get",{component_ids:p})).then(function(a){e.initScopes=a.data.result,e.loadingInitScopes=!1,e.$emit("initScopes-was-loaded")})}g.append(n),e.$on("initScopes-was-loaded",function(a){k(e.initScopes[f.id])}),f.$on("scope-was-saved",function(a,b){m=angular.copy(f.data)}),f.$on("remove-template",function(a,b){f.removeTemplate()}),f.$watch("data",function(a,b){a&&b&&(_.deepEquals(b,a)||f.$emit("scope-was-changed",{id:f.id,changed:!0}))},!0),f.removeTemplate=function(){f.$emit("scope-was-removed",f.id),b.removeTemplate(f.id),f.$destroy(),e.$broadcast("applyPaddings")},f.findById=function(){return f.data},f.watchDefaultPaddings=function(){f.$watch("templatedCreated",function(a){a&&f.$broadcast("setDefaultPaddings")})}}return{scope:!0,controller:["$scope","$element","$attrs",f]}}])}(),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){a.defineExtension("autoFormatRange",function(b,c){function d(){j+="\n",l=!0,++k}for(var e=this,f=e.getMode(),g=e.getRange(b,c).split("\n"),h=a.copyState(f,e.getTokenAt(b).state),i=e.getOption("tabSize"),j="",k=0,l=0==b.ch,m=0;m<g.length;++m){for(var n=new a.StringStream(g[m],i);!n.eol();){var o=a.innerMode(f,h),p=f.token(n,h),q=n.current();n.start=n.pos,(!l||/\S/.test(q))&&(j+=q,l=!1),!l&&o.mode.newlineAfterToken&&o.mode.newlineAfterToken(p,q,n.string.slice(n.pos)||g[m+1]||"",o.state)&&d()}!n.pos&&f.blankLine&&f.blankLine(h),l||d()}e.operation(function(){e.replaceRange(j,b,c);for(var a=b.line+1,d=b.line+k;d>=a;++a)e.indentLine(a,"smart")})})});var DmCommonFunc=function(){function a(){$(".CodeMirror").each(function(a,b){b.CodeMirror.refresh()})}function b(a,b){function c(a){var c,e,f=[],g=$("[component-id]","#templates"),h=b.closest(".dm-widget"),i=$(window),j=i.scrollTop(),k=h.offset().top-j;$(".reorder-item",b).each(function(){f.push(+$(this).data("reorder-component-id"))});for(var l=0;l<f.length;l++){var m=$('[component-id="'+f[l]+'"]'),n=!1;m.find(".mb_YTPlayer").length&&(m.hasClass("custom-block")&&(e=m.find(".mb_YTPlayer").data("property")),m.find(".mb_YTPlayer").playerDestroy({move:!0}),n=!0),$("#templates").append(g.filter('[component-id="'+f[l]+'"]')),n&&d.updateMovingVideo(m,e)}$("body").scope().reorderBlocks(),c=h.offset().top-j,i.scrollTop(j-(k-c))}function e(){j.outerHeight(!0)<k?j.addClass("has-scrollbar"):j.removeClass("has-scrollbar")}var f,g,h=[],i=b.find(".reorder-holder-inner"),j=i.parent(),k=0,l=$(document).height(),m=b.closest(".dm-widget-main"),n={axis:"y",placeholder:"reorder-placeholder",delay:150,revert:0,scroll:!1,items:".reorder-item",start:function(a,b){b.helper.css({height:"auto"});var c=b.helper.height();$(".reorder-placeholder").height(c)},helper:function(a,b){var c=$("<div/>");b.hasClass("selected")||b.addClass("selected").siblings().removeClass("selected");var d=b.parent().children(".selected").clone();return b.data("multidrag",d).siblings(".selected").remove(),c.append(d)},sort:function(a,b){var c=b.item.closest(".reorder-holder-inner");$(window).mousemove(function(a){b.helper.css({top:a.pageY-c.offset().top+c.scrollTop()})})},stop:function(a,b){var d=b.item.data("multidrag");b.item.after(d).remove(),c(d)}};$.ui.sortable.prototype._rearrange=function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode?b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling):b.item[0],this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})};for(var o=0;o<a.length;o++)"menu"!==a[o].templateName?h.push('<div data-reorder-component-id="'+a[o].id+'" class="reorder-item"><img src="'+a[o].thumb+'" /></div>'):h.push('<div data-reorder-component-id="'+a[o].id+'"><img src="'+a[o].thumb+'" /></div>');i.append(h.join("\n\n")),f=b.find(".reorder-holder").outerHeight(),g=b.find(".reorder-holder").offset().top,g+f>l&&m.addClass("dropdown-flip"),$("div",i).each(function(){k+=$(this).outerHeight(!0)}),i.off("click").on("click",".reorder-item",function(a){a.shiftKey?$(this).toggleClass("selected"):$(this).addClass("selected").siblings().removeClass("selected")}),i.sortable(n).find(".reorder-loading").remove(),"Windows"===$.client.os&&(e(),$(window).resize(function(){e()}))}function c(a,b){var c=[],d=0,f=$("body").scope().arrayChanges;async.eachSeries(f,function(a,g){var h=f.indexOf(a),i=f[h].id,j=$('[component-id="'+i+'"]',"#templates"),k=j.attr("dm-template").split(".")[0];c[h]={id:i,templateName:k},!e[i]||f[h].screenshotChanges?html2canvas(j,{proxy:pluginUrl+"custom/screenshoter.php",onrendered:function(a){d++;var j=330,k=document.createElement("canvas");k.setAttribute("width",j),k.setAttribute("height",a.height*j/a.width);var l=k.getContext("2d");l.drawImage(a,0,0,a.width,a.height,0,0,j,a.height*j/a.width);var m=k.toDataURL("image/jpeg");c[h].thumb=m,e[i]=m,f[h].screenshotChanges=!1,d==f.length&&b(c),setTimeout(g,10)},useCORS:!0}):(d++,c[h].thumb=e[i],d==f.length&&b(c),setTimeout(g,10))})}var d={},e={};d.leaveHomeScreen=function(a){$(".designmodo-wrapper").css({position:"fixed",opacity:0,left:0,top:0,right:0,zIndex:-1}),$("#menu").hide(),$("#startMenu").addClass("disabledMenu"),$("#"+a+"Menu").removeClass("disabledMenu"),setTimeout(function(){$(window).resize()},500)},d.backToHomeScreen=function(){$("#previewHolder .mb_YTPlayer").length&&$("#previewHolder .mb_YTPlayer").playerDestroy({preview:!0}),$("[contenteditable]").addClass("composite"),$("#previewMenu, #reorderMenu, #editingMenu").addClass("disabledMenu"),$("#loader-container").removeClass("saving"),$("#startMenu").removeClass("disabledMenu"),$(".hideSettings").removeClass("hideSettings"),$(".designmodo-wrapper").css({position:"relative",opacity:1,zIndex:2}),$(".designmodo-wrapper").css({marginLeft:0}),$("body").removeClass("show-image-popup"),$("html").removeClass("noscroll"),setTimeout(function(){$("#menu").show()},500),$("#previewHolder, #reorderHolder").remove(),$(window).resize()},d.updateMovingVideo=function(a,b){if(a.hasClass("custom-block")){var c,d=$(a).find(".background-holder"),e='<div class="background" data-property="'+b+'"></div>';d.append(e),c=a.find(".background")}else{var c,f=a.scope().data.media.video,d=$(a).find("[ng-show=\"data.media.show === 'video'\"]"),e='<div class="background video-background" data-property="{videoURL: \''+f.id+"',quality: '"+f.quaity+"',startAt: "+f.startAt+",stopAt: "+f.stopAt+'}"></div>';d.append(e),c=a.find(".video-background")}c.YTPlayer(),c.on("YTPStart",function(a){c.pauseYTP()})},d.validateChanges=function(){var a=!1;return $("#templates .dm-grid:not(.custom-block)").length?$("#templates .dm-grid:not(.custom-block)").each(function(){var b=$(this).find("section"),c=$(this).find("li.dm-grid-item-holder");b.hasClass("column-2")&&c.length<2||b.hasClass("column-2")&&2==c.length&&c.find(".placeholderImg").is(":visible")?(alert("There has to be at least two items in two-column grids!"),a=!1):b.hasClass("column-3")&&c.length<3||b.hasClass("column-3")&&3==c.length&&c.find(".placeholderImg").is(":visible")?(alert("There has to be at least three items in three-column grids!"),a=!1):b.hasClass("column-4")&&c.length<4||b.hasClass("column-4")&&4==c.length&&c.find(".placeholderImg").is(":visible")?(alert("There has to be at least four items in four-column grids!"),a=!1):a=!0}):a=!0,a},d.getOriginalLayout=function(){var a=[];return $("[component-id]","#templates").each(function(){a.push($(this).attr("component-id"))}),a},d.saveChanges=function(){var a=DmCommonFunc.validateChanges();if(a){$("[contenteditable]").removeClass("composite"),DmCommonFunc.apiCall("post.title.set",{post_id:currentPostId,title:$("#postTitle").val()},function(a){a&&(document.title=$("#postTitle").val())});var b,c,d=[],e=[];if($("[component-id]","#templates").each(function(){e.push(+$(this).attr("component-id"))}),!e.length)return alert("You cannot save an empty page!"),!1;if(!$(this).hasClass("disabled")){$("body").removeClass("preview"),$("#loader-container").addClass("saving");for(var f=0;f<e.length;f++)b=$('[component-id="'+e[f]+'"]',"#templates"),c=b.attr("dm-template").split(".")[0],d[f]={id:e[f],templateName:c};DmCommonFunc.apiCall("layout.save",{layout_id:currentLayoutId,components:d},function(a){$("body").scope().save();var b=DmCommonFunc.getOriginalLayout();$("[contenteditable]").addClass("composite"),updateControls(hasDifferences(b)),$("#startMenu").removeClass("open")})}}},d.createResizing={_window:$(window),body:$("body"),boxes:$(".boxes",this.boxes),boxResult:$(".result",this.boxes),topBoxesCon:$(".top-boxes",this.boxes),headerHeight:$(".boxes-top-header-inner",this.boxes).outerHeight(),resizer:$("#resizer",this.boxes),dragCover:$("#editor-drag-cover",this.boxes),boxHtml:$("#box-html",this.boxes),heightOfEditorHeader:$(".sub-title",this.boxes).outerHeight(),editorResizers:$(".editor-resizer",this.boxes),sizeBox:$(".show-size",this.boxes),editHtmlConfirm:$(".edit-html-confirm",this.boxes),hideTooltip:$(".hide-confirm-tooltip",this.editHtmlConfirm),editHtml:$(".edit-html",this.editHtmlConfirm),iframe:$("iframe",this.boxResult),minHeight:165,magnetGap:20,resizerWidth:2,resizerHeight:3,windowResizeTimer:0,init:function(){this.initLayout(),this.setUpEditorResizers(),this.getMousePosition(),this.editHTML(),this.doneLoading()},editHTML:function(){d.createResizing.boxHtml.on("click",function(){d.createResizing.body.hasClass("disableHTML")&&d.createResizing.editHtmlConfirm.addClass("shown")}),d.createResizing.editHtml.on("click",function(b){b.preventDefault(),d.createResizing.hideConfirmTooltip(),d.createResizing.body.removeClass("disableHTML"),d.createResizing.body.addClass("move-to-half");var c=(d.createResizing.boxes.height()-d.createResizing.headerHeight-d.createResizing.resizerHeight)/2;d.createResizing.boxHtml.css("height",c+"px"),setTimeout(function(){d.createResizing.body.removeClass("move-to-half"),d.createResizing.setUpCodeEditorHeights(),a()},800)}),d.createResizing.hideTooltip.on("click",function(a){a.preventDefault(),d.createResizing.hideConfirmTooltip()}),$(document).on("keyup",function(a){27==a.keyCode&&d.createResizing.hideConfirmTooltip()})},getMousePosition:function(){d.createResizing.body.on("mousemove",function(a){d.createResizing.sizeBox.css({top:a.pageY})})},setUpCodeEditorHeights:function(){$(".code-wrap").each(function(){var a=$(this);a.height(a.closest(".box").height()-d.createResizing.heightOfEditorHeader)})},setUpEditorResizers:function(){d.createResizing.editorResizers.draggable({start:function(){d.createResizing.body.addClass("sub-editor-is-resizing"),d.createResizing.origHTMLEditorHeight=d.createResizing.boxHtml.height()},stop:function(){d.createResizing.body.removeClass("sub-editor-is-resizing"),d.createResizing.setUpCodeEditorHeights(),d.createResizing._window.height()-d.createResizing.headerHeight-d.createResizing.boxHtml.height()<=d.createResizing.minHeight&&d.createResizing.boxHtml.css("height",d.createResizing._window.height()-d.createResizing.headerHeight-d.createResizing.minHeight-1+"px"),a()},axis:"y",drag:function(a,b){d.createResizing._window.height()-d.createResizing.headerHeight-d.createResizing.boxHtml.height()>d.createResizing.minHeight&&d.createResizing.boxHtml.css("height",d.createResizing.origHTMLEditorHeight-b.position.top+"px")}})},initLayout:function(){d.createResizing.resizer.draggable({start:function(){d.createResizing.sizeBox.addClass("visible"),d.createResizing.body.addClass("main-editor-is-resizing"),d.createResizing.dragCover.show()},stop:function(a,b){d.createResizing.sizeBox.removeClass("visible"),d.createResizing.body.removeClass("main-editor-is-resizing"),d.createResizing.stopDragging(a,b)},axis:"x",drag:function(a,b){var c=d.createResizing._window.width(),e=d.createResizing.topBoxesCon.outerWidth(),f=d.createResizing.boxResult.width();d.createResizing.sizeBox.html(c-e-d.createResizing.resizerWidth+" px"),f<320+d.createResizing.magnetGap?d.createResizing.magnetResizer(b,320):f<480+d.createResizing.magnetGap&&f>480-d.createResizing.magnetGap?d.createResizing.magnetResizer(b,480):f<568+d.createResizing.magnetGap&&f>568-d.createResizing.magnetGap?d.createResizing.magnetResizer(b,568):f<768+d.createResizing.magnetGap&&f>768-d.createResizing.magnetGap?d.createResizing.magnetResizer(b,768):f<1024+d.createResizing.magnetGap&&f>1024-d.createResizing.magnetGap?d.createResizing.magnetResizer(b,1024):d.createResizing.topBoxesCon.width(b.offset.left)}})},magnetResizer:function(a,b){d.createResizing.topBoxesCon.width(d.createResizing._window.width()-d.createResizing.resizerWidth-b),(d.createResizing.topBoxesCon.width()-a.offset.left>d.createResizing.magnetGap||d.createResizing.topBoxesCon.width()-a.offset.left<-d.createResizing.magnetGap)&&d.createResizing.topBoxesCon.width(a.offset.left)},stopDragging:function(){d.createResizing.dragCover.hide(),a()},doneLoading:function(){d.createResizing._window.resize(function(){d.createResizing.boxes.height(d.createResizing._window.height()),d.createResizing.iframe.height(d.createResizing._window.height()),d.createResizing.setUpEditorResizers(),clearTimeout(d.createResizing.windowResizeTimer),d.createResizing.body.addClass("sub-editor-is-resizing"),d.createResizing.windowResizeTimer=setTimeout(function(){d.createResizing.setUpCodeEditorHeights(),d.createResizing.body.removeClass("sub-editor-is-resizing")},600)}),d.createResizing.setUpCodeEditorHeights()},reCalculate:function(){d.createResizing.resizer.trigger("drag"),d.createResizing._window.resize(),d.createResizing.boxes.height(d.createResizing._window.height()),d.createResizing.iframe.height(d.createResizing._window.height()),d.createResizing.boxHtml.css("height",d.createResizing.minHeight+"px"),d.createResizing.setUpCodeEditorHeights()},notCustomComponent:function(a){if(a){var b=(d.createResizing.boxes.height()-d.createResizing.headerHeight-d.createResizing.resizerHeight)/2;d.createResizing.body.removeClass("disableHTML"),d.createResizing.boxHtml.css("height",b+"px"),d.createResizing.setUpCodeEditorHeights()}},hideConfirmTooltip:function(){d.createResizing.editHtmlConfirm.addClass("out"),setTimeout(function(){d.createResizing.editHtmlConfirm.removeClass("shown").removeClass("out")},300)}},d.createEditingPage=function(b,c){function e(a){function c(b){d.apiCall("component.customcss.set",{component_id:b,custom_css:f},function(c){r=b,unSaveHTML=p.getValue(),J=o.getValue(),K=!1,L=!1,y.addClass("disabled"),a?a():H.removeClass("saving")},function(a,b){alert("It looks like your code is not valid. Please check one and try to save again. Your code wasn't saved."),H.removeClass("saving")})}var e=b.css,f=o.getValue(),g=p.getValue(),h=b.id;if(L){if(H.addClass("saving"),!b.is_custom){var i=Math.floor(1e16*Math.random()),j=b.id.split(".");h="custom."+j[0]+"_"+j[1]+"_"+i}g=m(g,h," custom-block"),d.apiCall("template.save",{template_id:h,html:g,css:e},function(a){a===!0&&d.apiCall("component.create",{template_id:h},function(a){var b=a.component_id;c(b)},function(a,b){alert(b),H.removeClass("saving")})},function(a,b){alert(b),H.removeClass("saving")})}else K&&(H.addClass("saving"),d.apiCall("component.create",{template_id:h,model:C.scope().data},function(a){var b=a.component_id;c(b)},function(a,b){alert(b),H.removeClass("saving")}))}function f(){var a=$("<div></div>");a.append(C.clone()),a.find(".video-background").length&&a.find(".video-background").remove(),a.find(".mb_YTPlayer").length&&a.find(".mb_YTPlayer").remove(),G.empty().append(a.html()),d.createResizing.reCalculate(),d.createResizing.notCustomComponent(b.is_custom),A.addClass("show-edit-html-css"),N||$("#loader-container").addClass("saving"),$(document).on("keydown.updatePreview",function(a){return(a.ctrlKey||a.metaKey)&&83==a.which?(z.hasClass("disabled")||($("#loader-container").addClass("saving"),g(!0)),a.preventDefault(),!1):void 0}),setTimeout(function(){n=setInterval(function(){F.attr("src")&&(F.load(function(){N=!0,A.addClass("iframe-loaded"),$("#loader-container").removeClass("saving")}),clearInterval(n))},500),k(),g()},500)}function g(b){I[0].html=m(p.getValue(),C.attr("dm-template")),I[0].custom_css=o.getValue(),d.apiCall("component.preview.set",{components:I},function(c){F.attr("src",ajaxurl+"?action=dm_api&method=component.preview.get&params[layout_id]="+c.layout_id),b?(z.addClass("disabled"),previewHTML=p.getValue(),previewCSS=o.getValue(),hasPreviewChangedCSS=!1,hasPreviewChangedHTML=!1):a()})}function h(){$(".boxes-wrapper").css({"margin-left":-$(".top-boxes").outerWidth()}),$(document).off("keydown.updatePreview"),$(document).on("keydown.saveLayout",function(a){DmCommonFunc.saveLayoutHandler(a)}),setTimeout(function(){F.attr("src",""),F.contents().find("body").html(""),setTimeout(function(){j(),D.attr("style",""),$(".top-boxes").attr("style",""),A.removeClass("prepare-edit-html-css"),A.removeClass("show-edit-html-css"),A.removeClass("iframe-loaded"),A.removeClass("disableHTML"),$("#loader-container").removeClass("saving"),G.empty(),B.removeClass("invisible"),$("html, body").scrollTop(C.offset().top-parseInt($(".designmodo-wrapper").css("padding-top"),10)),$(".boxes-wrapper").attr("style",""),d.createResizing.hideConfirmTooltip(),$(window).resize()},0)},500)}function i(a){d.apiCall("component.template.get",{component_id:a,pure_html:!1},function(b){var e=$('[component-id="'+c+'"]',"#templates").find(".mb_YTPlayer");e.length&&e.playerDestroy({move:!0}),$('[component-id="'+c+'"]',"#templates").scope().removeTemplate(),$('[component-id="'+c+'"]').replaceWith(b.html);var f=$("[component-id="+a+"]","#templates");f.addClass("tempHidden manuallyAdded"),d.appendStyles(function(){$("#templates").injector().invoke(["$compile",function(a){a(f)($("#templates").scope())}]),H.removeClass("saving"),h()})})}function j(){$("#editingHTMLParent").remove(),$("#editingCSSParent").remove()}function k(){w.empty().html(b.html);var a=$(".dm-template",w),c=a.unwrap();q={"class":a.attr("class")},$(s).append(u),$(t).append(v),$("#editingCSS").val(b.custom_css),$("#editingHTML").val(c.html()),o=CodeMirror.fromTextArea(document.getElementById("editingCSS"),{lineNumbers:!0,mode:"css",lineWrapping:!0,scrollbarStyle:"simple",tabSize:2});var d=o.lineCount(),e=o.getTextArea().value.length;o.autoFormatRange({line:0,ch:0},{line:d,ch:e}),p=CodeMirror.fromTextArea(document.getElementById("editingHTML"),{lineNumbers:!0,mode:"htmlmixed",lineWrapping:!0,scrollbarStyle:"simple",tabSize:2});var f=p.lineCount(),g=p.getTextArea().value.length;p.autoFormatRange({line:0,ch:0},{line:f,ch:g}),J=previewCSS=o.getValue(),unSaveHTML=previewHTML=p.getValue(),p.on("change",function(a){L=unSaveHTML!==a.getValue()?!0:!1,hasPreviewChangedHTML=previewHTML!==a.getValue()?!0:!1,l()}),o.on("change",function(a){K=J!==a.getValue()?!0:!1,hasPreviewChangedCSS=previewCSS!==a.getValue()?!0:!1,l()})}function l(){K||L?y.removeClass("disabled"):y.addClass("disabled"),hasPreviewChangedCSS||hasPreviewChangedHTML?z.removeClass("disabled"):z.addClass("disabled")}function m(a,b,c){var c=c||"",d=$('<div><div class="dm-template">'+a+"</div></div>"),e=d.find("script");return e.length&&$.each(e,function(a,b){var c=$(e[a]),d=$.trim(c.text());0!=d.indexOf("try{")&&0!=d.indexOf("try ")&&c.empty().append("try{\r\n"+d+"\r\n}catch(e){console.log(e.message)}")}),d.find(".dm-template").attr("component-id","{{ component_id }}").attr("dm-template",b).addClass(q["class"]+c),d.html()}var n,o,p,q,r,s=$("#editingCSSHolder"),t=$("#editingHTMLHolder"),u=$('<div class="code-wrap-inner" id="editingCSSParent"><textarea id="editingCSS" name="editingCSS"></textarea></div>'),v=$('<div class="code-wrap-inner" id="editingHTMLParent"><textarea id="editingHTML" name="editingHTML"></textarea></div>'),w=$('<div id="editingTempHTML"></div>'),x=$("#editingBack"),y=$("#editingSave"),z=$("#updatePreview"),A=$("body"),B=($(".topMenu"),$("#wpadminbar"),$(".dm-template:not([component-id="+c+"])","#templates")),C=$("[component-id="+c+"]","#templates"),D=$(".boxes"),E=$("#result_div"),F=E.find("iframe"),G=E.find(".temp-component"),H=$("#loader-container"),I=[{template_id:C.attr("dm-template"),component_id:c,model:C.scope().findById()}],J=previewCSS=unSaveHTML=previewHTML="",K=hasPreviewChangedCSS=!1,L=hasPreviewChangedHTML=!1,M=!1,N=!1;A.addClass("prepare-edit-html-css disableHTML"),$(document).off("keydown.saveLayout"),setTimeout(function(){B.addClass("invisible"),$("html, body").animate({scrollTop:C.offset().top},850,"linear",function(){M||(M=!0,f())})},600),$("#editingTempHTML, #editingHTMLParent, #editingCSSParent").remove(),l(),x.off("click").on("click",function(a){function b(){var a=confirm("Do you want to save changes before closing?");a?e(function(){i(r)}):r?(H.addClass("saving"),i(r)):h()}a.preventDefault(),L||K?b():r?(H.addClass("saving"),i(r)):h()}),y.off("click").on("click",function(a){a.preventDefault(),$(this).hasClass("disabled")||(hasPreviewChangedHTML||hasPreviewChangedCSS?e(function(){g(!0)}):e())}),z.off("click").on("click",function(a){a.preventDefault(),$(this).hasClass("disabled")||($("#loader-container").addClass("saving"),g(!0))})},d.customBlockWidget=function(a){if(a.hasClass("custom-block")&&!$(".dm-widget-main",a).length){var b='<div class="dm-widget-main align-center" data-html2canvas-ignore><div class="dm-widget"><div class="dm-widget-item" dm-widget-drop-down><div dm-tools=\'["move", "duplicate", "customCSS", "remove"]\'></div></div></div></div>';if(a.hasClass("dm-image")){var c=$(".image-holder",a).length?$(".image-holder",a):$(a);c.append(b)}else a.hasClass("dm-menu")?(b='<div class="dm-widget-main dm-widget-main-drop align-center bottom" data-html2canvas-ignore><div class="dm-widget has-arrow top"><div class="dm-widget-item" dm-widget-drop-down=\'replace\'><div dm-tools=\'["customCSS", "remove"]\'></div></div></div></div>',$(a).append(b)):a.hasClass("dm-footer")?(b='<div class="dm-widget-main dm-widget-main-drop align-center top" data-html2canvas-ignore><div class="dm-widget has-arrow bottom"><div class="dm-widget-item" dm-widget-drop-down=\'replace\'><div dm-tools=\'["move", "duplicate", "customCSS", "remove"]\'></div></div></div></div>',$(".container",a).append(b)):$(a).append(b);$(a).injector().invoke(["$compile",function(b){b($(".dm-widget-main",a))($(a).scope())}])}},d.createReordering=function(a){var d=[],e='<div class="reorder-loading"><svg class="saving-icon" version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path fill="#424242" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z" transform="rotate(320.781 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div>';$("[component-id]","#templates").each(function(){d.push(+$(this).attr("component-id"))}),a.find(".reorder-holder-inner").empty().append(e),c(d,function(c){b(c,a)})},d.addDuplicateBlocks=function(a){var b=a.html,c=a.component_id;$("#templates").append(b);var e=$("[component-id="+c+"]","#templates");e.addClass("manuallyAdded"),d.appendStyles(function(){$("#templates").injector().invoke(["$compile",function(a){a(e)($("#templates").scope())}])}),$("html, body").animate({scrollTop:e.offset().top},750)},d.saveLayoutHandler=function(a){(a.ctrlKey||a.metaKey)&&83==a.which&&(a.preventDefault(),DmCommonFunc.saveChanges())},d.appendStyles=function(a){var b=$(".dm-template","#templates"),c=[];$.each(b,function(){c.push(+$(this).attr("component-id"))}),c.length&&d.apiCall("component.css.get",{component_ids:c,format:"json"},function(c){$("#initCSSFile").length&&$("#initCSSFile").remove(),$("#mainCSSFile").empty().append(c),$.each(b,function(){$(this).removeClass("tempHidden")}),a&&a()})},d.apiCall=function(a,b,c,d){var e=function(a){console.log(a)},f=function(a,b){alert("API failed: "+a+": "+b)};c=c||e,d=d||f,$.ajax({url:ajaxurl,method:"POST",data:{action:"dm_api",method:a,params:JSON.stringify(b)},dataType:"json",success:function(a){"result"in a?c(a.result):"error"in a&&d(a.error.code,a.error.message)},error:function(a,b,c){d(b,c)}})};var f={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string,d=a[b].prop;if(this.versionSearchString=a[b].versionSearch||a[b].identity,c){if(-1!=c.indexOf(a[b].subString))return a[b].identity}else if(d)return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!=b)return parseFloat(a.substring(b+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return f.init(),window.$.client={os:f.OS,browser:f.browser},d}();$(document).ready(function(a){function b(){$("#sideMenu > ul").menuAim({rowSelector:"> li:not(.promo-link)",activate:function(a){if(!$("#sideMenu").hasClass("disabled")){$("#subMenu").removeClass("invisible"),$("#sideMenu div.selected, #sideMenu li.selected").removeClass("selected"),$(a).addClass("selected");var b=$(a).data("menu-item");$("#subMenu").scrollTop(0),$("#subMenu > div.visible").removeClass("visible"),$("#subMenu > div#"+b).addClass("visible")}},exitMenu:function(){return!0}}),$("img").on("dragstart",function(a){a.preventDefault()}),$("#subMenu > div").find("div:not(.disabled)").draggable(h).off("click").on("click",function(){return $(this).hasClass("disabled")?!1:void(isAdding||(isAdding=!0,c($(this).data("name")),window.templateScreenshot=$(this).find("img").attr("src")))}),$("#templates").droppable({drop:function(a,b){b.draggable.addClass("draggable-invisible")}}),$("#templates").sortable(j)}function c(a,b,c,e){var f=$(".dm-template","#templates"),g=[];$.each(f,function(){g.push(+$(this).attr("component-id"))}),DmCommonFunc.apiCall("component.create",{template_id:a,component_ids:g},function(f){"draggable"===b?d("draggable",f,c,e,a):d("non-draggable",f,c,e,a)})}function d(a,b,c,d,e){console.log("add Template");var f=b.component_id,g=$("#templates"),h=e.split(".")[0],i=b.html,j=b.layout_css,k="",l="",m="";if($("#subMenu").addClass("invisible"),$("body").removeClass("preview"),$("#sideMenu").addClass("noHover"),g.children().length>0)if("menu"!==h)if("draggable"!=a){g.append('<div class="fake-template"><img src="'+templateScreenshot+'"></div>');var n=g.children().last().prev();l=n.offset().top+n.outerHeight(),setTimeout(function(){c||$("html, body").animate({scrollTop:l},750)},100)}else{var m="";c?c&&d&&(m=d):m=$("[data-component-id="+f+"], [data-name]","#templates"),m.after('<div class="fake-template"><img src="'+templateScreenshot+'"></div>'),l=$(".fake-template").offset().top-80,setTimeout(function(){c||$("html, body").animate({scrollTop:l},750)},100)}else g.prepend('<div class="fake-template"><img src="'+templateScreenshot+'"></div>'),setTimeout(function(){c||$("html, body").animate({scrollTop:0},750)},100);else g.append('<div class="fake-template"><img src="'+templateScreenshot+'"></div>');if("menu"!==h)"draggable"===a?(c?c&&d&&(m=d):m=$("[data-component-id="+f+"], [data-name]","#templates"),$(i).insertAfter($(".fake-template")),c||m.remove()):$("#templates").append(i);else{var o=$(".dm-menu","#templates");o.length&&(o.scope().removeTemplate(),o.remove()),c||(m=$("[data-component-id="+f+"], [data-name]","#templates")),$(".fake-template").after(i),!c&&m.length&&m.remove()}var p=$("[component-id="+f+"]","#templates");if(p.addClass("tempHidden manuallyAdded"),$("#initCSSFile").length&&$("#initCSSFile").remove(),$("#mainCSSFile").empty().append(j),$("#templates").injector().invoke(["$compile",function(a){a(p)($("#templates").scope()),(p.hasClass("dm-image")||p.hasClass("dm-footer"))&&p.scope().watchDefaultPaddings()}]),k=$(".dm-template","#templates"),$.each(k,function(){$(this).removeClass("tempHidden")}),c)$(".fake-template").remove(),$(".template-reset-holder").remove();else{var q=$(".fake-template + *");p.hasClass("dm-menu")&&(q=$(".dm-menu")),$(".fake-template").css({marginBottom:-$(".fake-template").height()}),$(".dm-cover + .fake-template + .dm-cover").prev().css({marginBottom:-$(".fake-template").height()-40}),$(".fake-template:first-child + .dm-cover").prev().css({marginBottom:-$(".fake-template").height()}),setTimeout(function(){$(".fake-template").addClass("isCreated"),setTimeout(function(){$(".menu").length&&$(".designmodo-wrapper, #previewHolder").find(".menu").each(function(a,b){var c=0;if($(b).find(".items").exists()){var d=$(b).find(".items").width();c+=d}if($(b).find(".button").exists()){var e=$(b).find(".button").width();c+=e}if($(b).find(".logo").exists()){var f=$(b).find(".logo > *").width();c+=f}c+152>$(window).width()?$(b).addClass("compact"):$(b).removeClass("compact")}),$(".fake-template").remove(),$("[contenteditable]",p).addClass("composite")},1e3)},1e3)}setTimeout(function(){isAdding=!1},1e3)}function e(){var a=$("#postTitle");a.init="",a.on("focus",function(){a.init=a.val()}),a.on("keyup",function(){a.changed=a.val(),a.init!=a.changed?updateControls(!0):updateControls(hasDifferences())})}function f(a){var b=$('<div id="previewHolder"><div class="previewWrapper"></div></div>');$("#previewHolder").length&&$("#previewHolder").remove(),DmCommonFunc.leaveHomeScreen("preview"),$("body").append(b),$("#mainCSSFile").append(a.css),$("#previewHolder .previewWrapper").append(a.html);var c=[];$("#previewHolder").find("[component-id]").each(function(a,b){
var d=$(b),e=d.attr("dm-template"),f=e.split(".")[0];"custom"==f&&(f=e.split(".")[1].split("_")[0]),-1==c.indexOf(f)&&c.push(f)});for(var d=$("#previewHolder"),e=0;e<c.length;e++)window.dmTemplateInit[c[e]](d,!1);$("#previewBack").off("click").on("click",function(a){a.preventDefault(),document.querySelector("#qards_promo_banner")&&(document.querySelector("#qards_promo_banner").style.display="none"),DmCommonFunc.backToHomeScreen()})}var g=[],h={connectToSortable:"#templates",addClasses:!1,helper:"clone",appendTo:"body",distance:50,drag:function(a,b){setTimeout(function(){$("div.placeholder").attr("style","height: 100px")},50),$(window).mousemove(function(a){var b=a.pageY-$(window).scrollTop(),c=a.pageX;$("#subMenu .ui-draggable-dragging").css("top",$(window).scrollTop()+b-50).css("left",c-50).css("width","100px!important")})}},j={opacity:.75,placeholder:"placeholder",revert:300,distance:10,items:".dm-template:not(.dm-menu)",handle:".fake-draggable",refreshPositions:!0,start:function(a,b){$(".placeholder").height(b.item.context.clientHeight)},receive:function(a,b){$("[data-component-id="+b.item.data("component-id")+"], [data-name]","#templates").hide(),c(b.item.data("name"),"draggable"),window.templateScreenshot=b.item[0].childNodes[1].src}};setTimeout(function(){b()},0);var k=[];global_sections_list.forEach(function(a){for($("#subMenu").append('<div id="'+a.type+'"></div>'),i=0;i<a.sections.length;i++){var b=a.sections[i];k.push('<div data-name="'+a.type+"."+b.name+'"'+(b.is_disabled?' class="disabled"':"")+"><span>"+b.title+'</span><img src="'+b.image+'"></div>')}$("#subMenu div#"+a.type).append(k.join("\n\n")),k=[]}),$("#menu").on("mouseleave",function(){$("#subMenu").addClass("invisible")}),$(".dm-toggle").click(function(){$("body").toggleClass("preview"),$("#subMenu").addClass("invisible"),$("#sideMenu li.selected").removeClass("selected"),setTimeout(function(){$("#sideMenu").toggleClass("noHover")},330)}),$("body").on("mousedown",function(a){var b=$(a.target),c=$(".dm-template"),d=b.closest(".dm-template");if(0!==b.closest(c).length&&b.closest(".designmodo-wrapper").length?b.closest(c).addClass("isEdited").siblings().removeClass("isEdited"):c.removeClass("isEdited"),$(b[0]).hasClass("dropdown-toggle")||$("#startMenu").removeClass("open"),0===c.find(b).length&&!c.filter(b).length||0!==b.closest("[contenteditable]").length||0!==b.closest(".dm-text-editing-holder").length||0!==b.closest(".dm-controlsView-btns").length?0===b.closest(".minicolors").length&&$(".dm-controlsView-btns").removeClass("show"):(b.closest(".dm-controlsView-holder").find(".dm-controlsView-btns").toggleClass("show"),b.closest(c).siblings().find(".dm-controlsView-btns").removeClass("show"),b.closest(c).hasClass("dm-grid")&&b.closest("li").siblings().find(".dm-controlsView-btns").removeClass("show")),b.hasClass("grid")&&$(".dm-controlsView-btns").removeClass("show"),d.length){var e=b.closest(".dm-inline-image-wrapper"),f=e.find(".dm-widget"),g=e.find(".dm-widget-main"),h=f.outerWidth(),i=g.outerWidth(),j=$(document).width();e.length&&(f.css({"margin-left":0}),f.offset().left+h>j?f.css({"margin-left":-(f.offset().left+h-j+25)}):f.offset().left-(h-i)/2>25&&f.css({"margin-left":-(h-i)/2}),d.find(".dm-widget-main").removeClass("show"),g.addClass("show")),d.find(".dm-inline-image-wrapper").length&&!b.closest(".dm-inline-image-wrapper").length&&(d.find(".dm-widget-main").removeClass("show"),d.find(".dm-widget-main-drop").addClass("show")),d.find(".dm-widget-main").hasClass("show")||d.find(".dm-widget-main").addClass("show"),d.siblings().find(".dm-widget-main").removeClass("show")}else $(".dm-widget-main").removeClass("show");b.hasClass("dm-save")||($(".cover .message").removeClass("newMessage"),setTimeout(function(){$(".cover .message").remove()},250)),b.closest(".grid-item-selected").length||b.closest(".grid-item").length||$(".grid-item-selected").removeClass("grid-item-selected")}),e(),$("#saveChanges").off("click").on("click",function(a){a.preventDefault(),DmCommonFunc.saveChanges()}),$("#previewLayout").on("click",function(a){a.preventDefault(),$("#previewMenu > .title").html($("#postTitle").val()),$("body").removeClass("preview"),$("#sideMenu").addClass("noHover");var b=[],c=$("[component-id]","#templates");return c.each(function(){var a=$(this),c={};c.template_id=a.attr("dm-template"),c.component_id=a.attr("component-id"),a.scope().findById&&(c.model=a.scope().findById()),b.push(c)}),c[0]?void DmCommonFunc.apiCall("layout.preview.get",{components:b},function(a){f(a),$(".custom-img img").each(function(){var a=$(this).attr("src");a.indexOf("1x1.png")>-1&&$(this).addClass("removed-image")}),DM_SHOW_PROMO_BANNER&&document.querySelector("#qards_promo_banner")&&(document.querySelector("#qards_promo_banner").style.display="block")}):(alert("There are no blocks to preview!"),!1)}),g=DmCommonFunc.getOriginalLayout(),window.updateControls=function(a){a?$("#saveChanges").removeClass("disabled"):($("#saveChanges").addClass("disabled"),$("#loader-container").removeClass("saving"))},window.hasDifferences=function(a){a&&(g=a);var b=$("body").scope().arrayChanges;if(b){if(Object.keys(b).length!==g.length)return!0;for(var c=0;c<b.length;c++)if(b[c].changed||b[c].id!==g[c])return!0;return!1}},setTimeout(function(){try{angular.element($("body")).scope().$watch("arrayChanges",function(a){updateControls(hasDifferences())},!0)}catch(a){console.log(a)}},10),$(window).bind("beforeunload",function(){return hasDifferences()?"Please save you changes before leaving.":void 0}),$("body").on("click",function(a){0===$(a.target).parents("#menu").length&&($("#subMenu").addClass("invisible"),$("#sideMenu").addClass("noHover"),$("body").removeClass("preview"))})}),$.fn.preload=function(){this.each(function(){$("<img/>")[0].src=this})},$.fn.exists=function(){return this.length>0};var oldMouseStart=$.ui.draggable.prototype._mouseStart;$.ui.draggable.prototype._mouseStart=function(a,b,c){this._trigger("beforeStart",a,this._uiHash()),oldMouseStart.apply(this,[a,b,c])},jQuery(function(a){a("#postTitle").on("keyup",function(b){13==b.keyCode&&a(this).blur()}),a(".dropdown-toggle").on("click",function(){a("#startMenu").toggleClass("open")}),a(window).on("resize",function(){a("#startMenu").removeClass("open"),a(".dm-widget-main").removeClass("show")}),a(".dm-template").length?(a("body").removeClass("preview"),a("#sideMenu").addClass("noHover"),a("#subMenu").addClass("invisible")):(a("body").addClass("preview"),a("#sideMenu").removeClass("noHover")),a(window).on("load",function(){a("[contenteditable]").addClass("composite")}),window.isAdding=!1,a(".preview-inner-button").on("click",function(){var b=a(this),c=window.location.href,d=c.indexOf("dm_edit_mode"),e=-1!=c.indexOf("&",d)?c.indexOf("&",d):c.length,f=c.slice(d-1,e);b.attr("href",c.replace(f,""))}),DmCommonFunc.createResizing.init(),function(){var b,c,d="trapScroll-enabled",e="#subMenu, .nano-content, .reorder-holder",f=function(e){if(a("body").hasClass(d)){var f=b.scrollTop(),g=e.originalEvent,h=g.deltaY;return h>0&&f>=c||0>h&&0>=f?!1:void 0}};a(document).on("wheel",f).on("mouseleave",e,function(){a("body").removeClass(d)}).on("mouseenter",e,function(){b=a(this);var e=b.outerHeight(),f=b[0].scrollHeight;c=f-e,f>e&&a("body").addClass(d)})}()}),global_sections_list=[{type:"cover",name:"Cover",sections:[{name:"cover12",title:"Cover #12",image:pluginUrl+"img/generator/cover-12.jpg",is_disabled:!1},{name:"cover14",title:"Cover #14",image:pluginUrl+"img/generator/cover-14.jpg",is_disabled:!1},{name:"cover15",title:"Cover #15",image:pluginUrl+"img/generator/cover-15.jpg",is_disabled:!1},{name:"cover1",title:"Cover #1",image:pluginUrl+"img/generator/cover-1.jpg",is_disabled:!1},{name:"cover10",title:"Cover #10",image:pluginUrl+"img/generator/cover-10.jpg",is_disabled:!1},{name:"cover11",title:"Cover #11",image:pluginUrl+"img/generator/cover-11.jpg",is_disabled:!1},{name:"cover13",title:"Cover #13",image:pluginUrl+"img/generator/cover-13.jpg",is_disabled:!0},{name:"cover16",title:"Cover #16",image:pluginUrl+"img/generator/cover-16.jpg",is_disabled:!0},{name:"cover17",title:"Cover #17",image:pluginUrl+"img/generator/cover-17.jpg",is_disabled:!0},{name:"cover18",title:"Cover #18",image:pluginUrl+"img/generator/cover-18.jpg",is_disabled:!0},{name:"cover19",title:"Cover #19",image:pluginUrl+"img/generator/cover-19.jpg",is_disabled:!0},{name:"cover20",title:"Cover #20",image:pluginUrl+"img/generator/cover-20.jpg",is_disabled:!0},{name:"cover2",title:"Cover #2",image:pluginUrl+"img/generator/cover-2.jpg",is_disabled:!0},{name:"cover3",title:"Cover #3",image:pluginUrl+"img/generator/cover-3.jpg",is_disabled:!0},{name:"cover4",title:"Cover #4",image:pluginUrl+"img/generator/cover-4.jpg",is_disabled:!0},{name:"cover5",title:"Cover #5",image:pluginUrl+"img/generator/cover-5.jpg",is_disabled:!0},{name:"cover6",title:"Cover #6",image:pluginUrl+"img/generator/cover-6.jpg",is_disabled:!0},{name:"cover7",title:"Cover #7",image:pluginUrl+"img/generator/cover-7.jpg",is_disabled:!0},{name:"cover8",title:"Cover #8",image:pluginUrl+"img/generator/cover-8.jpg",is_disabled:!0},{name:"cover9",title:"Cover #9",image:pluginUrl+"img/generator/cover-9.jpg",is_disabled:!0}]},{type:"image",name:"Image",sections:[{name:"image1",title:"Image #1",image:pluginUrl+"img/generator/image-1.jpg",is_disabled:!1},{name:"image4",title:"Image #4",image:pluginUrl+"img/generator/image-4.jpg",is_disabled:!1},{name:"image6",title:"Image #6",image:pluginUrl+"img/generator/image-6.jpg",is_disabled:!1},{name:"image2",title:"Image #2",image:pluginUrl+"img/generator/image-2.jpg",is_disabled:!0},{name:"image3",title:"Image #3",image:pluginUrl+"img/generator/image-3.jpg",is_disabled:!0},{name:"image5",title:"Image #5",image:pluginUrl+"img/generator/image-5.jpg",is_disabled:!0},{name:"image7",title:"Image #7",image:pluginUrl+"img/generator/image-7.jpg",is_disabled:!0}]},{type:"text",name:"Text",sections:[{name:"text8",title:"Text #8",image:pluginUrl+"img/generator/text-8.jpg",is_disabled:!1},{name:"text9",title:"Text #9",image:pluginUrl+"img/generator/text-9.jpg",is_disabled:!1},{name:"text1",title:"Text #1",image:pluginUrl+"img/generator/text-1.jpg",is_disabled:!1},{name:"text5",title:"Text #5",image:pluginUrl+"img/generator/text-5.jpg",is_disabled:!1},{name:"text10",title:"Text #10",image:pluginUrl+"img/generator/text-10.jpg",is_disabled:!0},{name:"text11",title:"Text #11",image:pluginUrl+"img/generator/text-11.jpg",is_disabled:!0},{name:"text12",title:"Text #12",image:pluginUrl+"img/generator/text-12.jpg",is_disabled:!0},{name:"text13",title:"Text #13",image:pluginUrl+"img/generator/text-13.jpg",is_disabled:!0},{name:"text14",title:"Text #14",image:pluginUrl+"img/generator/text-14.jpg",is_disabled:!0},{name:"text2",title:"Text #2",image:pluginUrl+"img/generator/text-2.jpg",is_disabled:!0},{name:"text3",title:"Text #3",image:pluginUrl+"img/generator/text-3.jpg",is_disabled:!0},{name:"text4",title:"Text #4",image:pluginUrl+"img/generator/text-4.jpg",is_disabled:!0},{name:"text6",title:"Text #6",image:pluginUrl+"img/generator/text-6.jpg",is_disabled:!0},{name:"text7",title:"Text #7",image:pluginUrl+"img/generator/text-7.jpg",is_disabled:!0}]},{type:"feature",name:"Feature",sections:[{name:"feature13",title:"Feature #13",image:pluginUrl+"img/generator/feature-13.jpg",is_disabled:!1},{name:"feature15",title:"Feature #15",image:pluginUrl+"img/generator/feature-15.jpg",is_disabled:!1},{name:"feature1",title:"Feature #1",image:pluginUrl+"img/generator/feature-1.jpg",is_disabled:!1},{name:"feature3",title:"Feature #3",image:pluginUrl+"img/generator/feature-3.jpg",is_disabled:!1},{name:"feature9",title:"Feature #9",image:pluginUrl+"img/generator/feature-9.jpg",is_disabled:!1},{name:"feature10",title:"Feature #10",image:pluginUrl+"img/generator/feature-10.jpg",is_disabled:!1},{name:"feature14",title:"Feature #14",image:pluginUrl+"img/generator/feature-14.jpg",is_disabled:!0},{name:"feature16",title:"Feature #16",image:pluginUrl+"img/generator/feature-16.jpg",is_disabled:!0},{name:"feature17",title:"Feature #17",image:pluginUrl+"img/generator/feature-17.jpg",is_disabled:!0},{name:"feature19",title:"Feature #19",image:pluginUrl+"img/generator/feature-19.jpg",is_disabled:!0},{name:"feature2",title:"Feature #2",image:pluginUrl+"img/generator/feature-2.jpg",is_disabled:!0},{name:"feature4",title:"Feature #4",image:pluginUrl+"img/generator/feature-4.jpg",is_disabled:!0},{name:"feature5",title:"Feature #5",image:pluginUrl+"img/generator/feature-5.jpg",is_disabled:!0},{name:"feature6",title:"Feature #6",image:pluginUrl+"img/generator/feature-6.jpg",is_disabled:!0},{name:"feature7",title:"Feature #7",image:pluginUrl+"img/generator/feature-7.jpg",is_disabled:!0},{name:"feature8",title:"Feature #8",image:pluginUrl+"img/generator/feature-8.jpg",is_disabled:!0},{name:"feature11",title:"Feature #11",image:pluginUrl+"img/generator/feature-11.jpg",is_disabled:!0},{name:"feature12",title:"Feature #12",image:pluginUrl+"img/generator/feature-12.jpg",is_disabled:!0}]},{type:"grid",name:"Grid",sections:[{name:"grid8",title:"Grid #8",image:pluginUrl+"img/generator/grid-8.jpg",is_disabled:!1},{name:"grid12",title:"Grid #12",image:pluginUrl+"img/generator/grid-12.jpg",is_disabled:!1},{name:"grid1",title:"Grid #1",image:pluginUrl+"img/generator/grid-1.jpg",is_disabled:!1},{name:"grid2",title:"Grid #2",image:pluginUrl+"img/generator/grid-2.jpg",is_disabled:!1},{name:"grid7",title:"Grid #7",image:pluginUrl+"img/generator/grid-7.jpg",is_disabled:!0},{name:"grid9",title:"Grid #9",image:pluginUrl+"img/generator/grid-9.jpg",is_disabled:!0},{name:"grid10",title:"Grid #10",image:pluginUrl+"img/generator/grid-10.jpg",is_disabled:!0},{name:"grid11",title:"Grid #11",image:pluginUrl+"img/generator/grid-11.jpg",is_disabled:!0},{name:"grid12",title:"Grid #12",image:pluginUrl+"img/generator/grid-12.jpg",is_disabled:!0},{name:"grid13",title:"Grid #13",image:pluginUrl+"img/generator/grid-13.jpg",is_disabled:!0},{name:"grid3",title:"Grid #3",image:pluginUrl+"img/generator/grid-3.jpg",is_disabled:!0},{name:"grid4",title:"Grid #4",image:pluginUrl+"img/generator/grid-4.jpg",is_disabled:!0},{name:"grid5",title:"Grid #5",image:pluginUrl+"img/generator/grid-5.jpg",is_disabled:!0},{name:"grid6",title:"Grid #6",image:pluginUrl+"img/generator/grid-6.jpg",is_disabled:!0}]},{type:"menu",name:"Menu",sections:[{name:"menu1",title:"Menu #1",image:pluginUrl+"img/generator/menu-1.jpg",is_disabled:!1},{name:"menu5",title:"Menu #5",image:pluginUrl+"img/generator/menu-5.jpg",is_disabled:!1},{name:"menu2",title:"Menu #2",image:pluginUrl+"img/generator/menu-2.jpg",is_disabled:!0},{name:"menu3",title:"Menu #3",image:pluginUrl+"img/generator/menu-3.jpg",is_disabled:!0},{name:"menu4",title:"Menu #4",image:pluginUrl+"img/generator/menu-4.jpg",is_disabled:!0},{name:"menu6",title:"Menu #6",image:pluginUrl+"img/generator/menu-6.jpg",is_disabled:!0},{name:"menu7",title:"Menu #7",image:pluginUrl+"img/generator/menu-7.jpg",is_disabled:!0}]},{type:"footer",name:"Footer",sections:[{name:"footer1",title:"Footer #1",image:pluginUrl+"img/generator/footer-1.jpg",is_disabled:!1},{name:"footer2",title:"Footer #2",image:pluginUrl+"img/generator/footer-2.jpg",is_disabled:!1},{name:"footer3",title:"Footer #3",image:pluginUrl+"img/generator/footer-3.jpg",is_disabled:!0},{name:"footer4",title:"Footer #4",image:pluginUrl+"img/generator/footer-4.jpg",is_disabled:!0},{name:"footer5",title:"Footer #5",image:pluginUrl+"img/generator/footer-5.jpg",is_disabled:!0},{name:"footer6",title:"Footer #6",image:pluginUrl+"img/generator/footer-6.jpg",is_disabled:!0}]},{type:"subscribe",name:"Subscribe",sections:[{name:"subscribe3",title:"Subscribe #3",image:pluginUrl+"img/generator/subscribe-3.jpg",is_disabled:!1},{name:"subscribe1",title:"Subscribe #1",image:pluginUrl+"img/generator/subscribe-1.jpg",is_disabled:!0},{name:"subscribe2",title:"Subscribe #2",image:pluginUrl+"img/generator/subscribe-2.jpg",is_disabled:!0},{name:"subscribe4",title:"Subscribe #4",image:pluginUrl+"img/generator/subscribe-4.jpg",is_disabled:!0}]}],function(){angular.module("dmApp").service("compatibility",function(){return this.isFirefox="undefined"!=typeof InstallTrigger,this.isIE=!!document.documentMode,this.isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,this.isChrome=!!window.chrome&&!this.isOpera,this.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,this})}(),function(){angular.module("dmApp").service("events",function(){return this.addEventListener=function(a,b,c,d,e){"function"!=typeof e&&(e=d,d=c,c=void 0),b instanceof jQuery||(b=$(b)),c?(b.on(d,c,e),a.$on("$destroy",function(){b.off(d,c,e)})):(b.on(d,e),a.$on("$destroy",function(){b.off(d,e)}))},this})}(),function(){angular.module("dmApp").service("fonts",["fontsFactory","$rootScope",function(a,b){var c=[],d=[],e=[],f=[],g=[];return a.getFonts().success(function(a){var f,h=a.family.webFonts,i=a.family.googleFonts,j=a.family.localFonts,k=a.family.otherFonts||[];for(f in h)h.hasOwnProperty(f)&&c.push({key:f,value:h[f]});for(f in i)i.hasOwnProperty(f)&&d.push({key:f,value:i[f]});for(f in j)j.hasOwnProperty(f)&&e.push({key:f,value:j[f]});for(f in k)k.hasOwnProperty(f)&&g.push({key:f,value:k[f]});b.$emit("loaded-fonts")}),dmTypeKitID&&a.getTKFonts(dmTypeKitID).success(function(a){if(a.kit){var c=a.kit.families;for(key in c)c.hasOwnProperty(key)&&f.push({key:c[key].name,value:c[key].css_stack.replace(/"/g,"'").replace(/,/g,", ")});b.$emit("loaded-TypeKitFonts",f)}}),this.getWebFonts=function(){return c},this.getGoogleFonts=function(){return d},this.getLocalFonts=function(){return e},this.getOtherFonts=function(){return g},this.getTypeKitFonts=function(){return f},this}])}(),function(){angular.module("dmApp").service("selectable",function(){var a;return this.selectable=function(){a=void 0,$("body").css({"pointer-events":"auto","-webkit-user-select":"text","-moz-user-select":"text","-ms-user-select":"text","-o-user-select":"text","user-select":"text"}),$("head").find("#body-cursor").remove()},this.unselectable=function(b){$("body").css({"pointer-events":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}),b&&b!=a&&$("head").append('<style id="body-cursor">*{cursor:'+b+"!important;}</style>")},this})}(),function(){angular.module("dmApp").service("templateModel",[function(){function a(a,b){this.id=a,this.data=b}this.create=function(b,c){return new a(b,c)}}])}(),function(){angular.module("dmApp").factory("youtubeValidator",["$http","DMConstants",function(a,b){var c=function(c){var d,e=c.match(/^((http|https):\/\/(player\.|www\.)?(vimeo\.com|youtu(be\.com|\.be))\/(video\/|embed\/|watch\?v=)?([A-Za-z0-9._%-]*)(\&\S+)?|\s*([A-Za-z0-9._%-]+)\s*)$/);return e&&(d=e[7]||e[9]),{id:d,http:a({method:"GET",url:"https://www.googleapis.com/youtube/v3/videos?id="+d+"+&key="+b.YouTubeKey+"&part=snippet",timeout:5e3})}};return{init:c}}])}(),function(a,b,c){"use strict";function d(a,b,c){var d,e=a.runtimeStyle&&a.runtimeStyle[b],f=a.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(c)&&/^-?\d/.test(c)&&(d=f.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c||0,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)),/^(thin|medium|thick)$/i.test(c)?c:Math.round(parseFloat(c))+"px"}function e(a){return parseInt(a,10)}function f(a,b,e,f){if(a=(a||"").split(","),a=a[f||0]||a[0]||"auto",a=j.Util.trimText(a).split(" "),"backgroundSize"===e&&a[0]&&a[0].match(/^(cover|contain|auto)$/))return a;if(a[0]=-1===a[0].indexOf("%")?d(b,e+"X",a[0]):a[0],a[1]===c){if("backgroundSize"===e)return a[1]="auto",a;a[1]=a[0]}return a[1]=-1===a[1].indexOf("%")?d(b,e+"Y",a[1]):a[1],a}function g(a,b){var c=[];return{storage:c,width:a,height:b,clip:function(){c.push({type:"function",name:"clip",arguments:arguments})},translate:function(){c.push({type:"function",name:"translate",arguments:arguments})},fill:function(){c.push({type:"function",name:"fill",arguments:arguments})},save:function(){c.push({type:"function",name:"save",arguments:arguments})},restore:function(){c.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){c.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){c.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var a=[];return c.push({type:"function",name:"drawShape",arguments:a}),{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){c.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){c.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,b){return c.push({type:"variable",name:a,arguments:b}),b}}}var h,i,j={};j.Util={},j.Util.log=function(b){j.logging&&a.console&&a.console.log&&a.console.log(b)},j.Util.trimText=function(a){return function(b){return a?a.apply(b):((b||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),j.Util.asFloat=function(a){return parseFloat(a)},function(){var a=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,b=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;j.Util.parseTextShadows=function(c){if(!c||"none"===c)return[];for(var d=c.match(a),e=[],f=0;d&&f<d.length;f++){var g=d[f].match(b);e.push({color:g[0],offsetX:g[1]?g[1].replace("px",""):0,offsetY:g[2]?g[2].replace("px",""):0,blur:g[3]?g[3].replace("px",""):0})}return e}}(),j.Util.parseBackgroundImage=function(a){var b,c,d,e,f,g,h,i,j=" \r\n	",k=[],l=0,m=0,n=function(){b&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&i.push(c),"-"===b.substr(0,1)&&(e=b.indexOf("-",1)+1)>0&&(d=b.substr(0,e),b=b.substr(e)),k.push({prefix:d,method:b.toLowerCase(),value:f,args:i})),i=[],b=d=c=f=""};n();for(var o=0,p=a.length;p>o;o++)if(g=a[o],!(0===l&&j.indexOf(g)>-1)){switch(g){case'"':h?h===g&&(h=null):h=g;break;case"(":if(h)break;if(0===l){l=1,f+=g;continue}m++;break;case")":if(h)break;if(1===l){if(0===m){l=0,f+=g,n();continue}m--}break;case",":if(h)break;if(0===l){n();continue}if(1===l&&0===m&&!b.match(/^url$/i)){i.push(c),c="",f+=g;continue}}f+=g,0===l?b+=g:c+=g}return n(),k},j.Util.Bounds=function(a){var b,c={};return a.getBoundingClientRect&&(b=a.getBoundingClientRect(),c.top=b.top,c.bottom=b.bottom||b.top+b.height,c.left=b.left,c.width=a.offsetWidth,c.height=a.offsetHeight),c},j.Util.OffsetBounds=function(a){var b=a.offsetParent?j.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+b.top,bottom:a.offsetTop+a.offsetHeight+b.top,left:a.offsetLeft+b.left,width:a.offsetWidth,height:a.offsetHeight}},j.Util.getCSS=function(a,c,d){h!==a&&(i=b.defaultView.getComputedStyle(a,null));var g=i[c];if(/^background(Size|Position)$/.test(c))return f(g,a,c,d);if(/border(Top|Bottom)(Left|Right)Radius/.test(c)){var j=g.split(" ");return j.length<=1&&(j[1]=j[0]),j.map(e)}return g},j.Util.resizeBounds=function(a,b,c,d,e){var f,g,h=c/d,i=a/b;return e&&"auto"!==e?i>h^"contain"===e?(g=d,f=d*i):(f=c,g=c/i):(f=c,g=d),{width:f,height:g}},j.Util.BackgroundPosition=function(a,b,c,d,e){var f,g,h=j.Util.getCSS(a,"backgroundPosition",d);return 1===h.length&&(h=[h[0],h[0]]),f=-1!==h[0].toString().indexOf("%")?(b.width-(e||c).width)*(parseFloat(h[0])/100):parseInt(h[0],10),g="auto"===h[1]?f/c.width*c.height:-1!==h[1].toString().indexOf("%")?(b.height-(e||c).height)*parseFloat(h[1])/100:parseInt(h[1],10),"auto"===h[0]&&(f=g/c.height*c.width),{left:f,top:g}},j.Util.BackgroundSize=function(a,b,c,d){var e,f,g=j.Util.getCSS(a,"backgroundSize",d);if(1===g.length&&(g=[g[0],g[0]]),-1!==g[0].toString().indexOf("%"))e=b.width*parseFloat(g[0])/100;else if("auto"===g[0])e=c.width;else{if(/contain|cover/.test(g[0])){var h=j.Util.resizeBounds(c.width,c.height,b.width,b.height,g[0]);return{width:h.width,height:h.height}}e=parseInt(g[0],10)}return f="auto"===g[1]?e/c.width*c.height:-1!==g[1].toString().indexOf("%")?b.height*parseFloat(g[1])/100:parseInt(g[1],10),"auto"===g[0]&&(e=f/c.height*c.width),{width:e,height:f}},j.Util.Extend=function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},j.Util.Children=function(a){var b;try{b=a.nodeName&&"IFRAME"===a.nodeName.toUpperCase()?a.contentDocument||a.contentWindow.document:function(a){var b=[];return null!==a&&!function(a,b){var d=a.length,e=0;if("number"==typeof b.length)for(var f=b.length;f>e;e++)a[d++]=b[e];else for(;b[e]!==c;)a[d++]=b[e++];return a.length=d,a}(b,a),b}(a.childNodes)}catch(d){j.Util.log("html2canvas.Util.Children failed with exception: "+d.message),b=[]}return b},j.Util.isTransparent=function(a){return!a||"transparent"===a||"rgba(0, 0, 0, 0)"===a},j.Util.Font=function(){var a={};return function(b,d,e){if(a[b+"-"+d]!==c)return a[b+"-"+d];var f,g,h,i=e.createElement("div"),j=e.createElement("img"),k=e.createElement("span"),l="Hidden Text";return i.style.visibility="hidden",i.style.fontFamily=b,i.style.fontSize=d,i.style.margin=0,i.style.padding=0,e.body.appendChild(i),j.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",j.width=1,j.height=1,j.style.margin=0,j.style.padding=0,j.style.verticalAlign="baseline",k.style.fontFamily=b,k.style.fontSize=d,k.style.margin=0,k.style.padding=0,k.appendChild(e.createTextNode(l)),i.appendChild(k),i.appendChild(j),f=j.offsetTop-k.offsetTop+1,i.removeChild(k),i.appendChild(e.createTextNode(l)),i.style.lineHeight="normal",j.style.verticalAlign="super",g=j.offsetTop-i.offsetTop+1,h={baseline:f,lineWidth:1,middle:g},a[b+"-"+d]=h,e.body.removeChild(i),h}}(),function(){function a(a){return function(b){try{a.addColorStop(b.stop,b.color)}catch(d){c.log(["failed to add color stop: ",d,"; tried to add: ",b])}}}var c=j.Util,d={};j.Generate=d;var e=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];d.parseGradient=function(a,b){var c,d,f,g,h,i,j,k,l,m,n,o,p=e.length;for(d=0;p>d&&!(f=a.match(e[d]));d+=1);if(f)switch(f[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(c={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},h=f[2].match(/\w+/g))for(i=h.length,d=0;i>d;d+=1)switch(h[d]){case"top":c.y0=0,c.y1=b.height;break;case"right":c.x0=b.width,c.x1=0;break;case"bottom":c.y0=b.height,c.y1=0;break;case"left":c.x0=0,c.x1=b.width}if(null===c.x0&&null===c.x1&&(c.x0=c.x1=b.width/2),null===c.y0&&null===c.y1&&(c.y0=c.y1=b.height/2),h=f[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(i=h.length,j=1/Math.max(i-1,1),d=0;i>d;d+=1)k=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),k[2]?(g=parseFloat(k[2]),g/="%"===k[3]?100:b.width):g=d*j,c.colorStops.push({color:k[1],stop:g});break;case"-webkit-gradient":if(c={type:"radial"===f[2]?"circle":f[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},h=f[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),h&&(c.x0=h[1]*b.width/100,c.y0=h[2]*b.height/100,c.x1=h[3]*b.width/100,c.y1=h[4]*b.height/100),h=f[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(i=h.length,d=0;i>d;d+=1)k=h[d].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),g=parseFloat(k[2]),"from"===k[1]&&(g=0),"to"===k[1]&&(g=1),c.colorStops.push({color:k[3],stop:g});break;case"-moz-linear-gradient":if(c={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},h=f[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),h&&(c.x0=h[1]*b.width/100,c.y0=h[2]*b.height/100,c.x1=b.width-c.x0,c.y1=b.height-c.y0),h=f[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(i=h.length,j=1/Math.max(i-1,1),d=0;i>d;d+=1)k=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),k[2]?(g=parseFloat(k[2]),k[3]&&(g/=100)):g=d*j,c.colorStops.push({color:k[1],stop:g});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(c={type:"circle",x0:0,y0:0,x1:b.width,y1:b.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},h=f[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),h&&(c.cx=h[1]*b.width/100,c.cy=h[2]*b.height/100),h=f[3].match(/\w+/),k=f[4].match(/[a-z\-]*/),h&&k)switch(k[0]){case"farthest-corner":case"cover":case"":l=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2)),m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2)),n=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2)),o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2)),c.rx=c.ry=Math.max(l,m,n,o);break;case"closest-corner":l=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.cy,2)),m=Math.sqrt(Math.pow(c.cx,2)+Math.pow(c.y1-c.cy,2)),n=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.y1-c.cy,2)),o=Math.sqrt(Math.pow(c.x1-c.cx,2)+Math.pow(c.cy,2)),c.rx=c.ry=Math.min(l,m,n,o);break;case"farthest-side":"circle"===h[0]?c.rx=c.ry=Math.max(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy):(c.type=h[0],c.rx=Math.max(c.cx,c.x1-c.cx),c.ry=Math.max(c.cy,c.y1-c.cy));break;case"closest-side":case"contain":"circle"===h[0]?c.rx=c.ry=Math.min(c.cx,c.cy,c.x1-c.cx,c.y1-c.cy):(c.type=h[0],c.rx=Math.min(c.cx,c.x1-c.cx),c.ry=Math.min(c.cy,c.y1-c.cy))}if(h=f[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(i=h.length,j=1/Math.max(i-1,1),d=0;i>d;d+=1)k=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),k[2]?(g=parseFloat(k[2]),g/="%"===k[3]?100:b.width):g=d*j,c.colorStops.push({color:k[1],stop:g})}return c},d.Gradient=function(c,d){if(0!==d.width&&0!==d.height){var e,f,g=b.createElement("canvas"),h=g.getContext("2d");if(g.width=d.width,g.height=d.height,e=j.Generate.parseGradient(c,d))switch(e.type){case"linear":f=h.createLinearGradient(e.x0,e.y0,e.x1,e.y1),e.colorStops.forEach(a(f)),h.fillStyle=f,h.fillRect(0,0,d.width,d.height);break;case"circle":f=h.createRadialGradient(e.cx,e.cy,0,e.cx,e.cy,e.rx),e.colorStops.forEach(a(f)),h.fillStyle=f,h.fillRect(0,0,d.width,d.height);break;case"ellipse":var i=b.createElement("canvas"),k=i.getContext("2d"),l=Math.max(e.rx,e.ry),m=2*l;i.width=i.height=m,f=k.createRadialGradient(e.rx,e.ry,0,e.rx,e.ry,l),e.colorStops.forEach(a(f)),k.fillStyle=f,k.fillRect(0,0,m,m),h.fillStyle=e.colorStops[e.colorStops.length-1].color,h.fillRect(0,0,g.width,g.height),h.drawImage(i,e.cx-e.rx,e.cy-e.ry,2*e.rx,2*e.ry)}return g}},d.ListAlpha=function(a){var b,c="";do b=a%26,c=String.fromCharCode(b+64)+c,a/=26;while(26*a>26);return c},d.ListRoman=function(a){var b,c=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],d=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],e="",f=c.length;if(0>=a||a>=4e3)return a;for(b=0;f>b;b+=1)for(;a>=d[b];)a-=d[b],e+=c[b];return e}}(),j.Parse=function(d,e,f){function h(){var a=qa(b.documentElement,"backgroundColor"),c=ma.isTransparent(a)&&ja===b.body,d=ea(ja,null,!1,c);ha(ja,d,function(){c&&(a=d.backgroundColor),ma.log("Done parsing, moving to Render."),f({backgroundColor:a,stack:d})})}function i(){return Math.max(Math.max(la.body.scrollWidth,la.documentElement.scrollWidth),Math.max(la.body.offsetWidth,la.documentElement.offsetWidth),Math.max(la.body.clientWidth,la.documentElement.clientWidth))}function k(){return Math.max(Math.max(la.body.scrollHeight,la.documentElement.scrollHeight),Math.max(la.body.offsetHeight,la.documentElement.offsetHeight),Math.max(la.body.clientHeight,la.documentElement.clientHeight));
}function l(a,b){var c=parseInt(qa(a,b),10);return isNaN(c)?0:c}function m(a,b,c,d,e,f){"transparent"!==f&&(a.setVariable("fillStyle",f),a.fillRect(b,c,d,e),ka+=1)}function n(a,b,c){return a.length>0?b+c.toUpperCase():void 0}function o(a,b){switch(b){case"lowercase":return a.toLowerCase();case"capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,n);case"uppercase":return a.toUpperCase();default:return a}}function p(a){return/^(normal|none|0px)$/.test(a)}function q(a,b,c,d){null!==a&&ma.trimText(a).length>0&&(d.fillText(a,b,c),ka+=1)}function r(a,b,c,d){var e=!1,f=qa(b,"fontWeight"),g=qa(b,"fontFamily"),h=qa(b,"fontSize"),i=ma.parseTextShadows(qa(b,"textShadow"));switch(parseInt(f,10)){case 401:f="bold";break;case 400:f="normal"}return a.setVariable("fillStyle",d),a.setVariable("font",[qa(b,"fontStyle"),qa(b,"fontVariant"),f,h,g].join(" ")),a.setVariable("textAlign",e?"right":"left"),i.length&&(a.setVariable("shadowColor",i[0].color),a.setVariable("shadowOffsetX",i[0].offsetX),a.setVariable("shadowOffsetY",i[0].offsetY),a.setVariable("shadowBlur",i[0].blur)),"none"!==c?ma.Font(g,h,la):void 0}function s(a,b,c,d,e){switch(b){case"underline":m(a,c.left,Math.round(c.top+d.baseline+d.lineWidth),c.width,1,e);break;case"overline":m(a,c.left,Math.round(c.top),c.width,1,e);break;case"line-through":m(a,c.left,Math.ceil(c.top+d.middle+d.lineWidth),c.width,1,e)}}function t(a,b,c,d,e){var f;if(na.rangeBounds&&!e)("none"!==c||0!==ma.trimText(b).length)&&(f=u(b,a.node,a.textOffset)),a.textOffset+=b.length;else if(a.node&&"string"==typeof a.node.nodeValue){var g=d?a.node.splitText(b.length):null;f=v(a.node,e),a.node=g}return f}function u(a,b,c){var d=la.createRange();return d.setStart(b,c),d.setEnd(b,c+a.length),d.getBoundingClientRect()}function v(a,b){var c=a.parentNode,d=la.createElement("wrapper"),e=a.cloneNode(!0);d.appendChild(a.cloneNode(!0)),c.replaceChild(d,a);var f=b?ma.OffsetBounds(d):ma.Bounds(d);return c.replaceChild(e,d),f}function w(a,b,c){var d,f,g=c.ctx,h=qa(a,"color"),i=qa(a,"textDecoration"),j=qa(a,"textAlign"),k={node:b,textOffset:0};ma.trimText(b.nodeValue).length>0&&(b.nodeValue=o(b.nodeValue,qa(a,"textTransform")),j=j.replace(["-webkit-auto"],["auto"]),f=!e.letterRendering&&/^(left|right|justify|auto)$/.test(j)&&p(qa(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),d=r(g,a,i,h),e.chinese&&f.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),f.splice.apply(f,a))}),f.forEach(function(a,b){var e=t(k,a,i,b<f.length-1,c.transform.matrix);e&&(q(a,e.left,e.bottom,g),s(g,i,e,d,h))}))}function x(a,b){var c,d,e=la.createElement("boundelement");return e.style.display="inline",c=a.style.listStyleType,a.style.listStyleType="none",e.appendChild(la.createTextNode(b)),a.insertBefore(e,a.firstChild),d=ma.Bounds(e),a.removeChild(e),a.style.listStyleType=c,d}function y(a){var b=-1,c=1,d=a.parentNode.childNodes;if(a.parentNode){for(;d[++b]!==a;)1===d[b].nodeType&&c++;return c}return-1}function z(a,b){var c,d=y(a);switch(b){case"decimal":c=d;break;case"decimal-leading-zero":c=1===d.toString().length?d="0"+d.toString():d.toString();break;case"upper-roman":c=j.Generate.ListRoman(d);break;case"lower-roman":c=j.Generate.ListRoman(d).toLowerCase();break;case"lower-alpha":c=j.Generate.ListAlpha(d).toLowerCase();break;case"upper-alpha":c=j.Generate.ListAlpha(d)}return c+". "}function A(a,b,c){var d,e,f,g=b.ctx,h=qa(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(h)){if(e=z(a,h),f=x(a,e),r(g,a,"none",qa(a,"color")),"inside"!==qa(a,"listStylePosition"))return;g.setVariable("textAlign","left"),d=c.left,q(e,d,f.bottom,g)}}function B(a){var b=d[a];return b&&b.succeeded===!0?b.img:!1}function C(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),e=Math.min(a.left+a.width,b.left+b.width),f=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:e-c,height:f-d}}function D(a,b,c){var d,e="static"!==b.cssPosition,f=e?qa(a,"zIndex"):"auto",g=qa(a,"opacity"),h="none"!==qa(a,"cssFloat");b.zIndex=d=E(f),d.isPositioned=e,d.isFloated=h,d.opacity=g,d.ownStacking="auto"!==f||1>g,d.depth=c?c.zIndex.depth+1:0,c&&c.zIndex.children.push(b)}function E(a){return{depth:0,zindex:a,children:[]}}function F(a,b,c,d,e){var f=l(b,"paddingLeft"),g=l(b,"paddingTop"),h=l(b,"paddingRight"),i=l(b,"paddingBottom");S(a,c,0,0,c.width,c.height,d.left+f+e[3].width,d.top+g+e[0].width,d.width-(e[1].width+e[3].width+f+h),d.height-(e[0].width+e[2].width+g+i))}function G(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:l(a,"border"+b+"Width"),color:qa(a,"border"+b+"Color")}})}function H(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return qa(a,"border"+b+"Radius")})}function I(a,b,c,d){var e=4*((Math.sqrt(2)-1)/3),f=c*e,g=d*e,h=a+c,i=b+d;return{topLeft:J({x:a,y:i},{x:a,y:i-g},{x:h-f,y:b},{x:h,y:b}),topRight:J({x:a,y:b},{x:a+f,y:b},{x:h,y:i-g},{x:h,y:i}),bottomRight:J({x:h,y:b},{x:h,y:b+g},{x:a+f,y:i},{x:a,y:i}),bottomLeft:J({x:h,y:i},{x:h-f,y:i},{x:a,y:b+g},{x:a,y:b})}}function J(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),k=e(h,i,f),l=e(j,k,f);return[J(a,g,j,l),J(l,k,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function K(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function L(a,b,c,d,e,f,g){var h=[];return b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function M(a,b,c){var d=a.left,e=a.top,f=a.width,g=a.height,h=b[0][0],i=b[0][1],j=b[1][0],k=b[1][1],l=b[2][0],m=b[2][1],n=b[3][0],o=b[3][1],p=f-j,q=g-m,r=f-l,s=g-o;return{topLeftOuter:I(d,e,h,i).topLeft.subdivide(.5),topLeftInner:I(d+c[3].width,e+c[0].width,Math.max(0,h-c[3].width),Math.max(0,i-c[0].width)).topLeft.subdivide(.5),topRightOuter:I(d+p,e,j,k).topRight.subdivide(.5),topRightInner:I(d+Math.min(p,f+c[3].width),e+c[0].width,p>f+c[3].width?0:j-c[3].width,k-c[0].width).topRight.subdivide(.5),bottomRightOuter:I(d+r,e+q,l,m).bottomRight.subdivide(.5),bottomRightInner:I(d+Math.min(r,f+c[3].width),e+Math.min(q,g+c[0].width),Math.max(0,l-c[1].width),Math.max(0,m-c[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:I(d,e+s,n,o).bottomLeft.subdivide(.5),bottomLeftInner:I(d+c[3].width,e+s,Math.max(0,n-c[3].width),Math.max(0,o-c[2].width)).bottomLeft.subdivide(.5)}}function N(a,b,c,d,e){var f=qa(a,"backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":K(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width),K(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width),K(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width),K(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:K(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),K(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),K(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),K(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g}function O(a,b,c){var d,e,f,g,h,i,j=b.left,k=b.top,l=b.width,m=b.height,n=H(a),o=M(b,n,c),p={clip:N(a,o,c,n,b),borders:[]};for(d=0;4>d;d++)if(c[d].width>0){switch(e=j,f=k,g=l,h=m-c[2].width,d){case 0:h=c[0].width,i=L({c1:[e,f],c2:[e+g,f],c3:[e+g-c[1].width,f+h],c4:[e+c[3].width,f+h]},n[0],n[1],o.topLeftOuter,o.topLeftInner,o.topRightOuter,o.topRightInner);break;case 1:e=j+l-c[1].width,g=c[1].width,i=L({c1:[e+g,f],c2:[e+g,f+h+c[2].width],c3:[e,f+h],c4:[e,f+c[0].width]},n[1],n[2],o.topRightOuter,o.topRightInner,o.bottomRightOuter,o.bottomRightInner);break;case 2:f=f+m-c[2].width,h=c[2].width,i=L({c1:[e+g,f+h],c2:[e,f+h],c3:[e+c[3].width,f],c4:[e+g-c[3].width,f]},n[2],n[3],o.bottomRightOuter,o.bottomRightInner,o.bottomLeftOuter,o.bottomLeftInner);break;case 3:g=c[3].width,i=L({c1:[e,f+h+c[2].width],c2:[e,f],c3:[e+g,f+c[0].width],c4:[e+g,f+h]},n[3],n[0],o.bottomLeftOuter,o.bottomLeftInner,o.topLeftOuter,o.topLeftInner)}p.borders.push({args:i,color:c[d].color})}return p}function P(a,b){var c=a.drawShape();return b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))}),c}function Q(a,b,c){"transparent"!==c&&(a.setVariable("fillStyle",c),P(a,b),a.fill(),ka+=1)}function R(a,b,c){var d,e,f=la.createElement("valuewrap"),g=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];g.forEach(function(b){try{f.style[b]=qa(a,b)}catch(c){ma.log("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}}),f.style.borderColor="black",f.style.borderStyle="solid",f.style.display="block",f.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)&&(f.style.lineHeight=qa(a,"height")),f.style.top=b.top+"px",f.style.left=b.left+"px",d="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value,d||(d=a.placeholder),e=la.createTextNode(d),f.appendChild(e),pa.appendChild(f),w(a,e,c),pa.removeChild(f)}function S(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1)),ka+=1}function T(a,b,c,d){var e=Math.round(d.left+c.left),f=Math.round(d.top+c.top);a.createPattern(b),a.translate(e,f),a.fill(),a.translate(-e,-f)}function U(a,b,c,d,e,f,g,h){var i=[];i.push(["line",Math.round(e),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(f)]),i.push(["line",Math.round(e+g),Math.round(h+f)]),i.push(["line",Math.round(e),Math.round(h+f)]),P(a,i),a.save(),a.clip(),T(a,b,c,d),a.restore()}function V(a,b,c){m(a,b.left,b.top,b.width,b.height,c)}function W(a,b,c,d,e){var f=ma.BackgroundSize(a,b,d,e),g=ma.BackgroundPosition(a,b,d,e,f),h=qa(a,"backgroundRepeat").split(",").map(ma.trimText);switch(d=Y(d,f),h=h[e]||h[0]){case"repeat-x":U(c,d,g,b,b.left,b.top+g.top,99999,d.height);break;case"repeat-y":U(c,d,g,b,b.left+g.left,b.top,d.width,99999);break;case"no-repeat":U(c,d,g,b,b.left+g.left,b.top+g.top,d.width,d.height);break;default:T(c,d,g,{top:b.top,left:b.left,width:d.width,height:d.height})}}function X(a,b,c){for(var d,e=qa(a,"backgroundImage"),f=ma.parseBackgroundImage(e),g=f.length;g--;)if(e=f[g],e.args&&0!==e.args.length){var h="url"===e.method?e.args[0]:e.value;d=B(h),d?W(a,b,c,d,g):ma.log("html2canvas: Error loading background:",e)}}function Y(a,b){if(a.width===b.width&&a.height===b.height)return a;var c,d=la.createElement("canvas");return d.width=b.width,d.height=b.height,c=d.getContext("2d"),S(c,a,0,0,a.width,a.height,0,0,b.width,b.height),d}function Z(a,b,c){return a.setVariable("globalAlpha",qa(b,"opacity")*(c?c.opacity:1))}function _(a){return a.replace("px","")}function aa(a,b){var c=/(matrix)\((.+)\)/,d=qa(a,"transform")||qa(a,"-webkit-transform")||qa(a,"-moz-transform")||qa(a,"-ms-transform")||qa(a,"-o-transform"),e=qa(a,"transform-origin")||qa(a,"-webkit-transform-origin")||qa(a,"-moz-transform-origin")||qa(a,"-ms-transform-origin")||qa(a,"-o-transform-origin")||"0px 0px";e=e.split(" ").map(_).map(ma.asFloat);var f;if(d&&"none"!==d){var g=d.match(c);if(g)switch(g[1]){case"matrix":f=g[2].split(",").map(ma.trimText).map(ma.asFloat)}}return{origin:e,matrix:f}}function ba(a,b,c,d){var f=g(b?c.width:i(),b?c.height:k()),h={ctx:f,opacity:Z(f,a,b),cssPosition:qa(a,"position"),borders:G(a),transform:d,clip:b&&b.clip?ma.Extend({},b.clip):null};return D(a,h,b),e.useOverflow===!0&&/(hidden|scroll|auto)/.test(qa(a,"overflow"))===!0&&/(BODY)/i.test(a.nodeName)===!1&&(h.clip=h.clip?C(h.clip,c):c),h}function ca(a,b,c){var d={left:b.left+a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};return c&&(d=C(d,c)),d}function da(a,b){var c=b.matrix?ma.OffsetBounds(a):ma.Bounds(a);return b.origin[0]+=c.left,b.origin[1]+=c.top,c}function ea(a,b,c){var d,e=aa(a,b),f=da(a,e),g=ba(a,b,f,e),h=g.borders,i=g.ctx,j=ca(h,f,g.clip),k=O(a,f,h),l=oa.test(a.nodeName)?"#efefef":qa(a,"backgroundColor");switch(P(i,k.clip),i.save(),i.clip(),j.height>0&&j.width>0&&!c?(V(i,f,l),X(a,j,i)):c&&(g.backgroundColor=l),i.restore(),k.borders.forEach(function(a){Q(i,a.args,a.color)}),a.nodeName){case"IMG":(d=B(a.getAttribute("src")))?F(i,a,d,f,h):ma.log("html2canvas: Error loading <img>:"+a.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&(a.value||a.placeholder||"").length>0&&R(a,f,g);break;case"TEXTAREA":(a.value||a.placeholder||"").length>0&&R(a,f,g);break;case"SELECT":(a.options||a.placeholder||"").length>0&&R(a,f,g);break;case"LI":A(a,g,j);break;case"CANVAS":F(i,a,a,f,h)}return g}function fa(a){return"none"!==qa(a,"display")&&"hidden"!==qa(a,"visibility")&&!a.hasAttribute("data-html2canvas-ignore")}function ga(a,b,c){return c||(c=function(){}),fa(a)&&(b=ea(a,b,!1)||b,!oa.test(a.nodeName))?ha(a,b,c):void c()}function ha(a,b,c){function d(c){c.nodeType===c.ELEMENT_NODE?ga(c,b,f):c.nodeType===c.TEXT_NODE?(w(a,c,b),f()):f()}function f(a){--h<=0&&(ma.log("finished rendering "+g.length+" children."),c())}var g=ma.Children(a),h=g.length+1;f(),e.async?g.forEach(function(a){setTimeout(function(){d(a)},0)}):g.forEach(d)}var ia=$(a).scrollTop();a.scroll(0,0);var ja=e.elements===c?b.body:e.elements[0],ka=0,la=ja.ownerDocument,ma=j.Util,na=ma.Support(e,la),oa=new RegExp("("+e.ignoreElements+")"),pa=la.body,qa=ma.getCSS,ra="___html2canvas___pseudoelement",sa=la.createElement("style");sa.innerHTML="."+ra+'-parent:before { content: "" !important; display: none !important; }.'+ra+'-parent:after { content: "" !important; display: none !important; }',pa.appendChild(sa),d=d||{},h(),a.scroll(0,ia)},j.Preload=function(d){function e(a){A.href=a,A.href=A.href;var b=A.protocol+A.host;return b===p}function f(){u.log("html2canvas: start: images: "+t.numLoaded+" / "+t.numTotal+" (failed: "+t.numFailed+")"),!t.firstRun&&t.numLoaded>=t.numTotal&&(u.log("Finished loading images: # "+t.numTotal+" (failed: "+t.numFailed+")"),"function"==typeof d.complete&&d.complete(t))}function g(b,e,g){var h,i,j=d.proxy;A.href=b,b=A.href,h="html2canvas_"+v++,g.callbackname=h,j+=j.indexOf("?")>-1?"&":"?",j+="url="+encodeURIComponent(b)+"&callback="+h,i=x.createElement("script"),a[h]=function(b){"error:"===b.substring(0,6)?(g.succeeded=!1,t.numLoaded++,t.numFailed++,f()):(o(e,g),e.src=b),a[h]=c;try{delete a[h]}catch(d){}i.parentNode.removeChild(i),i=null,delete g.script,delete g.callbackname},i.setAttribute("type","text/javascript"),i.setAttribute("src",j),g.script=i,a.document.body.appendChild(i)}function h(b,c){var d=a.getComputedStyle(b,c),e=d.content;"url"===e.substr(0,3)&&q.loadImage(j.Util.parseBackgroundImage(e)[0].args[0]),m(d.backgroundImage,b)}function i(a){h(a,":before"),h(a,":after")}function k(a,b){var d=j.Generate.Gradient(a,b);d!==c&&(t[a]={img:d,succeeded:!0},t.numTotal++,t.numLoaded++,f())}function l(a){return a&&a.method&&a.args&&a.args.length>0}function m(a,b){var d;j.Util.parseBackgroundImage(a).filter(l).forEach(function(a){"url"===a.method?q.loadImage(a.args[0]):a.method.match(/\-?gradient$/)&&(d===c&&(d=j.Util.Bounds(b)),k(a.value,d))})}function n(a){var b=!1;try{u.Children(a).forEach(n)}catch(d){}try{b=a.nodeType}catch(e){b=!1,u.log("html2canvas: failed to access some element's nodeType - Exception: "+e.message)}if(1===b||b===c){i(a);try{m(u.getCSS(a,"backgroundImage"),a)}catch(d){u.log("html2canvas: failed to get background-image - Exception: "+d.message)}m(a)}}function o(b,e){b.onload=function(){e.timer!==c&&a.clearTimeout(e.timer),t.numLoaded++,e.succeeded=!0,b.onerror=b.onload=null,f()},b.onerror=function(){if("anonymous"===b.crossOrigin&&(a.clearTimeout(e.timer),d.proxy)){var c=b.src;return b=new Image,e.img=b,b.src=c,void g(b.src,b,e)}t.numLoaded++,t.numFailed++,e.succeeded=!1,b.onerror=b.onload=null,f()}}var p,q,r,s,t={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},u=j.Util,v=0,w=d.elements[0]||b.body,x=w.ownerDocument,y=w.getElementsByTagName("img"),z=y.length,A=x.createElement("a"),B=function(a){return a.crossOrigin!==c}(new Image);for(A.href=a.location.href,p=A.protocol+A.host,q={loadImage:function(a){var b,f;a&&t[a]===c&&(b=new Image,a.match(/data:image\/.*;base64,/i)?(b.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),f=t[a]={img:b},t.numTotal++,o(b,f)):e(a)||d.allowTaint===!0?(f=t[a]={img:b},t.numTotal++,o(b,f),b.src=a):B&&!d.allowTaint&&d.useCORS?(b.crossOrigin="anonymous",f=t[a]={img:b},t.numTotal++,o(b,f),b.src=a):d.proxy&&(f=t[a]={img:b},t.numTotal++,g(a,b,f)))},cleanupDOM:function(e){var g,h;if(!t.cleanupDone){e&&"string"==typeof e?u.log("html2canvas: Cleanup because: "+e):u.log("html2canvas: Cleanup after timeout: "+d.timeout+" ms.");for(h in t)if(t.hasOwnProperty(h)&&(g=t[h],"object"==typeof g&&g.callbackname&&g.succeeded===c)){a[g.callbackname]=c;try{delete a[g.callbackname]}catch(i){}g.script&&g.script.parentNode&&(g.script.setAttribute("src","about:blank"),g.script.parentNode.removeChild(g.script)),t.numLoaded++,t.numFailed++,u.log("html2canvas: Cleaned up failed img: '"+h+"' Steps: "+t.numLoaded+" / "+t.numTotal)}a.stop!==c?a.stop():b.execCommand!==c&&b.execCommand("Stop",!1),b.close!==c&&b.close(),t.cleanupDone=!0,e&&"string"==typeof e||f()}},renderingDone:function(){s&&a.clearTimeout(s)}},d.timeout>0&&(s=a.setTimeout(q.cleanupDOM,d.timeout)),u.log("html2canvas: Preload starts: finding background-images"),t.firstRun=!0,n(w),u.log("html2canvas: Preload: Finding images"),r=0;z>r;r+=1)q.loadImage(y[r].getAttribute("src"));return t.firstRun=!1,u.log("html2canvas: Preload: Done."),t.numTotal===t.numLoaded&&f(),q},j.Renderer=function(a,d){function e(a){function b(a){Object.keys(a).sort().forEach(function(c){var d=[],f=[],g=[],h=[];a[c].forEach(function(a){a.node.zIndex.isPositioned||a.node.zIndex.opacity<1?g.push(a):a.node.zIndex.isFloated?f.push(a):d.push(a)}),function i(a){a.forEach(function(a){h.push(a),a.children&&i(a.children)})}(d.concat(f,g)),h.forEach(function(a){a.context?b(a.context):e.push(a.node)})})}var d,e=[];return d=function(a){function b(a,d,e){var f="auto"===d.zIndex.zindex?0:Number(d.zIndex.zindex),g=a,h=d.zIndex.isPositioned,i=d.zIndex.isFloated,j={node:d},k=e;d.zIndex.ownStacking?(g=j.context={"!":[{node:d,children:[]}]},k=c):(h||i)&&(k=j.children=[]),0===f&&e?e.push(j):(a[f]||(a[f]=[]),a[f].push(j)),d.zIndex.children.forEach(function(a){b(g,a,k)})}var d={};return b(d,a),d}(a),b(d),e}function f(a){var b;if("string"==typeof d.renderer&&j.Renderer[a]!==c)b=j.Renderer[a](d);else{if("function"!=typeof a)throw new Error("Unknown renderer");b=a(d)}if("function"!=typeof b)throw new Error("Invalid renderer defined");return b}return f(d.renderer)(a,d,b,e(a.stack),j)},j.Util.Support=function(a,b){function d(){var a=new Image,d=b.createElement("canvas"),e=d.getContext===c?!1:d.getContext("2d");if(e===!1)return!1;d.width=d.height=10,a.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{e.drawImage(a,0,0),d.toDataURL()}catch(f){return!1}return j.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function e(){var a,c,d,e,f=!1;return b.createRange&&(a=b.createRange(),a.getBoundingClientRect&&(c=b.createElement("boundtest"),c.style.height="123px",c.style.display="block",b.body.appendChild(c),a.selectNode(c),d=a.getBoundingClientRect(),e=d.height,123===e&&(f=!0),b.body.removeChild(c))),f}return{rangeBounds:e(),svgRendering:a.svgRendering&&d()}},a.html2canvas=function(b,c){b=b.length?b:[b];var d,e={logging:!1,elements:b,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,async:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return e=j.Util.Extend(c,e),j.logging=e.logging,e.complete=function(a){("function"!=typeof e.onpreloaded||e.onpreloaded(a)!==!1)&&j.Parse(a,e,function(a){("function"!=typeof e.onparsed||e.onparsed(a)!==!1)&&(d=j.Renderer(a,e),"function"==typeof e.onrendered&&e.onrendered(d))})},a.setTimeout(function(){j.Preload(e)},0),{render:function(a,b){return j.Renderer(a,j.Util.Extend(b,e))},parse:function(a,b){return j.Parse(a,j.Util.Extend(b,e))},preload:function(a){return j.Preload(j.Util.Extend(a,e))},log:j.Util.log}},a.html2canvas.log=j.Util.log,a.html2canvas.Renderer={Canvas:c},j.Renderer.Canvas=function(a){function d(a,b){a.beginPath(),b.forEach(function(b){a[b.name].apply(a,b.arguments)}),a.closePath()}function e(a){if(-1===h.indexOf(a.arguments[0].src)){k.drawImage(a.arguments[0],0,0);try{k.getImageData(0,0,1,1)}catch(b){return i=g.createElement("canvas"),k=i.getContext("2d"),!1}h.push(a.arguments[0].src)}return!0}function f(b,c){switch(c.type){case"variable":b[c.name]=c.arguments;break;case"function":switch(c.name){case"createPattern":if(c.arguments[0].width>0&&c.arguments[0].height>0)try{b.fillStyle=b.createPattern(c.arguments[0],"repeat")}catch(f){l.log("html2canvas: Renderer: Error creating pattern",f.message)}break;case"drawShape":d(b,c.arguments);break;case"drawImage":c.arguments[8]>0&&c.arguments[7]>0&&(!a.taintTest||a.taintTest&&e(c))&&b.drawImage.apply(b,c.arguments);break;default:b[c.name].apply(b,c.arguments)}}}a=a||{};var g=b,h=[],i=b.createElement("canvas"),k=i.getContext("2d"),l=j.Util,m=a.canvas||g.createElement("canvas");return function(a,b,d,e,g){var h,i,j,k=m.getContext("2d"),n=a.stack;return m.width=m.style.width=b.width||n.ctx.width,m.height=m.style.height=b.height||n.ctx.height,j=k.fillStyle,k.fillStyle=l.isTransparent(a.backgroundColor)&&b.background!==c?b.background:a.backgroundColor,k.fillRect(0,0,m.width,m.height),k.fillStyle=j,e.forEach(function(a){k.textBaseline="bottom",k.save(),a.transform.matrix&&(k.translate(a.transform.origin[0],a.transform.origin[1]),k.transform.apply(k,a.transform.matrix),k.translate(-a.transform.origin[0],-a.transform.origin[1])),a.clip&&(k.beginPath(),k.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),k.clip()),a.ctx.storage&&a.ctx.storage.forEach(function(a){f(k,a)}),k.restore()}),l.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===b.elements.length&&"object"==typeof b.elements[0]&&"BODY"!==b.elements[0].nodeName?(i=g.Util.Bounds(b.elements[0]),h=d.createElement("canvas"),h.width=Math.ceil(i.width),h.height=Math.ceil(i.height),k=h.getContext("2d"),k.drawImage(m,i.left,i.top,i.width,i.height,0,0,i.width,i.height),m=null,h):m}}}(window,document),angular.module("ui.slider",[]).value("uiSliderConfig",{}).directive("uiSlider",["uiSliderConfig","$timeout",function(a,b){return a=a||{},{require:"ngModel",compile:function(){return function(c,d,e,f){function g(a,b){return b?parseFloat(a):parseInt(a)}function h(){d.slider("destroy")}var i=angular.extend(c.$eval(e.uiSlider)||{},a),j={min:null,max:null},k=["min","max","step"],l=angular.isUndefined(e.useDecimals)?!1:!0,m=function(){angular.isArray(f.$viewValue)&&i.range!==!0&&(console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."),i.range=!0),angular.forEach(k,function(a){angular.isDefined(e[a])&&(i[a]=g(e[a],l))}),d.slider(i),m=angular.noop};angular.forEach(k,function(a){e.$observe(a,function(b){b&&(m(),d.slider("option",a,g(b,l)),f.$render())})}),e.$observe("disabled",function(a){m(),d.slider("option","disabled",!!a)}),c.$watch(e.uiSlider,function(a){m(),void 0!=a&&d.slider("option",a)},!0),b(m,0,!0),d.bind("slide",function(a,b){f.$setViewValue(b.values||b.value),$(b.handle).hasClass("bottom-padding-handle")&&c.$broadcast("defaultBottomPaddingWasChanged"),$(b.handle).hasClass("top-padding-handle")&&c.$broadcast("defaultTopPaddingWasChanged"),c.$apply()}),f.$render=function(){m();var a=i.range===!0?"values":"value";i.range||!isNaN(f.$viewValue)||f.$viewValue instanceof Array?i.range&&!angular.isDefined(f.$viewValue)&&(f.$viewValue=[0,0]):f.$viewValue=0,i.range===!0&&(angular.isDefined(i.min)&&i.min>f.$viewValue[0]&&(f.$viewValue[0]=i.min),angular.isDefined(i.max)&&i.max<f.$viewValue[1]&&(f.$viewValue[1]=i.max),f.$viewValue[0]>f.$viewValue[1]&&(j.min>=f.$viewValue[1]&&(f.$viewValue[0]=j.min),j.max<=f.$viewValue[0]&&(f.$viewValue[1]=j.max)),j.min=f.$viewValue[0],j.max=f.$viewValue[1]),d.slider(a,f.$viewValue)},c.$watch(e.ngModel,function(){i.range===!0&&f.$render()},!0),d.bind("$destroy",h)}}}}]),function(){angular.module("dmApp").directive("anchorEditor",["$rootScope",function(a){return{scope:!1,restrict:"A",templateUrl:"../templates/ui-widgets/components/anchor-editor.directive/editor.html",link:function(a,b,c){var d=$(b).find(".dm-widget-popover-text-field");$(b).on("keydown keypress",function(b){13===b.which&&(b.preventDefault(),a.$apply(function(){a.addLink()}))}),a.$on("setFocus",function(){d.focus()}),a.convertToButton=function(a){1===a.which&&console.log("it needs to be realized!")}},controller:["$scope",function(a){}]}}])}(),function(){angular.module("dmApp").directive("dmBgColor",["widgetIcons","$timeout",function(a,b){function c(a,b,c){function d(b,c){return b=b||a.dmBgColor,b=e(b),c=c||f(a.dmBgColor),c=parseFloat(c),c=c?c.toFixed(3):1,"rgba("+b.r+","+b.g+","+b.b+","+c+")"}function e(a){var b={r:0,g:0,b:0};return a&&(m(a)?b=l(a):(n(a)||o(a))&&(b=h(a))),b}function f(a){var b=1;return a&&o(a)&&(b=g(a)),b}function g(a){var b=a.replace(/^.*,(.+)\)/,"$1");return b=parseFloat(b),b?b>1?1:0>b?0:b.toFixed(3):1}function h(a){var b=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return b?{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10)}:{r:0,g:0,b:0}}function i(a){if(!a)return"#000";if(m(a))return a;var b=h(a);return k(b.r,b.g,b.b)}function j(a){var b=a.toString(16);return 1==b.length?"0"+b:b}function k(a,b,c){return"#"+j(a)+j(b)+j(c)}function l(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:{r:0,g:0,b:0}}function m(a){return"#"===a.charAt(0)}function n(a){return"rgb("===a.substr(0,4)}function o(a){return"rgba("===a.substr(0,5)}var p=b.closest(".dm-widget");a.showReplacedDropDown=!1,a.$watch("dmBgColor",function(b,c){"undefined"!=typeof b&&b!=c&&(a.hexValue=i(b),o(b)&&(a.opacityValue=g(b)))}),a.$on("hexChanged",function(b,c){if("undefined"!=typeof c&&"undefined"!=typeof a.dmBgColor){var e=null;o(c)&&(e=g(c)),a.dmBgColor=d(c,e),a.addBorder()}}),a.$on("opacityChanged",function(b,c){"undefined"!=typeof c&&"undefined"!=typeof a.dmBgColor&&(a.dmBgColor=d(null,c))}),a.addBorder=function(){var c=e(a.dmBgColor),d=b.closest(".dm-widget").find(".dm-color-icon"),f=b.closest(".dm-widget").find(".cp-nav-color, .cp-opacity + span"),g=c.r<128&&c.g<128&&c.b<128,h=c.r>128&&c.g>128&&c.b>128;g?d.addClass("border-light"):d.removeClass("border-light"),h?f.css({border:"2px solid rgba(0,0,0,.2)"}):f.css({border:"none"})},a.$on("openDropDown",function(b,c){c&&(a.showReplacedDropDown=!0,p.addClass("transparent"))}),a.$on("closedDropDown",function(b,c){c&&(a.showReplacedDropDown=!1,p.removeClass("transparent"),a.$emit("closeDropDown"))})}return{templateUrl:"../templates/ui-widgets/components/bg-color-options.directive/layout.html",link:c,restirct:"A",scope:{dmBgColor:"=?",opacityValue:"=?",hexValue:"=?"}}}])}(),function(){angular.module("dmApp").directive("dmBgOptions",["widgetIcons","$timeout",function(a,b){function c(a,c,d){function e(){console.log("reposition");var a=c.closest(".dm-widget-bg-option"),b=c.closest(".dm-widget-main"),d=a.outerWidth(),e=b.outerWidth();console.log([a,b,d,e]),a.css({"margin-left":0}),d>e&&(a.offset().left-(d-e)/2>20?a.css({"margin-left":-(d-e)/2}):a.css({"margin-left":0}))}var f=c.closest(".dm-widget");a.navCols=0,a.$on("angle-changed",function(b,c){a.dmBgOptionsAngle=c,a.$emit("gradientChanged",a.dmBgOptionsGradient)}),a.createStyleString=function(){return void 0!==a.dmBgOptionsAngle?{transform:"rotate("+a.dmBgOptionsAngle+"deg)"}:{}},a.$watch("dmBgOptionsType",function(c){"gradient"===c&&a.dmBgOptionsGradient&&b(function(){a.$broadcast("gradient-request")},10)}),a.opacity=!1,a.color=!1,a.gradient=!1,a.image=!1,a.navigation=!1,a.showReplacedDropDown=!1,a.url=pluginUrl,a.gradientCollection={0:[{x:0,color:"#649173",active:!0},{x:100,color:"#DBD5A4",active:!1}],1:[{x:0,color:"#136a8a",active:!0},{x:100,color:"#267871",active:!1}],2:[{x:0,color:"#43cea2",active:!0},{x:100,color:"#185a9d",active:!1}],3:[{x:0,color:"#360033",active:!0},{x:100,color:"#0b8793",active:!1}],4:[{x:0,color:"#485563",active:!0},{x:100,color:"#29323c",active:!1}],5:[{x:0,color:"#FF8008",active:!0},{x:100,color:"#FFC837",active:!1}],6:[{x:0,color:"#403B4A",active:!0},{x:100,color:"#E7E9BB",active:!1}],7:[{x:0,color:"#16222A",active:!0},{x:100,color:"#3A6073",active:!1}],8:[{x:0,color:"#134E5E",active:!0},{x:100,color:"#71B280",active:!1}],9:[{x:0,color:"#1D976C",active:!0},{x:100,color:"#93F9B9",active:!1}]},a.gradientStyles="",a.$on("hexChanged",function(b,c){a.dmBgOptionsColor=c,a.addBorder()}),a.$on("opacityChanged",function(b,c){a.dmBgOptionsOpacity=c}),c.closest(".dm-widget").on("click",".appearance-template, .dm-bg-options",function(b){var c=$(b.target).closest(".dm-widget-cp-drop");if(!c.length){var d=Math.floor(10*Math.random()),e=a.gradientCollection[10>d?d:9];"gradient"==a.dmBgOptionsType&&(a.dmBgOptionsGradientType="custom"),"default"==a.dmBgOptionsGradientType&&(a.dmBgOptionsGradient=e),setTimeout(function(){a.$apply()},100)}}),a.addBorder=function(){for(var b=[],d=1;7>d;d+=2)b.push(parseInt("0x"+a.dmBgOptionsColor.substr(d,2),16));var e=c.closest(".dm-widget").find(".dm-color-icon"),f=c.closest(".dm-widget").find(".cp-nav-color, .cp-opacity + span"),g=b[0]<128&&b[1]<128&&b[2]<128,h=b[0]>128&&b[1]>128&&b[2]>128;g?e.addClass("border-light"):e.removeClass("border-light"),h?f.css({border:"2px solid rgba(0,0,0,.2)"}):f.css({border:"none"})},a.$on("gradientChanged",function(b,c){c&&(a.dmBgOptionsGradient=c,a.dmBgOptionsGradient.sort(function(a,b){return a.x-b.x}),a.gradientLength=a.dmBgOptionsGradient.length,2==a.gradientLength?a.gradientStyles=function(){return{background:"linear-gradient("+a.dmBgOptionsAngle+"deg, "+a.dmBgOptionsGradient[0].color+" "+a.dmBgOptionsGradient[0].x+"%, "+a.dmBgOptionsGradient[1].color+" "+a.dmBgOptionsGradient[1].x+"%)"}}:3==a.gradientLength&&(a.gradientStyles=function(){return{background:"linear-gradient("+a.dmBgOptionsAngle+"deg, "+a.dmBgOptionsGradient[0].color+" "+a.dmBgOptionsGradient[0].x+"%, "+a.dmBgOptionsGradient[1].color+" "+a.dmBgOptionsGradient[1].x+"%, "+a.dmBgOptionsGradient[2].color+" "+a.dmBgOptionsGradient[2].x+"%)"}}),"gradient"==a.dmBgOptionsType&&(a.dmBgOptionsGradientType="custom"))}),a.$on("WpMediaLibraryImageChange",function(b,c){a.dmBgOptionsImage=c}),a.$on("openDropDown",function(b,c){c&&(a.showReplacedDropDown=!0,f.addClass("transparent"))}),a.$on("closedDropDown",function(b,c){c&&(a.showReplacedDropDown=!1,f.removeClass("transparent"),a.$emit("closeDropDown"))});for(var g=0;g<a.dmBgOptions.length;g++)"opacity"==a.dmBgOptions[g]&&(a.opacity=!0),"color"==a.dmBgOptions[g]&&(a.color=!0),"gradient"==a.dmBgOptions[g]&&(a.gradient=!0),"image"==a.dmBgOptions[g]&&(a.image=!0),
"navigation"==a.dmBgOptions[g]&&(a.navigation=!0);a.color&&++a.navCols,a.gradient&&++a.navCols,a.image&&++a.navCols,a.navColsClass="cp-navCols-"+a.navCols,a.changeVisibility=function(b){a.dmBgOptionsType=b,e()}}return{templateUrl:"../templates/ui-widgets/components/bg-options.directive/layout.html",link:c,restirct:"A",scope:{dmBgOptions:"=",dmBgOptionsColor:"=",dmBgOptionsOpacity:"=",dmBgOptionsGradient:"=",dmBgOptionsGradientType:"=",dmBgOptionsImage:"=",dmBgOptionsType:"=",dmBgOptionsAngle:"="}}}])}(),function(){angular.module("dmApp").directive("buttonEditingPopover",["$timeout","compatibility","events",function(a,b,c){function d(d,j,k){d.panelHeights=[],a(function(){var a=$(j).find('div[class*="js-panel-"]'),b="";a.each(function(a,c){$(c).removeClass("ng-hide"),b=-1!==c.className.indexOf("heading")?"heading":-1!==c.className.indexOf("color")?"color":-1!==c.className.indexOf("border")?"border":"fonts",d.panelHeights.push({"class":b,height:$(c).outerHeight()}),$(c).addClass("ng-hide")})},1500),d.$popover=$(j).parent(),d.bottomArrow=!0,d.classes={},d.$watch("shownTools",function(a,b){a&&a!==b?(d.restoreDefaults(d),$("body").on("wheel",".dm-widget-panel-font-list .nano-content",e)):($("body").off("wheel",".dm-widget-panel-font-list .nano-content",e),d.collapseFontsList(d,j))}),d.execBold=function(){document.execCommand("bold",!1,null),d.bold=document.queryCommandState("bold"),b.isIE&&d.$editor.trigger("input"),d.changeColor=!1,d.changeFont=!1,d.changeBorder=!1},d.execItalic=function(){document.execCommand("italic",!1,null),d.italic=document.queryCommandState("italic"),b.isIE&&d.$editor.trigger("input"),d.changeColor=!1,d.changeFont=!1,d.changeBorder=!1},d.addLink=function(){d.removeSelection(),d.restoreLastSelection(d.savedSelection),d.model.url=d.link,d.$editor.trigger("input"),d.shownPopover=!0,a(function(){d.customizePopoverPosition($(j).parent())},10)},d.execJustify=function(){d.model["content-style"]["text-align"]="center"===d.model["content-style"]["text-align"]?"left":"center",d.justified="center"===d.model["content-style"]["text-align"],d.changeColor=!1,d.changeFont=!1,d.changeBorder=!1,a(function(){d.customizePopoverPosition($(j).parent())},10)},d.triggerLinkEditor=function(){d.savedSelection=d.saveLastSelection(),d.shownAnchorEditor=!0,a(function(){d.customizePopoverPosition($(j).parent()),d.$broadcast("setFocus")},10),d.restoreSelectionAfterStyling()},d.selectFont=function(a){var b=$(a.target).prop("tagName").toLowerCase();if("span"===b||"button"===b){var c=a.target.textContent.trimStart().trimEnd(),e=$.grep(d.webFonts,function(a){return a.key==c}),f=$.grep(d.googleFonts,function(a){return a.key==c}),g=$.grep(d.localFonts,function(a){return a.key==c}),h=$.grep(d.typeKitFonts,function(a){return a.key==c});d.style["font-family"]=0!=e.length?e[0].value:0!=f.length?f[0].value:0!=g.length?g[0].value:h[0].value}},c.addEventListener(d,j,"keydown",function(a){if(d.shownTools&&d.changeFont&&(38===a.which||40===a.which)){a.preventDefault(),a.stopPropagation();var b=d.visibleFont,c=_.findIndex(d.fonts,function(a){return a.key==b});if(-1!==c){var e=c+(38===a.which?-1:1);e>=0&&e<d.fonts.length&&d.$apply(function(){d.style["font-family"]=d.fonts[e].value})}}}),d.reduceButtonSize=function(a){d.style["padding-"+a]>=1&&--d.style["padding-"+a]},d.increaseButtonSize=function(a){d.style["padding-"+a]<15&&++d.style["padding-"+a]},d.triggerBorderEditor=function(a){if(1===a.which){if(d.changeColor=!1,d.changeFont=!1,d.changeBorder=!d.changeBorder,d.$broadcast("openDropDown"),"undefined"==typeof d.model["button-style"])return!1;d.style["border-color"]=d.model["button-style"]["border-color"]}},d.increaseBorderWidth=function(){d.style["border-width"]<10&&++d.style["border-width"]},d.reduceBorderWidth=function(){d.style["border-width"]>0&&--d.style["border-width"]},d.increaseBorderRadius=function(){d.style["border-radius"]<45&&++d.style["border-radius"]},d.reduceBorderRadius=function(){d.style["border-radius"]>0&&--d.style["border-radius"]},d.triggerFontsEditor=function(a){if(1===a.which&&(d.changeFont=!d.changeFont,d.changeFont&&(d.savedSelection=d.saveLastSelection(),d.changeColor=!1,d.changeBorder=!1),d.style["font-family"]=d.model["content-style"]["font-family"],b.isFirefox)){var c=$.grep(d.webFonts,function(a){return a.value.trim().replace(/'/g,"")==d.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),e=$.grep(d.googleFonts,function(a){return a.value.trim().replace(/'/g,"")==d.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),f=$.grep(d.localFonts,function(a){return a.value.trim().replace(/'/g,"")==d.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),g=$.grep(d.typeKitFonts,function(a){return a.value.trim().replace(/'/g,"")==d.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")});(0!=c.length||0!=e.length||0!=f.length||0!=g.length)&&(0!=c.length?d.visibleFont=c[0].key:0!=e.length?d.visibleFont=e[0].key:0!=f.length?d.visibleFont=f[0].key:d.visibleFont=g[0].key)}},d.toggleColorPicker=function(a){1===a.which&&(d.changeFont=!1,d.changeBorder=!1,d.changeColor=!0,d.$broadcast("openDropDown"))},d.reduceFontSize=function(){d.classes["font-size"]>1&&--d.classes["font-size"]},d.increaseFontSize=function(){d.classes["font-size"]<7&&++d.classes["font-size"]},d.reduceLineHeight=function(){d.classes["line-height"]>1&&--d.classes["line-height"]},d.increaseLineHeight=function(){d.classes["line-height"]<7&&++d.classes["line-height"]};var l=$(j).parent(),m=$(l).closest(".dm-template");m.append($(l)),d.collapseFontsList=f,d.restoreDefaults=i,d.radiusValueToPx=g,d.radiusPxToVal=h}function e(a){var b=$(this).scrollTop(),c=a.originalEvent,d=c.deltaY;return d>0&&b>=$(this)[0].scrollHeight-$(this).outerHeight()||0>d&&0>=b?!1:void 0}function f(b,c){a(function(){var a=$(c).find(".dm-widget-panel-font-list .nano-content"),d=a.find("li").filter(function(){return-1!==$(this).text().indexOf(b.visibleFont)});d.length&&a.length&&(a.scrollTop(0),a.scrollTop(d.offset().top-a.offset().top))},10)}function g(a){return 10>=a?a:5*(a-10)+10}function h(a){return 10>=a?a:(a-10)/5+10}function i(a){a.shownPopover=!0,a.changeFont=!1,a.changeHeading=!1,a.changeColor=!1,a.changeBorder=!1,a.validLink=!1,a.link=a.model.url,a.bold=document.queryCommandState("bold"),a.italic=document.queryCommandState("italic"),a.justified="center"===a.model["content-style"]["text-align"];var b=window.getSelection(),c=$(b.anchorNode).closest("h1, h2, h3, p");if(0!==c.length){var d=$.grep(c[0].className.split(" "),function(a){return 0===a.indexOf("font-size-")})[0],e=$.grep(c[0].className.split(" "),function(a){return 0===a.indexOf("line-height-")})[0];a.classes["font-size"]=d.split("-")[2],a.classes["line-height"]=e.split("-")[2]}if("undefined"!=typeof a.model["button-style"]){var f=a.model["button-style"]["border-width"];a.style["border-width"]=f.substr(0,f.length-2);var g=a.model["button-style"]["border-radius"];a.style["border-radius"]=h(g.substr(0,g.length-2));var i=a.model["button-style"].padding||"10px",j=i.split(" "),k=parseInt(j[0].replace("px","")),l=2==j.length?parseInt(j[1].replace("px","")):k;a.style["padding-x"]=l/5,a.style["padding-y"]=k/5}}return{restrict:"A",templateUrl:"../templates/ui-widgets/components/button-editor.directive/popover.html",link:d}}])}(),function(){angular.module("dmApp").directive("buttonEditing",["fonts","$timeout","$rootScope","compatibility","$compile",function(a,b,c,d,f){function g(g,m,o){g.$editor=$(m).find("[contenteditable]"),g.$undoManager={states:[],memorize:function(){this.states.push(g.$editor.html()),this.states.length>1e3&&this.states.shift()},undo:function(){if(this.states.length>1){var a=this.states[this.states.length-2],b=f(a)(g);g.$editor.html(b),this.states.pop(),window.getSelection().removeAllRanges()}}},g.webFonts=a.getWebFonts(),g.googleFonts=a.getGoogleFonts(),g.localFonts=a.getLocalFonts(),g.typeKitFonts=a.getTypeKitFonts(),c.$onWithAutoDeregister(g,"loaded-TypeKitFonts",function(a,b){g.typeKitFonts=b,g.$broadcast("loaded-TypeKitFonts-inside")}),g.shownPopover=!0,g.isButton="true"===o.buttonEditingIsButton,g.style={},g.backgroundVisibility=!1,g.getClassString=function(){return g.model&&g.model["button-style"]?"button stroke":""};var p=function(){if(!g.$popover&&!m.find("[text-editing-popover]").length){var a=angular.element('<div button-editing-popover data-html2canvas-ignore ng-show="shownPopover"></div>');m.find(".dm-text-editing-holder").append(f(a)(g)),g.$editor=$(m).find("[contenteditable]")}},q=g.$watch("model",function(a){if(void 0!==a){var b=o.buttonEditingInclude.split(/\[|,\s*|\]/);g.includes=b.filter(function(a){return""!==a&&void 0!==a});var c='<p ng-class="fontClasses()">'+a.content+"</p>",d=f(c)(g),e=$(c).html("<br/>");g.$defaultParagraph=e[0].outerHTML,g.model.placeholder&&g.$editor.attr("placeholder",g.model.placeholder),g.$editor.html(d),g.commonColor=a["content-style"].color,g.borderColor="undefined"!=typeof a["button-style"]&&"undefined"!=typeof a["button-style"]["border-color"]?a["button-style"]["border-color"]:"#FFF",g.backgroundVisibility="undefined"!=typeof a["button-style"]&&"undefined"!=typeof a["button-style"]["background-color"]&&"transparent"!==a["button-style"]["background-color"]&&a["button-style"]["background-color"].length?!0:!1,g.$editor.trigger("input"),q()}});g.$watch("commonColor",function(a){if(a){for(var b=[],c=1;7>c;c+=2)b.push(parseInt("0x"+a.substr(c,2),16));if(g.$popover){var d=g.$popover.find(".dm-color-icon"),e=b[0]<128&&b[1]<128&&b[2]<128;e?d.css({border:"2px solid #fff","box-shadow":"inset 0 1px 2px 0 rgba(0,0,0,.25)"}):d.css({border:"none","box-shadow":"none"})}g.model["content-style"].color=a}}),g.$watch("borderColor",function(a){a&&"undefined"!=typeof g.model["button-style"]&&(g.model["button-style"]["border-color"]=a,g.backgroundVisibility?g.model["button-style"]["background-color"]=a:g.model["button-style"]["background-color"]="transparent")}),g.change=function(a){g.model.target=a},g.$watch("model.target",function(a){g.isInNewTab=a?!0:!1}),$(m).on("keyup",function(){setTimeout(function(){d.isIE&&g.$editor.trigger("input")},0)}),$(m).on("mousedown",function(){if(d.isChrome&&g.changingSelection)e.preventDefault();else{g.mouseDown=!0,g.$digest(),c.$emit("hide-widgets");var a=g.$editor.find(".js-placeholder");a.length&&(a.removeClass("js-placeholder"),a.html("<br/>"),setTimeout(function(){var b=document.createRange();window.getSelection().removeAllRanges(),b.selectNodeContents(g.$editor[0]),b.setStart(a[0],0),b.setEnd(a[0],0),window.getSelection().addRange(b),d.isFirefox&&setTimeout(function(){g.$editor.focus()},10)},250))}}),$(m).on("blur input focusout",function(a){if(d.isFirefox&&"focusout"===a.type)return a.preventDefault(),!1;if(g.model&&0===g.$editor.text().trim().length){g.$editor.empty(),g.$savedParagraph=angular.copy(g.$defaultParagraph);var b=$(g.$defaultParagraph);b.removeClass();for(var c=0;c!=g.model.classes.length;++c)b.addClass(g.model.classes[c]);g.$defaultParagraph=b[0].outerHTML,b.addClass("js-placeholder"),b.text(g.$editor.attr("placeholder"));var e=f(b[0].outerHTML)(g);g.$editor.prepend(e),window.getSelection().removeAllRanges()}else g.$savedParagraph&&(g.$defaultParagraph=angular.copy(g.$savedParagraph))}),g.$watch('style["font-family"]',function(a){if(a){if(a=a.replace(/"/g,"'"),g.webFonts.length&&g.googleFonts.length&&g.localFonts.length&&g.typeKitFonts.length){var b=$.grep(g.webFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),c=$.grep(g.googleFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),d=$.grep(g.localFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")}),e=$.grep(g.typeKitFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")});(0!=b.length||0!=c.length||0!=d.length||0!=e.length)&&(0!=b.length?g.visibleFont=b[0].key:0!=c.length?g.visibleFont=c[0].key:0!=d.length?g.visibleFont=d[0].key:g.visibleFont=e[0].key)}window.getSelection().rangeCount>0&&(g.model["content-style"]["font-family"]=a,g.$editor.trigger("input"))}}),g.fontClasses=function(){return g.model&&g.model.classes?g.model.classes[0]+" "+g.model.classes[1]+" url overrided-paragraph":""},g.$watch("style['border-width']",function(a){a&&(g.model["button-style"]["border-width"]=a+"px",g.$popover.find(".bwidth-slider").find(".ui-slider-handle").text(a))}),g.$watch("style['padding-x']",function(a){if(void 0!=a){var b=5*a,c=5*g.style["padding-y"];g.model["button-style"].padding=c+"px "+b+"px",g.$popover.find(".bpadding-slider-x").find(".ui-slider-handle").text(b)}}),g.$watch("style['padding-y']",function(a){if(void 0!=a){var b=5*a,c=5*g.style["padding-x"];g.model["button-style"].padding=b+"px "+c+"px",g.$popover.find(".bpadding-slider-y").find(".ui-slider-handle").text(b)}}),g.$watch("style['border-radius']",function(a){void 0!=a&&(a=g.radiusValueToPx(a),g.model["button-style"]["border-radius"]=a+"px",g.$popover.find(".bround-slider").find(".ui-slider-handle").text(a))}),g.$watch('classes["font-size"]',function(a){if(a){if(g.restoreSelectionAfterStyling(),window.getSelection().rangeCount>0&&0!==window.getSelection().toString().length)for(var b=0;b!=g.model.classes.length;++b)if(-1!==g.model.classes[b].indexOf("font-size-")){g.model.classes.splice(b,1),g.model.classes.push("font-size-"+a);break}g.$popover&&(g.$popover.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text(a),g.$editor.trigger("input"))}else g.$popover&&g.$popover.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text("")}),$(m).on("input",function(){var a=function(a,b){var c=$(g.$defaultParagraph);c.html(a[b]);var d=f(c[0].outerHTML)(g);g.$editor.html(d);var e=document.createRange();e.selectNodeContents(g.$editor[0]),e.setStart(c[0],c.contents().length),e.setEnd(c[0],c.contents().length),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)};if(g.model){var b=g.$editor.contents();1===b.length&&3===b[0].nodeType&&a(b,0);var c=g.$editor.find("p"),d=g.$editor.find("p").html();c.hasClass("js-placeholder")?g.model.content="<br/>":g.model.content=d,g.bold=document.queryCommandState("bold"),g.italic=document.queryCommandState("italic"),g.$undoManager.memorize()}}),$(m).on("keydown",function(a){if(p(),13===a.which)return a.preventDefault(),a.stopImmediatePropagation(),!1;if(65===a.which&&(a.ctrlKey||a.metaKey))b(function(){g.customizePopoverPosition(g.$popover),g.shownTools=!0},100);else if(8===a.which||46===a.which)b(function(){g.shownTools=!1},100);else{if((26===a.which||90===a.which)&&(a.ctrlKey||a.metaKey))return a.preventDefault(),a.stopImmediatePropagation(),g.$undoManager.undo(),!1;66===a.which&&(a.ctrlKey||a.metaKey)?d.isFirefox&&(a.preventDefault(),document.execCommand("bold",!1,null)):73===a.which&&(a.ctrlKey||a.metaKey)?d.isFirefox&&(a.preventDefault(),document.execCommand("italic",!1,null)):85===a.which&&(a.ctrlKey||a.metaKey)?a.preventDefault():37!==a.which&&39!==a.which||!a.shiftKey||b(function(){g.shownTools||(g.shownTools=!0),g.customizePopoverPosition(g.$popover)},10)}}),g.$watch('classes["line-height"]',function(a){if(a){if(g.restoreSelectionAfterStyling(),window.getSelection().rangeCount>0&&0!==window.getSelection().toString().length)for(var b=0;b!=g.model.classes.length;++b)if(-1!==g.model.classes[b].indexOf("line-height-")){g.model.classes.splice(b,1),g.model.classes.push("line-height-"+a);break}g.$popover&&(g.$popover.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text(a),g.$editor.trigger("input"))}else g.$popover&&g.$popover.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text("")}),g.$watch("changeColor",function(a){"boolean"==typeof a&&(p(),g.customizePopoverPosition(g.$popover))}),g.ChangePosition=function(a){b(function(){g.customizePopoverPosition(g.$popover,a)})},g.backgroundVisibilityChange=function(a){"boolean"==typeof a?(g.backgroundVisibility=a,a?g.model["button-style"]["background-color"]=g.model["button-style"]["border-color"]:g.model["button-style"]["background-color"]="transparent"):g.backgroundVisibility=!1},g.$watch("changeBorder",function(a){"boolean"==typeof a&&(p(),g.customizePopoverPosition(g.$popover))}),g.$watch("changeFont",function(a){"boolean"==typeof a&&(p(),g.customizePopoverPosition(g.$popover))}),g.showAtMouseUp=function(){var a=window.getSelection().toString();a&&g.mouseDown&&(p(),b(function(){g.restoreDefaults(g),g.customizePopoverPosition(g.$popover),g.shownTools=!0},100)),g.mouseDown=!1};var r=0;g.customizePopoverPosition=function(a,b){var c=($("#templates").offset().top,$(m).closest(".dm-template").offset().top),d=_.result(_.max(g.panelHeights,function(a){return a.height}),"height")+50||50,e=$(window).width();g.bottomArrow=!0,0===g.$popover.length&&(g.$popover=a);var f,h,i=g.$popover.outerWidth()||r,j=g.shownPopover?50:110,k=window.getSelection();i&&(r=i);var l=k.getRangeAt(0).cloneRange(),n=l.getBoundingClientRect(),o=$(window).scrollTop();if(g.isButton){var p=g.isButton?$(m).find(".button").offset().left:$(m).offset().left,q=$(m).offset().top,s=$(m).outerHeight();if(0===s){var t=$(m)[0].getBoundingClientRect();t&&(s=t.height||0)}var u=$(m).find(".button").outerWidth(),v=parseInt($(m).find(".button").css("margin-top"));if(h=q-c-j-8+v,f=p+u/2+$(window).scrollLeft()-i/2,o>h+c-d&&(g.bottomArrow=!1,h=q+s-c+8),f+i>e){var w=f+i-e+8;f-=w}}else{var x=n.top,y=n.left,z=n.width;f=y-i/2+z/2-$(window).scrollLeft(),h=x-c-8-j+o}var A=g.changeColor||g.changeFont||g.changeBorder;if(A&&g.bottomArrow){var B;g.changeHeading?B=_.result(_.find(g.panelHeights,function(a){return"heading"===a["class"]}),"height"):g.changeColor?B=_.result(_.find(g.panelHeights,function(a){return"color"===a["class"]}),"height"):g.changeFont?B=_.result(_.find(g.panelHeights,function(a){return"fonts"===a["class"]}),"height"):g.changeBorder&&(B=_.result(_.find(g.panelHeights,function(a){return"border"===a["class"]}),"height"),b&&(B+=291)),h-=B}$(a).css({top:h+"px",left:f+"px"}),g.changeFont&&g.collapseFontsList(g,g.$popover)},g.saveLastSelection=j,g.removeSelection=k,g.restoreLastSelection=l,g.loadFontsList=h,g.addTypeKitFontsList=i,g.addedTypeKitFontsList=!1,g.restoreSelectionAfterStyling=function(){g.savedSelection&&(g.removeSelection(),g.restoreLastSelection(g.savedSelection))},g.pasteHtmlAtCaret=n,$(m).on("paste drop",function(a){a.preventDefault();var c="drop"===a.type?a.originalEvent.dataTransfer:a.originalEvent.clipboardData;if(c||(c=window.clipboardData),window.getSelection().rangeCount>0){var d=c.getData("text");if("drop"===a.type){var e=a.originalEvent;createSelectionFromPoint(e.x,e.y,e.x,e.y)}g.pasteHtmlAtCaret(d.split(/\n/g).join("")),g.shownTools=!1,b(function(){g.$editor.trigger("input")},10)}})}function h(a){a.fonts||(a.fonts=a.webFonts.concat(a.googleFonts),a.fonts=a.fonts.concat(a.localFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}))}function i(a){a.addedTypeKitFontsList||(a.fonts=a.fonts.concat(a.typeKitFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),a.addedTypeKitFontsList=!0)}function j(){return window.getSelection().getRangeAt(0)}function k(){window.getSelection().removeAllRanges()}function l(a){window.getSelection().addRange(a)}function m(a){var b=a.$watch("webFonts",function(c){if(c.length&&a.style){var d=$.grep(a.webFonts,function(b){return b.value==a.style["font-family"]}),e=$.grep(a.googleFonts,function(b){return b.value==a.style["font-family"]}),f=$.grep(a.localFonts,function(b){return b.value==a.style["font-family"]});(0!=d.length||0!=e.length||0!=f.length)&&(a.style["font-family"]=0!=d.length?d[0].key:0!=e.length?e[0].key:f[0].key),b()}c.length&&a.loadFontsList(a)},!0),d=a.$watch("typeKitFonts",function(b){if(b.length&&a.style){var c=$.grep(a.typeKitFonts,function(b){return b.value==a.style["font-family"]});0!=c.length&&(a.style["font-family"]=c[0].key),d()}b.length&&a.addTypeKitFontsList(a)},!0);c.$onWithAutoDeregister(a,"loaded-fonts",function(){a.loadFontsList(a)}),a.$on("loaded-TypeKitFonts-inside",function(b){i(a)}),c.$onWithAutoDeregister(a,"hide-widgets",function(){a.shownTools=!1}),c.$onWithAutoDeregister(a,"button-editing-mouse-up",function(){a.showAtMouseUp()}),a.$on("layout-button-changed",function(b,c){a.model["content-style"]["text-align"]=c?"center":"left",a.justified="center"===a.model["content-style"]["text-align"]}),a.$on("hexChanged",function(b,c){var d=b.targetScope.pickerId;"color"===d?a.commonColor=c:"border"===d&&(a.borderColor=c)}),a.$on("editors-update",function(){if(a.$defaultParagraph){var b=a.$editor.find("p"),c=$(b).hasClass("js-placeholder");a.commonColor=a.model["content-style"].color,$(b).removeClass(),c&&$(b).addClass("js-placeholder");for(var d=0;d!=a.model.classes.length;++d)$(b).addClass(a.model.classes[d]);a.$editor.trigger("input",{silent:!0})}}),a.$watch("shownPopover",function(b){b&&(a.shownAnchorEditor=!1)}),a.$watch("shownAnchorEditor",function(b){b&&(a.shownPopover=!1)})}function n(a){var b,c;if(b=window.getSelection(),b.getRangeAt&&b.rangeCount){c=b.getRangeAt(0),c.deleteContents();var d=document.createElement("p");d.innerHTML=a;for(var e,f,g=document.createDocumentFragment();e=d.firstChild;)f=g.appendChild(e);c.insertNode(g),f&&(c=c.cloneRange(),c.setStartAfter(f),c.collapse(!0),b.removeAllRanges(),b.addRange(c))}}return{restrict:"A",scope:{model:"=ngModel"},templateUrl:"../templates/ui-widgets/components/button-editor.directive/content.html",link:g,controller:["$scope",m]}}])}(),function(){angular.module("dmApp").directive("dmCoverBtnimg",["events",function(a){function b(a,b,c){a.inputId=parseInt(1e6*Math.random())+b.closest(".dm-template").attr("component-id"),a.changeButtonImage=function(b){a.dmCoverBtnimg.image=b,a.dmCoverBtnimg.image_src=a.dmCoverBtnimg.images[b]}}return{scope:{dmCoverBtnimg:"="},templateUrl:"../templates/ui-widgets/components/cover/btnimg.html",link:b}}])}(),function(){angular.module("dmApp").directive("dmCoverNg",["events",function(a){function b(a){a.getClassString=function(a){if(a&&a.position){var b=[];return b.push(a.media.video.id?"video youtube":""),b.push(1==a.position.index||4==a.position.index||7==a.position.index?"left":""),b.push(2==a.position.index||5==a.position.index||8==a.position.index?"center":""),b.push(3==a.position.index||6==a.position.index||9==a.position.index?"right":""),b.push(1==a.position.index||2==a.position.index||3==a.position.index?"top":""),b.push(4==a.position.index||5==a.position.index||6==a.position.index?"middle":""),b.push(7==a.position.index||8==a.position.index||9==a.position.index?"bottom":""),b.join(" ")}return""},a.$on("layout-changed",function(b,c){a.$broadcast("layout-button-changed",c)})}function c(b,c,d){var e=c.find(".dm-widget"),f=c.closest(".dm-template").find(".dm-widget-main.middled"),g=c.find(".dm-ng-side");b.$watch("dmFeatureItem",function(a,b){"video"==a&&e.addClass("video"),"image"==a&&e.removeClass("video")}),c.on("click",function(a){$(a.target).closest(".dm-widget").length||(e.toggleClass("show"),f.length&&g.length&&f.css({top:g.prop("offsetTop")}))}),a.addEventListener(b,"body","click",function(a){$(a.target).closest(c).length||e.removeClass("show")}),a.addEventListener(b,window,"resize",function(){e.removeClass("show")})}return{restrict:"A",controller:["$scope",b],link:c}}]).directive("dmCoverLayoutNew",["$compile","widgetIcons","$timeout","$rootScope",function(a,b,c,d){function e(a){return Object.keys(a)}function f(c,d,f){var g=b.getIcon("layout");c.$watch("dmCoverLayoutNew",function(){if(c.dmCoverLayoutNew){c.coverLayout=e(c.dmCoverLayoutNew);var b='<i class="dm-widget-icon">'+g+'</i><div class="dm-widget-drop-down has-arrow"><div class="dm-widget-drop-body"><div ng-repeat="el in coverLayout track by $index"><input type="checkbox" id="[[ el ]]'+d.closest(".dm-template").attr("component-id")+'" ng-checked="dmCoverLayoutNew[el].value" ng-model="dmCoverLayoutNew[el].value" ng-true-value="1" ng-false-value=""><label ng-class="{\'checked\': dmCoverLayoutNew[el].value}" for="[[ el ]]'+d.closest(".dm-template").attr("component-id")+'">[[dmCoverLayoutNew[el].label]]</label></div></div></div>';d.prepend(a(b)(c)),"undefined"!=typeof c.dmCoverLayoutNew.text&&0==c.dmCoverLayoutNew.text.value&&(c.dmCoverLayoutNew.text.value=""),"undefined"!=typeof c.dmCoverLayoutNew.button&&0==c.dmCoverLayoutNew.button.value&&(c.dmCoverLayoutNew.button.value=""),"undefined"!=typeof c.dmCoverLayoutNew.button2&&0==c.dmCoverLayoutNew.button2.value&&(c.dmCoverLayoutNew.button2.value=""),"undefined"!=typeof c.dmCoverLayoutNew.form&&0==c.dmCoverLayoutNew.form.value&&(c.dmCoverLayoutNew.form.value="")}})}return{scope:{dmCoverLayoutNew:"="},link:f}}])}(),function(){angular.module("dmApp").directive("dmCoverLink",["events",function(a){function b(b,c,d){var e=c.find(".url-input");b.inputId=parseInt(1e6*Math.random())+c.closest(".dm-template").attr("component-id"),b.inputIdNewTab=b.inputId+"-newTab",a.addEventListener(b,c,"keyup",function(a){27==a.keyCode&&c.find(".dm-widget-drop-down").hasClass("show-drop-down")&&c.find(".dm-widget-drop-down").removeClass("show-drop-down")}),b.$on("openDropDown",function(){e.focus()}),b.removeLink=function(){b.dmCoverLink.url=""},b.insertLink=function(a){13==a.keyCode&&b.dmCoverLink.url&&(c.removeClass("active"),c.find(".dm-widget-drop-down").removeClass("show-drop-down"))}}return{templateUrl:"../templates/ui-widgets/components/cover/link.html",scope:{dmCoverLink:"="},link:b}}])}(),function(){angular.module("dmApp").directive("dmCover",function(){function a(a){a.getClassString=function(a){if(a&&a.position){var b=[];return b.push(a.layout.colors.value?"inverse":""),b.push(a.media.video.id?"video youtube":""),b.push(1==a.position.index||4==a.position.index||7==a.position.index?"left":""),b.push(2==a.position.index||5==a.position.index||8==a.position.index?"center":""),b.push(3==a.position.index||6==a.position.index||9==a.position.index?"right":""),b.push(1==a.position.index||2==a.position.index||3==a.position.index?"top":""),b.push(4==a.position.index||5==a.position.index||6==a.position.index?"middle":""),b.push(7==a.position.index||8==a.position.index||9==a.position.index?"bottom":""),b.join(" ")}return""},a.$on("layout-changed",function(b,c){a.$broadcast("layout-button-changed",c)})}return{restrict:"A",controller:["$scope",a]}}).directive("dmCoverLayout",["$compile","widgetIcons","$timeout","$rootScope",function(a,b,c,d){function e(a){return Object.keys(a)}function f(c,d,f){var g=b.getIcon("layout"),h={1:"left top",2:"center top",3:"right top",4:"left middle",5:"center middle",6:"right middle",7:"left bottom",8:"center bottom",9:"right bottom"};c.changePosition=function(a,b){b.preventDefault();var d=$(b.target);d.addClass("active").closest("li").siblings().find("a").removeClass("active"),c.dmCoverPosition.index=a;var e=h[a];c.dmCoverPosition.classes=e,c.$emit("layout-changed",-1!==e.indexOf("center"))},c.layoutChange=function(a){},c.$watch("dmCoverLayout",function(){if(c.dmCoverLayout){var b="";for(pos in h)b+=pos==c.dmCoverPosition.index?'<li><a href="#" ng-click="changePosition('+pos+', $event)" class="active">'+h[pos]+"</a></li>":'<li><a href="#" ng-click="changePosition('+pos+', $event)">'+h[pos]+"</a></li>";c.coverLayout=e(c.dmCoverLayout);var f='<i class="dm-widget-icon">'+g+'</i><div class="dm-widget-drop-down has-arrow"><div class="dm-widget-drop-heading"><span>Change Layout</span></div><div class="dm-widget-drop-body"><ul class="cover-layout-btns" ng-class="{hideCoverLayout: !dmCoverLayout.header.value && !dmCoverLayout.hero.value && !dmCoverLayout.button.value}">'+b+'</ul><div ng-repeat="el in coverLayout track by $index"><input type="checkbox" id="[[ el ]]'+d.closest(".dm-template").attr("component-id")+'" ng-change="layoutChange(dmCoverLayout.colors.value)" ng-checked="dmCoverLayout[el].value" ng-model="dmCoverLayout[el].value" ng-true-value="1" ng-false-value=""><label ng-class="{\'checked\': dmCoverLayout[el].value}" for="[[ el ]]'+d.closest(".dm-template").attr("component-id")+'">[[dmCoverLayout[el].label]]</label></div></div></div>';d.prepend(a(f)(c)),0==c.dmCoverLayout.header.value&&(c.dmCoverLayout.header.value=""),0==c.dmCoverLayout.hero.value&&(c.dmCoverLayout.hero.value=""),0==c.dmCoverLayout.button.value&&(c.dmCoverLayout.button.value=""),0==c.dmCoverLayout.colors.value&&(c.dmCoverLayout.colors.value="")}})}return{scope:{dmCoverPosition:"=",dmCoverLayout:"=",dmCoverLayoutTitle:"=",dmCoverLayoutText:"=",dmCoverLayoutBg:"="},link:f}}])}(),function(){angular.module("dmApp").directive("dmColorpicker",["$timeout","selectable","events",function(a,b,c){function d(a,d,l){var m={$el:$(d).find(".cp-background-main"),$handle:$(d).find(".cp-background-handle"),width:0,height:0,lDown:!1,x:0,y:0,callback:function(b){if(m.lDown){(0===m.width||0===m.height)&&(m.width=m.$el.width(),m.height=m.$el.height()),(0===n.width||0===n.height)&&(n.width=n.$el.width(),n.height=n.$el.height());var c=m.$handle.width()/2,d=b.clientY-m.$el.offset().top+$(window).scrollTop()-c;m.y=k(d,-c,m.height-c);var e=b.clientX-m.$el.offset().left+$(window).scrollLeft()-c;m.x=k(e,-c,m.width-c),m.$handle.css({left:m.x,top:m.y}),m.x=e,m.y=d,a.updateWithControl=!0;var f=k(360-parseInt(n.y*(360/n.height),10),0,360),h=k(Math.floor(e*(100/m.width)),0,100),i=k(100-Math.floor(d*(100/m.height)),0,100);a.hex=g({h:f,s:h,b:i}),m.$el.css("background",g({h:f,s:100,b:100}))}}},n={$el:$(d).find(".cp-background-bar"),$handle:$(d).find(".cp-background-bar-handle"),height:0,lDown:!1,y:0,callback:function(b){if(n.lDown){(0===m.width||0===m.height)&&(m.width=m.$el.width(),m.height=m.$el.height()),(0===n.width||0===n.height)&&(n.width=n.$el.width(),n.height=n.$el.height());var c=n.$handle.width()/2,d=b.clientY-n.$el.offset().top+$(window).scrollTop()-c;n.y=k(d,0,n.height),n.$handle.css({top:n.y/n.height*100+"%"}),a.updateWithControl=!0;var e=k(360-parseInt(d*(360/n.height),10),0,360),f=k(Math.floor(m.x*(100/m.width)),0,100),h=k(100-Math.floor(m.y*(100/m.height)),0,100),i=4===a.hex.length,j=g({h:e,s:f,b:h});i?j[1]===j[2]&&j[3]===j[4]&&j[5]===j[6]&&(a.hex="#"+j[1]+j[3]+j[5]):a.hex=j,m.$el.css("background",g({h:e,s:100,b:100}))}}};a.$watch("hex2",function(b){if(void 0!==b){var c=/^#[0-9A-F]{6}$/i.test(b);c&&(a.hex=b)}}),a.$watch("hex",function(b){if(void 0!==b){var c=/^#[0-9A-F]{0,6}$/i.test(b);if(!c)return void(a.hex=a.validHex);a.validHex=b,m.$handle.css("background",a.hex),"true"===l.isInGradient?a.$emit("gradient-colorpicker-response",b):a.$emit("hexChanged",a.hex),a.hex2=b;var d=h(b);if(a.updateWithControl)a.updateWithControl=!1;else{var e=m.$handle.width()/2;m.x=k(Math.ceil(d.s/(100/m.width)),-e,m.width-e),m.y=k(m.height-Math.ceil(d.b/(100/m.height)),-e,m.height),n.y=k(n.height-d.h/(360/n.height),0,n.height),m.$el.css("background",g({h:d.h,s:100,b:100})),m.$handle.css({left:m.x-e+"px",top:m.y-e+"px"}),n.$handle.css({top:n.y/n.height*100+"%"})}}}),a.$watch("rendered",function(b){if(b&&(0===m.width&&(m.width=m.$el.width(),m.height=m.$el.height(),n.height=n.$el.height()),!a.updateWithControl&&void 0!==a.hex)){var c=h(a.hex);m.$el.css("background",g({h:c.h,s:100,b:100}));var d=m.$handle.width()/2;m.x=k(Math.ceil(c.s/(100/m.width)),-d,m.width),m.y=k(m.height-Math.ceil(c.b/(100/m.height)),-d,m.height),n.y=k(n.height-c.h/(360/n.height),0,n.height),m.$handle.css({left:m.x-d+"px",top:m.y-d+"px"}),n.$handle.css({top:n.y/n.height*100+"%"})}});var o=$(d).closest(".dm-widget-drop-down");0===o.length&&(o=$(d).closest(".dm-widget-panel")),0!==o.length&&(a.$on("openDropDown",function(){a.rendered=!0}),a.$on("closedDropDown",function(){a.rendered=!1})),m.$el.on("mousedown",function(b){b.preventDefault(),b&&1===b.which&&a.rendered&&(m.lDown=!0,m.callback(b))}),n.$el.on("mousedown",function(b){b.preventDefault(),b&&1===b.which&&a.rendered&&(n.lDown=!0,n.callback(b))}),n.$el.on("mouseout",function(c){var d=["cp-background-bar-handle-holder","cp-background-bar-handle","cp-background-bar"];_.include(d,c.relatedTarget.className)||n.lDown&&a.rendered&&b.unselectable("row-resize");
}),m.$el.on("mouseout",function(c){var d=["cp-background-main","cp-background-handle"];_.include(d,c.relatedTarget.className)||m.lDown&&a.rendered&&b.unselectable("crosshair")}),c.addEventListener(a,document,"mousemove",function(b){a.rendered&&b&&1===b.which&&(m.lDown&&m.callback(b),n.lDown&&n.callback(b),a.$apply())}),c.addEventListener(a,document,"mouseup",function(c){a.rendered&&c&&1===c.which&&(m.lDown=!1,n.lDown=!1,b.selectable(),a.$apply())}),$(d).find(".cp-background-hex-input").on("paste drop",function(b){a.updateWithControl=!1,a.$apply()}),a.hsb2rgb=e,a.rgb2hex=f,a.hsb2hex=g,a.hex2hsb=h,a.rgb2hsb=i,a.hex2rgb=j,"true"===l.isInGradient&&a.$on("gradient-colorpicker-request",function(b,c){(0===m.width||0===m.height)&&(m.width=m.$el.width(),m.height=m.$el.height()),(0===n.width||0===n.height)&&(n.width=n.$el.width(),n.height=n.$el.height()),a.updateWithControl=!1,a.hex=c.color;var d=h(a.hex);m.$el.css("background",g({h:d.h,s:100,b:100}))})}function e(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0===d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360===c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}}function f(a){if(!a)return"";var b=[a.r.toString(16),a.g.toString(16),a.b.toString(16)];return $.each(b,function(a,c){1===c.length&&(b[a]="0"+c)}),"#"+b.join("")}function g(a){return f(e(a))}function h(a){var b=i(j(a));return 0===b.s&&(b.h=360),b}function i(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!==d?255*e/d:0,0!==b.s?a.r===d?b.h=(a.g-a.b)/e:a.g===d?b.h=2+(a.b-a.r)/e:b.h=4+(a.r-a.g)/e:b.h=-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b}function j(a){if(!a)return void 0;if(4===a.length&&0===a.indexOf("#")){var b=a[1],c=a[2],d=a[3];a="#"+b+b+c+c+d+d}return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}function k(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}return{restrict:"A",scope:{hex:"=ngModel",hex2:"@",pickerId:"@"},templateUrl:"../templates/ui-widgets/components/dm-colorpicker.directive/layout.html",link:d}}])}(),function(){angular.module("dmApp").directive("dmBgGradient",["selectable","events",function(a,b){function c(c,e,f){function g(){var a="linear-gradient(to right, ",b=angular.copy(c.gradient);b.sort(function(a,b){return a.x-b.x});for(var d=0;d!=b.length;++d){var e=b[d];a+=e.color+" "+e.x+"%,"}return a=a.substr(0,a.length-1)+")"}function h(a,b,e){if(a){for(var f=0;f!=c.gradient.length;++f)c.gradient[f].active=!1;if(a.active=!0,b){if(1===b.which&&c.lDown){for(var g=8,h=b.clientX-j.offset().left+$(window).scrollLeft()-g,i=j.width(),k=100*d(h/i,0,1),l=!0,f=0;f!=c.gradient.length;++f)if(a!==c.gradient[f]&&Math.abs(k-c.gradient[f].x)<g/i*100){l=!1;break}if(!l)return b.stopPropagation(),!1;a.x=k}if(b.preventDefault(),e)return b.stopPropagation(),!1}}}var i=$(e).find(".cp-gradient"),j=$(e).find(".cp-gradient-handle-holder");c.$watch("gradient",function(a){a&&(c.$emit("gradientChanged",c.gradient),i.css("background",g()))},!0),c.sliderDown=function(b){if(b){if(1===b.which&&c.gradient.length<3){var e=8,f=b.clientX-j.offset().left+$(window).scrollLeft()-e,g=j.width(),h=c.gradient.push({x:100*d(f/g,0,1),color:"#000000"});c.handleDown(c.gradient[h-1],b),a.unselectable()}b.preventDefault()}},c.selectedHandle=null,c.handleDown=function(b,d){h(b,d,!0),c.selectedHandle=b,c.lDown=!0,c.$broadcast("gradient-colorpicker-request",b),a.unselectable("pointer")},c.$on("gradient-colorpicker-response",function(a,b){c.selectedHandle&&(c.selectedHandle.color=b)}),c.$on("gradient-request",function(){if(!c.selectedHandle){for(var a=0;a!=c.gradient.length;++a)if(c.gradient[a].active){c.selectedHandle=c.gradient[a];break}c.selectedHandle||(c.selectedHandle=c.gradient[0])}c.$broadcast("gradient-colorpicker-request",c.selectedHandle)}),b.addEventListener(c,e,"mousemove",function(a){c.lDown&&h(c.selectedHandle,a)}),c.$on("openDropDown",function(){c.rendered=!0}),c.$on("closedDropDown",function(){c.rendered=!1}),b.addEventListener(c,e,"mouseup",function(b){b&&1===b.which&&c.lDown&&(c.lDown=!1,a.selectable())}),b.addEventListener(c,e,"keydown",function(a){if(c.rendered&&(8===a.which||46===a.which)&&c.gradient.length>2)for(var b=0;b!=c.gradient.length;++b)if(c.gradient[b].active){c.$apply(function(){c.gradient.splice(b,1),c.gradient[0].active=!0,c.selectedHandle=c.gradient[0],c.$broadcast("gradient-colorpicker-request",c.selectedHandle)}),a.preventDefault();break}})}function d(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}return{restrict:"A",scope:{gradient:"=ngModel"},templateUrl:"../templates/ui-widgets/components/dm-gradient.directive/layout.html",link:c}}])}(),function(){angular.module("dmApp").directive("dmBgOpacity",["selectable","events",function(a,b){function c(c,e,f){function g(a){if(!a)return void 0;if(4===a.length&&0===a.indexOf("#")){var b=a[1],c=a[2],d=a[3];a="#"+b+b+c+c+d+d}return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}c.rendered=!1;var h=$(e).find(".right");c.$watch("dmBgOpacityColor",function(){if(c.dmBgOpacityColor){c.rgb=g(c.dmBgOpacityColor);var a=[c.rgb.r,c.rgb.g,c.rgb.b],b=a[0]>128&&a[1]>128&&a[2]>128;b?setTimeout(function(){h.css({border:"2px solid rgba(0,0,0,.2)"})},0):h.css({border:"none"}),c.opacityStyles=function(){return{background:"rgba("+c.rgb.r+","+c.rgb.g+","+c.rgb.b+",0.40)",backgroundImage:"linear-gradient(to right, rgba(255,255,255,0.00) 9%, rgba("+c.rgb.r+","+c.rgb.g+","+c.rgb.b+",0.27) 43%, "+c.dmBgOpacityColor+" 96%)"}}}}),c.$slider=$(e).find(".cp-opacity-handle-holder"),c.$handle=$(e).find(".cp-opacity-handle"),c.$watch("value",function(a){void 0!==a&&(c.left=100*a+"%",c.$emit("opacityChanged",c.value))}),c.$watch("rendered",function(a){a&&(c.left=100*c.value+"%")});var i=$(e).closest(".dm-widget-drop-down");0!==i.length&&(c.$on("openDropDown",function(){c.rendered=!0}),c.$on("closedDropDown",function(){c.rendered=!1})),c.down=function(b){b&&1===b.which&&(c.lDown=!0,a.unselectable("pointer"),c.move(b))},b.addEventListener(c,e,"mousemove",function(a){c.move(a)}),c.move=function(a){if(a&&1===a.which&&c.lDown){var b=c.$handle.width()/2-1,e=c.$slider.width(),f=a.clientX-c.$slider.offset().left+$(window).scrollLeft()-b;c.value=d(f/e,0,1),a.preventDefault()}},b.addEventListener(c,e,"mouseup",function(b){b&&1===b.which&&(c.lDown=!1,a.selectable())}),c.changeOpacity=function(a){c.value=a}}function d(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}return{restrict:"A",scope:{value:"=ngModel",dmBgOpacityColor:"="},templateUrl:"../templates/ui-widgets/components/dm-opacity.directive/layout.html",link:c}}])}(),function(){angular.module("dmApp").directive("dmTinymce",["$rootScope",function(a){function b(b,c,d,e){function f(){b.editor||(b.editor=tinymce.get(b.editorId))}function g(){b.editor&&b.editor.isInitialized&&b.editor.getDoc()&&(e.$setViewValue(b.editor.getContent().trim()),a.$$phase||b.$digest())}tinymce.init({target:c[0],inline:!0,menubar:!1,toolbar:!1,theme:!1,style_formats_merge:!0,relative_urls:!1,allow_script_urls:!0,convert_urls:!1,plugins:"paste",paste_as_text:!0,setup:function(a){a.on("init",function(a){b.editor=a.target,b.editorId=a.target.id,e.$render(),e.$setPristine(),b.editor.formatter.register("font_family_format",{inline:"span",styles:{"font-family":"%value"},links:!0,remove_similar:!0,clear_child_styles:!0}),b.editor.formatter.register("font_size_format",{inline:"span",styles:{"font-size":"%value"},links:!0,remove_similar:!0,clear_child_styles:!0}),b.editor.formatter.register("font_weight_format",{selector:"span,a",inline:"span",styles:{"font-weight":"%value"},links:!0,remove_similar:!0,clear_child_styles:!0}),b.editor.formatter.register("letter_spacing_format",{selector:"span,a",inline:"span",styles:{"letter-spacing":"%value"},links:!0,remove_similar:!0,clear_child_styles:!0}),b.editor.formatter.register("font_color_format",{selector:"span,a",inline:"span",styles:{color:"%value"}}),b.editor.formatter.register("font_transform_format",{inline:"span",styles:{"text-transform":"%value"},links:!0,remove_similar:!0,clear_child_styles:!0}),b.editor.formatter.register("line_height_format",{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,div",styles:{"line-height":"%value"}}),b.editor.isInitialized=!0}),a.on("change",function(a){g()})}});e.$render=function(){f();var a=e.$viewValue?e.$viewValue:"";b.editor&&b.editor.getDoc()&&(b.editor.setContent(a),b.editor.fire("change"))}}return{require:"?ngModel",link:b}}])}(),function(){angular.module("dmApp").directive("dmWidgetDropDown",["$http","$window","$rootScope","events",function(a,b,c,d){function e(a,b,e){function f(){var a=b.closest(".dm-widget"),c=b.closest(".dm-widget-main"),d=a.outerWidth(),e=c.outerWidth();a.css({"margin-left":0}),d>e&&(a.offset().left-(d-e)/2>20?a.css({"margin-left":-(d-e)/2}):a.css({"margin-left":0}))}function g(a){var b=$(document).height(),c=k.offset().top,d=390;k.hasClass(".dm-footer")||(c+d>b?l.addClass("dropdown-flip"):(void 0==a||d>c)&&l.removeClass("dropdown-flip"))}var h=b,i=b.siblings(".dm-widget-item"),j=b.closest(".dm-widget"),k=b.closest(".dm-template"),l=k.find(".dm-widget-main");a.openDropDown=!1,a.possibleToShowDropDown=!0,b.addClass("dm-widget-drop-down-parent"),d.addEventListener(a,"body","click",function(d){$(d.target).hasClass("message-link")?($(d.target).closest(".dm-grid").length&&($(d.target).closest(".dm-grid").find(".dm-widget-main").addClass("show"),h=$(".dm-grid-layout")),$(d.target).closest(".dm-cover").length&&($(d.target).closest(".dm-cover").find(".dm-widget-main").addClass("show"),h=$(".dm-cover-layout")),$("html, body").animate({scrollTop:$(d.target).closest(".dm-template").offset().top-132},100),a.$apply(function(){a.openDropDown=!a.openDropDown})):(!$(d.target).closest(".dm-widget").length&&b.hasClass("active")&&(b.find(".dm-widget-drop-down").removeClass("show-drop-down"),b.removeClass("active"),c.$emit("closeAllDropDowns")),h=b)}),a.$on("reorder-block",g),b.on("click",".dm-widget-icon",function(){g(),a.openDropDown||c.$emit("closeAllDropDowns"),a.possibleToShowDropDown&&(e.dmWidgetDropDown&&(i.addClass("hide"),j.addClass("dm-widget-replace-parent"),b.addClass("dm-widget-replace")),a.$apply(function(){a.openDropDown=!a.openDropDown}))}),a.$watch("openDropDown",function(c){var d=h.find(".dm-widget-drop-down");c?(d.addClass("show-drop-down"),e.dmWidgetDropDown||d.css({marginLeft:-h.find(".dm-widget-drop-down").outerWidth()/2}),h.addClass("active"),a.$broadcast("openDropDown",e.dmWidgetDropDown)):(h.removeClass("active"),d.removeClass("show-drop-down"),e.dmWidgetDropDown&&(h.find(".dm-widget-replace-panel").removeClass("show-drop-down"),l.removeClass("dropdown-flip"),i.removeClass("hide"),j.removeClass("dm-widget-replace-parent"),b.removeClass("dm-widget-replace")),a.$broadcast("closedDropDown",e.dmWidgetDropDown))}),a.$on("preventOpenDropDown",function(){a.possibleToShowDropDown=!1}),a.$on("allowOpenDropDown",function(){a.possibleToShowDropDown=!0}),a.$on("closeDropDown",function(){a.openDropDown=!1,f()}),c.$onWithAutoDeregister(a,"closeAllDropDowns",function(){a.openDropDown=!1}),d.addEventListener(a,b,"keyup",function(b){27===b.keyCode&&e.dmWidgetDropDown&&a.$apply(function(){a.$broadcast("closedDropDown",e.dmWidgetDropDown)})})}return{link:e,scope:!0,restirct:"A"}}])}(),function(){angular.module("dmApp").directive("dmFeature",function(){function a(a){a.getClassString=function(a){if(a){var b=[];return b.push(a.size&&"1"==a.size.index?"small":"large"),b.push(a.position.index<3?"vertical":"horizontal"),b.push("top-padding-"+a.paddings.top),b.push("bottom-padding-"+a.paddings.bottom),b.join(" ")}return""},a.$on("layout-changed",function(b,c){a.$broadcast("layout-button-changed",c)})}return{restrict:"A",controller:["$scope",a]}})}(),function(){angular.module("dmApp").directive("dmFeatureItem",["events",function(a){function b(b,c,d){var e=c.find(".dm-widget");b.$watch("dmFeatureItem",function(a,b){"video"==a&&e.addClass("video"),"image"==a&&e.removeClass("video")}),c.on("click",function(a){$(a.target).closest(".dm-widget").length||e.toggleClass("show")}),a.addEventListener(b,"body","click",function(a){$(a.target).closest(c).length||e.removeClass("show")}),a.addEventListener(b,window,"resize",function(){e.removeClass("show")})}return{scope:{dmFeatureItem:"="},link:b}}])}(),function(){angular.module("dmApp").directive("dmFeatureImageSize",["$compile","widgetIcons",function(a,b){function c(c,d,e){var f={1:"small",2:"large"};c.changeSize=function(a,d){var e=$(d.target).closest("a"),g=e.parent("li").index();e.addClass("active").closest("li").siblings().find("a").removeClass("active"),$($(".feature-sizes-list").find("li")[g]).siblings().find("a").removeClass("active"),$($(".feature-sizes-list").find("li")[g]).find("a").addClass("active"),c.dmFeatureImageSize.index=a,c.dmFeatureImageSize["class"]=f[a],c.sizeVisible=!1,c.sizeIcon="feature-"+f[a],e.closest(".dm-template").find(".dm-change-size").html(b.getIcon(c.sizeIcon)),e.closest(".dm-template").find(".dm-change-size-alt").html(b.getIcon(c.sizeIcon+"-alt"))},c.$watch("dmFeatureImageSize",function(){if(c.dmFeatureImageSize){var e="feature-"+c.dmFeatureImageSize["class"]+"-alt",g="";for(size in f)g+=size==c.dmFeatureImageSize.index?'<li><a href="#" ng-click="changeSize('+size+', $event)" class="active">'+b.getIcon("feature-"+f[size]+"-alt")+"</a></li>":'<li><a href="#" ng-click="changeSize('+size+', $event)">'+b.getIcon("feature-"+f[size]+"-alt")+"</a></li>";var h='<i class="dm-widget-icon dm-change-size-alt">'+b.getIcon(e)+'</i><div class="dm-widget-drop-down"><ul class="feature-sizes-list-alt">'+g+"</ul></div>";d.prepend(a(h)(c))}})}return{scope:{dmFeatureImageSize:"="},link:c}}])}(),function(){angular.module("dmApp").directive("dmFeatureNgLayout",["$compile","widgetIcons","events",function(a,b,c){function d(a){return Object.keys(a)}function e(e,f,g){var h=b.getIcon("layout"),i={1:"top",2:"bottom",3:"left",4:"right"},j={1:"small",2:"large"};e.changePosition=function(a,c){e.$emit("layout-changed",3>a);var d=$(c.target).closest("a");d.addClass("active").closest("li").siblings().find("a").removeClass("active"),e.dmFeaturePosition.index=a,e.dmFeaturePosition["class"]=i[a],e.positionVisible=!1,positionIcon="feature-"+i[a],d.closest(".dm-widget-link-icon-holder").find(".dm-widget-link-icon").html(b.getIcon(positionIcon))},e.changeSize=function(a,c){e.$emit("layout-changed",!0);var d=$(c.target).closest("a"),f=d.parent("li").index();d.addClass("active").closest("li").siblings().find("a").removeClass("active"),$($(".feature-sizes-list-alt").find("li")[f]).siblings().find("a").removeClass("active"),$($(".feature-sizes-list-alt").find("li")[f]).find("a").addClass("active"),e.dmFeatureSize.index=a,e.dmFeatureSize["class"]=j[a],e.sizeVisible=!1,sizeIcon="feature-"+j[a],d.closest(".dm-template").find(".dm-change-size").html(b.getIcon(sizeIcon)),d.closest(".dm-template").find(".dm-change-size-alt").html(b.getIcon(sizeIcon+"-alt"))},c.addEventListener(e,f,"click",function(a){$(a.target).closest(".layout-settings-item").length||$(".layout-settings-item").find(".message").remove(),$(a.target).closest(".dm-widget-link-item").hasClass("dm-widget-feature-position")||(e.positionVisible=!1),$(a.target).closest(".dm-widget-link-item").hasClass("dm-widget-feature-size")||(e.sizeVisible=!1)}),e.$watch("dmFeatureNgLayout",function(){if(e.dmFeatureNgLayout){var c="";for(pos in i)c+=pos==e.dmFeaturePosition.index?'<li><a href="#" ng-click="changePosition('+pos+', $event)" class="active">'+b.getIcon("feature-"+i[pos])+"</a></li>":'<li><a href="#" ng-click="changePosition('+pos+', $event)">'+b.getIcon("feature-"+i[pos])+"</a></li>";var g="";for(size in j)g+=size==e.dmFeatureSize.index?'<li><a href="#" ng-click="changeSize('+size+', $event)" class="active">'+b.getIcon("feature-"+j[size])+"</a></li>":'<li><a href="#" ng-click="changeSize('+size+', $event)">'+b.getIcon("feature-"+j[size])+"</a></li>";e.featureNgLayout=d(e.dmFeatureNgLayout);var k="feature-"+e.dmFeatureSize["class"],l="feature-"+e.dmFeaturePosition["class"],m='<i class="dm-widget-icon">'+h+'</i><div class="dm-widget-drop-down has-arrow"><div class="dm-widget-drop-body"><div class="dm-widget-link-item dm-widget-feature-size" ng-class="{active: sizeVisible, hideFeatureSize: !dmFeatureSize || dmFeaturePosition.index == \'3\' || dmFeaturePosition.index == \'4\'}" ng-click="sizeClick()"><div class="dm-widget-link-icon-holder"><span class="dm-widget-link-icon-label">[[ dmFeatureLayoutType ]] Size</span><i class="dm-widget-link-icon dm-change-size">'+b.getIcon(k)+'</i><ul class="feature-layout-btns feature-sizes-list">'+g+'</ul></div></div><div class="dm-widget-link-item dm-widget-feature-position" ng-class="{active: positionVisible}" ng-click="positionClick()"><div class="dm-widget-link-icon-holder"><span class="dm-widget-link-icon-label">[[ dmFeatureLayoutType ]] Position</span><i class="dm-widget-link-icon">'+b.getIcon(l)+'</i><ul class="feature-layout-btns">'+c+'</ul></div></div><div class="layout-settings-item" ng-repeat="el in featureNgLayout track by $index"><input type="checkbox" id="[[ el ]]'+f.closest(".dm-template").attr("component-id")+'" ng-checked="dmFeatureNgLayout[el].value" ng-model="dmFeatureNgLayout[el].value" ng-true-value="1" ng-false-value=""><label ng-class="{\'checked\': dmFeatureNgLayout[el].value}" for="[[ el ]]'+f.closest(".dm-template").attr("component-id")+'">[[dmFeatureNgLayout[el].label]]</label></div></div></div>';f.prepend(a(m)(e)),e.positionVisible=!1,e.sizeVisible=!1,e.sizeClick=function(){e.sizeVisible=!e.sizeVisible,e.positionVisible=!1},e.positionClick=function(){e.positionVisible=!e.positionVisible,e.sizeVisible=!1},0==e.dmFeatureNgLayout.text.value&&(e.dmFeatureNgLayout.text.value="")}})}return{scope:{dmFeatureNgLayout:"=",dmFeatureSize:"=",dmFeaturePosition:"=",dmFeatureLayoutType:"="},link:e}}])}(),function(){angular.module("dmApp").directive("dmFeatureLayout",["$compile","widgetIcons","events",function(a,b,c){function d(a){return Object.keys(a)}function e(e,f,g){var h=b.getIcon("layout"),i={1:"top",2:"bottom",3:"left",4:"right"},j={1:"small",2:"large"};e.changePosition=function(a,c){e.$emit("layout-changed",3>a);var d=$(c.target).closest("a");d.addClass("active").closest("li").siblings().find("a").removeClass("active"),e.dmFeaturePosition.index=a,e.dmFeaturePosition["class"]=i[a],e.positionVisible=!1,positionIcon="feature-"+i[a],d.closest(".dm-widget-link-icon-holder").find(".dm-widget-link-icon").html(b.getIcon(positionIcon))},e.changeSize=function(a,c){e.$emit("layout-changed",!0);var d=$(c.target).closest("a"),f=d.parent("li").index();d.addClass("active").closest("li").siblings().find("a").removeClass("active"),$($(".feature-sizes-list-alt").find("li")[f]).siblings().find("a").removeClass("active"),$($(".feature-sizes-list-alt").find("li")[f]).find("a").addClass("active"),e.dmFeatureSize.index=a,e.dmFeatureSize["class"]=j[a],e.sizeVisible=!1,sizeIcon="feature-"+j[a],d.closest(".dm-template").find(".dm-change-size").html(b.getIcon(sizeIcon)),d.closest(".dm-template").find(".dm-change-size-alt").html(b.getIcon(sizeIcon+"-alt"))},c.addEventListener(e,f,"click",function(a){$(a.target).closest(".layout-settings-item").length||$(".layout-settings-item").find(".message").remove(),$(a.target).closest(".dm-widget-link-item").hasClass("dm-widget-feature-position")||(e.positionVisible=!1),$(a.target).closest(".dm-widget-link-item").hasClass("dm-widget-feature-size")||(e.sizeVisible=!1)}),e.$watch("dmFeatureLayout",function(){if(e.dmFeatureLayout){var c="";for(pos in i)c+=pos==e.dmFeaturePosition.index?'<li><a href="#" ng-click="changePosition('+pos+', $event)" class="active">'+b.getIcon("feature-"+i[pos])+"</a></li>":'<li><a href="#" ng-click="changePosition('+pos+', $event)">'+b.getIcon("feature-"+i[pos])+"</a></li>";var g="";for(size in j)g+=size==e.dmFeatureSize.index?'<li><a href="#" ng-click="changeSize('+size+', $event)" class="active">'+b.getIcon("feature-"+j[size])+"</a></li>":'<li><a href="#" ng-click="changeSize('+size+', $event)">'+b.getIcon("feature-"+j[size])+"</a></li>";e.featureLayout=d(e.dmFeatureLayout);var k="feature-"+e.dmFeatureSize["class"],l="feature-"+e.dmFeaturePosition["class"],m='<i class="dm-widget-icon">'+h+'</i><div class="dm-widget-drop-down has-arrow"><div class="dm-widget-drop-body"><div class="dm-widget-link-item dm-widget-feature-size" ng-class="{active: sizeVisible, hideFeatureSize: dmFeaturePosition.index == \'3\' || dmFeaturePosition.index == \'4\'}" ng-click="sizeClick()"><div class="dm-widget-link-icon-holder"><span class="dm-widget-link-icon-label">[[ dmFeatureLayoutType ]] Size</span><i class="dm-widget-link-icon dm-change-size">'+b.getIcon(k)+'</i><ul class="feature-layout-btns feature-sizes-list">'+g+'</ul></div></div><div class="dm-widget-link-item dm-widget-feature-position" ng-class="{active: positionVisible}" ng-click="positionClick()"><div class="dm-widget-link-icon-holder"><span class="dm-widget-link-icon-label">[[ dmFeatureLayoutType ]] Position</span><i class="dm-widget-link-icon">'+b.getIcon(l)+'</i><ul class="feature-layout-btns">'+c+'</ul></div></div><div class="layout-settings-item" ng-repeat="el in featureLayout track by $index"><input type="checkbox" id="[[ el ]]'+f.closest(".dm-template").attr("component-id")+'" ng-checked="dmFeatureLayout[el].value" ng-model="dmFeatureLayout[el].value" ng-true-value="1" ng-false-value=""><label ng-class="{\'checked\': dmFeatureLayout[el].value}" for="[[ el ]]'+f.closest(".dm-template").attr("component-id")+'">[[dmFeatureLayout[el].label]]</label></div></div></div>';f.prepend(a(m)(e)),e.positionVisible=!1,e.sizeVisible=!1,e.sizeClick=function(){e.sizeVisible=!e.sizeVisible,e.positionVisible=!1},e.positionClick=function(){e.positionVisible=!e.positionVisible,e.sizeVisible=!1},0==e.dmFeatureLayout.header.value&&(e.dmFeatureLayout.header.value=""),0==e.dmFeatureLayout.hero.value&&(e.dmFeatureLayout.hero.value="")}})}return{scope:{dmFeatureLayout:"=",dmFeatureSize:"=",dmFeaturePosition:"=",dmFeatureLayoutType:"="},link:e}}])}(),function(){angular.module("dmApp").directive("dmFooterSettings",["$timeout",function(a){function b(b,c,d){function e(){f.removeClass("show-menu-layout"),f.removeClass("blue"),b.showReplacedDropDown=!1,b.$emit("closeDropDown")}var f=c.closest(".dm-widget"),g=c.closest(".dm-template"),h=c.find(".dm-widget-replace-panel");b.showReplacedDropDown=!1,b.showSelectivizr=!1,b.changeSelectivizr=function(a,c){b.dmFooterAlign=a,c.stopPropagation()},h.on("click",function(a){$(a.target).closest(".dm-widget-selectivizr-button").length||b.$apply(function(){b.showSelectivizr=!1})}),b.$on("openDropDown",function(){f.addClass("show-menu-layout blue"),b.showReplacedDropDown=!0,b.showSelectivizr=!1}),b.$on("closedDropDown",function(){e()}),b.$watch("dmFooterTextVisibility",function(a){a&&(b.dmFooterBrandVisibility=!1,b.dmFooterLinksVisibility=!1)}),b.$watch("dmFooterLinksVisibility",function(c){c&&(b.dmFooterBrandVisibility=!1,b.dmFooterTextVisibility=!1,a(function(){$(".items",g).on("click","a",function(a){b.$apply(function(){a.preventDefault()})})},!1))}),b.$watch("dmFooterBrandVisibility",function(a){a&&(b.dmFooterLinksVisibility=!1,b.dmFooterTextVisibility=!1)})}return{scope:{dmFooterAlign:"=",dmFooterTextVisibility:"=",dmFooterBrandVisibility:"=",dmFooterLinksVisibility:"=",dmFooterExternalNav:"@"},link:b,restirct:"A",templateUrl:"../templates/ui-widgets/components/footer.directive/footer.html"}}])}(),function(){angular.module("dmApp").directive("dmFooter",function(){function a(a){a.getClassString=function(a){if(a&&a.paddings){var b=[];return b.push("top-padding-"+a.paddings.top),b.push("bottom-padding-"+a.paddings.bottom),b.push(a.brand.show?"logo":""),b.join(" ")}return""}}return{restrict:"A",controller:["$scope",a]}})}(),function(){angular.module("dmApp").directive("dmGradientAngle",["selectable","events",function(a,b){function c(c,d,e){var f=function(a){var b,e=$(d),f=e.width(),g=e.height(),h=f/2,i=g/2,j=a.clientY-e.offset().top+$(window).scrollTop()-i,k=a.clientX-e.offset().left+$(window).scrollLeft()-h;b=k>0?Math.atan(j/k):0>k&&j>=0?Math.atan(j/k)+Math.PI:0>k&&0>j?Math.atan(j/k)-Math.PI:0===k&&j>0?Math.PI/2:0===k&&0>j?-Math.PI/2:0,c.angle=180*b/Math.PI+135};$(d).on("mousedown",function(b){c.$apply(function(){c.lDown=!0,a.unselectable("pointer");var b=Math.floor(c.angle/45),d=45*(b+1);180>=d?c.angle=d:c.angle=-(360-d)})}),b.addEventListener(c,d,"mousemove",function(a){a&&1===a.which&&c.lDown&&c.$apply(function(){f(a)})}),c.$watch("angle",function(a){c.$emit("angle-changed",a)}),b.addEventListener(c,d,"mouseup",function(){c.lDown&&c.$apply(function(){c.lDown=!1,a.selectable()})})}return{restrict:"A",link:c,scope:{angle:"=ngModel"}}}])}(),function(){angular.module("dmApp").directive("dmGridAdd",["$rootScope","events",function(a,b){function c(c,g,h){b.addEventListener(c,g,"click",function(a){$(a.target).closest("a").hasClass("addCols")||$(a.target).hasClass("dm-save")||$(a.target).closest(".duplicateCols").length||e(g.closest(".dm-grid").find(".message"))}),c.$watch("dmGridAdd",function(){c.dmGridAdd&&setTimeout(function(){f()},250)}),c.addColumn=function(){g.closest(".dm-template").find("ul li .dm-widget").removeClass("show"),c.valItem=g.closest(".dm-template").find(".addCols-holder").prev(),a.$emit("closeAllDropDowns");var b={link:{content:"",url:"","content-style":angular.copy(c.$parent.settings.link["content-style"]),classes:angular.copy(c.$parent.settings.link.classes),placeholder:"Enter link text here...",bottom:!1},media:{show:"image",bg_image:{src:{small:"",base:""}},video:{id:"",autoplay:!1,controls:!1}},sub_title:{content:[{tagName:"p",html:"<br/>",style:angular.copy(c.$parent.settings.subTitle.style),classes:angular.copy(c.$parent.settings.subTitle.classes)}],placeholder:"Enter title here"},text:{content:c.$parent.settings.text?[{tagName:"p",html:"<br/>",style:angular.copy(c.$parent.settings.text.style),classes:angular.copy(c.$parent.settings.text.classes)}]:"Right here you can describe this block<br />",placeholder:"Right here you can describe this block"},isDuplicate:!0,isAdded:!0};b.sub_title.content[0].classes.push("js-placeholder"),void 0!==b.text.content&&void 0!==b.text.content[0]&&void 0!==b.text.content[0].classes&&b.text.content[0].classes.push("js-placeholder");var e=c.dmGridAdd.length?d(g):!0;e&&(c.dmGridAdd.push(b),setTimeout(function(){b.isDuplicate=!1;var a=g.closest(".dm-template").find(".addCols-holder").prev();a.addClass("noTransition").css({opacity:0}),setTimeout(function(){a.addClass("noTransition").animate({opacity:1}),a.find("[contenteditable]:visible").first().focus()},500),setTimeout(function(){a.removeClass("noTransition")},1e3)},0),c.valItem=g.closest(".dm-template").find(".addCols-holder").prev())}}function d(a){var b=a.closest(".dm-grid").find("li"),c=!1,d=!1,e="newMessage",f='<div class="message"></div>',g={};g.img="<p>Finish this item before creating a new one.</p>",g.other='<p>Finish this item before creating a new one.</br>You can hide this field in <a href="#" class="message-link">layout settings</a>.</p>';for(var h=0;h<b.length-1;++h)if(!c){var i=$(b[h]).find(".image"),j=i.next(".message");j&&j.remove(),i.hasClass("placeholderImg")?(c=!0,i.after(f),setTimeout(function(){i.next(".message").addClass(e).html(g.img).css("text-align","center")},0),d=!1):(c=!1,d=!0),!d&&$(b[h]).closest(".grid").hasClass("seamless")&&$(".message").closest("li").addClass("hover")}return d}function e(a){a.removeClass("newMessage"),setTimeout(function(){a.remove()},250)}function f(){$(".grid").find("ul > li:first-child").find(".image").length?$(".grid").find(".addCols-holder").find(".image").each(function(){$(this).height($(this).closest(".grid").find("li.dm-grid-item-holder").first().find(".droppable-media-holder").outerHeight())}):$(".grid").find(".addCols-holder").find(".image").each(function(){for(var a=$(this),b=0,c=0,d=a.closest(".grid").find("li.dm-grid-item-holder"),e=0;e!=d.length;++e)b=$(d[e]).height(),b>c&&(c=b);a.height(c)})}return{templateUrl:"../templates/ui-widgets/components/grid/addItem.html",scope:{dmGridAdd:"="},link:c}}])}(),function(){angular.module("dmApp").directive("dmGridColumns",["$timeout",function(a){function b(a,b,d){function e(c){"add"==c?setTimeout(function(){b.closest(".dm-widget-main").find(".addCols").trigger("click"),$(".message").remove()},500):"remove"==c&&(a.dmGridColumnsContainer.splice(a.dmGridColumnsContainer.length-1,1),a.$digest())}function f(a){if(a){var c=b.closest(".dm-template").find(".grid-list");c.addClass("fadein")}}a.$watch("dmGridColumnsContainer",function(a,b){a&&setTimeout(function(){$(".grid.seamless").each(function(a,b){var c=$(this),d=c.find("li.dm-grid-item-holder"),e=0;d.each(function(a,b){$(b).height("auto");var c=$(b).height();c>e&&(e=c),$(b).height(e)})})},0)},!0),a.$watch("dmGridColumns",function(d,g){if(d){f(d),b.find(".ui-slider-handle").css({marginLeft:-14*(d-2)+"px"});var h=a.dmGridColumnsContainer[a.dmGridColumnsContainer.length-1];2==a.dmGridColumns?3==a.dmGridColumnsContainer.length&&!h.media.bg_image.src.base&&"image"==h.media.show&&a.dmGridColumnsLayout.image.value&&e("remove"):3==a.dmGridColumns?(a.dmGridColumnsContainer.length<3&&e("add"),4==a.dmGridColumnsContainer.length&&!h.media.bg_image.src.base&&"image"==h.media.show&&a.dmGridColumnsLayout.image.value&&e("remove")):4==a.dmGridColumns&&(a.dmGridColumnsContainer.length<4&&e("add"),5==a.dmGridColumnsContainer.length&&!h.media.bg_image.src.base&&"image"==h.media.show&&a.dmGridColumnsLayout.image.value&&e("remove")),a.dmGridColumns&&setTimeout(function(){b.closest(".dm-template").find(".grid li.dm-grid-item-holder").height("auto")},300),setTimeout(function(){c()},250)}})}function c(){$(".grid").find("ul > li:first-child").find(".image").length?$(".grid").find(".addCols-holder").find(".image").each(function(){$(this).height($(this).closest(".grid").find("li.dm-grid-item-holder").first().find(".droppable-media-holder").outerHeight())}):$(".grid").find(".addCols-holder").find(".image").each(function(){for(var a=$(this),b=0,c=0,d=a.closest(".grid").find("li.dm-grid-item-holder"),e=0;e!=d.length;++e)b=$(d[e]).height(),b>c&&(c=b);a.height(c)})}return{templateUrl:"../templates/ui-widgets/components/grid/columns.html",scope:{dmGridColumns:"=",dmGridColumnsContainer:"=",dmGridColumnsLayout:"="},link:b}}])}(),function(){angular.module("dmApp").directive("dmGridDuplicate",["$compile","widgetIcons","$timeout","$rootScope",function(a,b,c,d){function e(a,b,e){var f={},g=!1;f.img="<p>Finish this item before duplicating it.</p>",f.other='<p>Finish this item before duplicating it.</br>You can hide this field in <a href="#" class="message-link">layout settings</a>.</p>',a.duplicateColumn=function(e){if(d.$emit("closeAllDropDowns"),h(),g){var f,i=angular.copy(e),j=$(".topMenu").outerHeight()+$("#wpadminbar").outerHeight();if(i.isDuplicate=!0,b.closest(".dm-template").find(".dm-grid-item-holder").last().find(".placeholderImg").is(":visible")){var k=parseInt(a.dmGridDuplicateColumns),l=b.closest(".dm-grid").find("li").length-1;a.dmGridDuplicateContainer.splice(-1,0,i),c(function(){f=$(b).closest(".dm-grid").find(".dm-grid-item-holder").last().prev(),i.isDuplicate=!1,f.closest("li").addClass("noTransition").hide().fadeIn(1e3),setTimeout(function(){f.removeClass("noTransition")},1e3);var a=$(b).closest(".dm-grid").find(".dm-grid-item-holder").last().offset().top;l%k==0?$("html, body").animate({scrollTop:a-j},500):(a=$(b).closest(".dm-grid").find(".dm-grid-item-holder").last().prev().prev().offset().top,$("html, body").animate({scrollTop:a-j},500))})}else a.dmGridDuplicateContainer.push(i),setTimeout(function(){f=$(b).closest(".dm-grid").find(".dm-grid-item-holder").last(),i.isDuplicate=!1,f.closest("li").addClass("noTransition").hide().fadeIn(1e3);var a=$(b).closest(".dm-grid").find(".dm-grid-item-holder").last().offset().top;
setTimeout(function(){f.removeClass("noTransition")},1e3),$("html, body").animate({scrollTop:a-j},500)},0)}$(b).closest(".dm-grid").click()};var h=function(){for(var a=b.closest(".dm-grid").find("li"),c=!1,d="newMessage",e='<div class="message"></div>',h=0;h<a.length-1;h++)if(!c){var i=$(a[h]).find(".image"),j=i.next(".message");j&&j.remove(),i.hasClass("placeholderImg")?(c=!0,i.after(e),setTimeout(function(){i.next(".message").addClass(d).html(f.img).css("text-align","center")},0),g=!1):(c=!1,g=!0),!g&&$(a[h]).closest(".grid").hasClass("seamless")&&$(".message").closest("li").addClass("hover")}}}return{templateUrl:"../templates/ui-widgets/components/grid/duplicateItem.html",scope:{dmGridDuplicate:"=",dmGridDuplicateContainer:"=",dmGridDuplicateLayout:"=",dmGridDuplicateColumns:"="},link:e}}])}(),function(){angular.module("dmApp").directive("dmGridList",["events",function(a){function b(b,d,e){if(!d.closest(".custom-block").length){var f=b.$watch("data",function(a){void 0!==a&&void 0!==b.data&&void 0!==b.data.grid&&(b.settings={subTitle:{style:b.data.grid[0].sub_title.content[0].style,classes:b.data.grid[0].sub_title.content[0].classes},text:angular.isArray(b.data.grid[0].text.content)?{style:b.data.grid[0].text.content[0].style,classes:b.data.grid[0].text.content[0].classes}:!1,link:{"content-style":b.data.grid[0].link["content-style"],classes:b.data.grid[0].link.classes}},f())},!0);b.$watch("settings",function(a,c){if(void 0!==a){var d=void 0===c,e=!1;if(d||(d|=JSON.stringify(a.subTitle.style)!==JSON.stringify(c.subTitle.style)),d||(d|=JSON.stringify(a.text.style)!==JSON.stringify(c.text.style)),d||(d|=JSON.stringify(a.link["content-style"])!==JSON.stringify(c.link["content-style"])),!d){for(var f=0;f!=a.subTitle.classes.length;++f)-1===c.subTitle.classes.indexOf(a.subTitle.classes[f])&&(e=!0);d|=e}if(!d){if(angular.isArray(a.text.classes))for(f=0;f!=a.text.classes.length;++f)-1===c.text.classes.indexOf(a.text.classes[f])&&(e=!0);d|=e}if(!d){for(f=0;f!=a.link.classes.length;++f)-1===c.link.classes.indexOf(a.link.classes[f])&&(e=!0);d|=e}if(d){for(var g=0;g!=b.data.grid.length;++g)b.data.grid[g].sub_title.content[0].style=angular.copy(b.settings.subTitle.style),angular.isArray(b.data.grid[g].text.content)&&(b.data.grid[g].text.content[0].style=angular.copy(b.settings.text.style)),b.data.grid[g].link["content-style"]=angular.copy(b.settings.link["content-style"]),b.data.grid[g].sub_title.content[0].classes=angular.copy(b.settings.subTitle.classes),angular.isArray(b.data.grid[g].text.content)&&(b.data.grid[g].text.content[0].classes=angular.copy(b.settings.text.classes)),b.data.grid[g].link.classes=angular.copy(b.settings.link.classes);b.$broadcast("editors-update")}}},!0)}a.addEventListener(b,window,"resize",function(){c(),setTimeout(function(){c()},300)}),a.addEventListener(b,d,"mousedown click mouseup keyup",function(){c(),setTimeout(function(){c()},250)})}function c(){$(".grid").find("ul > li:first-child").find(".image").length?$(".grid").find(".addCols-holder").find(".image").each(function(){$(this).css({height:$(this).closest(".grid").find("li").first().find(".droppable-media-holder").outerHeight()})}):$(".grid").find(".addCols-holder").find(".image").each(function(){for(var a=$(this),b=0,c=0,d=a.closest(".grid").find("li.dm-grid-item-holder"),e=0;e!=d.length;++e)b=$(d[e]).height(),b>c&&(c=b);a.height(c)})}return{link:b}}])}(),function(){angular.module("dmApp").directive("dmGrid",function(){function a(a){a.getClassString=function(a){if(a&&a.seamless){var b=[];return b.push(a.seamless.value?"seamless":""),b.push("column-"+a.columns.count),b.push("image-"+a.imgHeight),b.push("top-padding-"+a.paddings.top),b.push("bottom-padding-"+a.paddings.bottom),b.join(" ")}return""}}return{restrict:"A",controller:["$scope",a]}})}(),function(){angular.module("dmApp").directive("dmGridItem",["events",function(a){function b(b,c,d){b.changeHovered=function(a){var b=$(a.target);c.closest(".grid").hasClass("seamless")&&(b.closest("[contenteditable]").length||b.closest(".dm-widget").length||(c.toggleClass("hover"),c.siblings().removeClass("hover"))),b.closest(".dm-grid-item-holder").length||b.closest(".addCols").length||b.closest(".dm-text-editing-holder").length||!$(".grid .dm-widget").hasClass("show")||($(".grid").find(".dm-widget").removeClass("show"),$(".grid").find("li").removeClass("hover"),$(".grid").find(".dm-grid-item").removeClass("hover")),c.find(".dm-widget").addClass("show"),c.siblings().find(".dm-widget").removeClass("show"),c.closest(".dm-template").siblings(".dm-grid").find(".dm-widget").removeClass("show"),$(".grid-item-selected").removeClass("grid-item-selected"),c.addClass("grid-item-selected")},a.addEventListener(b,"body","mousedown",function(a){var b=$(a.target);b.closest(".dm-grid-item-holder").length||b.closest(".addCols").length||b.closest(".dm-text-editing-holder").length||!$(".grid").find(".dm-widget").hasClass("show")||($(".grid").find(".dm-widget").removeClass("show"),$(".grid").find("li").removeClass("hover"),$(".grid").find(".dm-grid-item").removeClass("hover"))}),b.$watch("grid_item",function(a,c){if(void 0!==a){var d=(a.sub_title.placeholder,a.text.placeholder,a.link.placeholder,!1),e=!1,f=!1;if((void 0===a.sub_title.content[0].html||0===a.sub_title.content[0].html.indexOf("<br"))&&(d=!0),angular.isArray(a.text.content)&&void 0!==a.text.content[0].html&&0!==a.text.content[0].html.indexOf("<br")||(e=!0),a.link.content&&a.link.bottom&&0===a.link.content.indexOf("<br")&&(f=!0),d&&e&&f?a.isAdded||(a.isAdded=!0):a.isAdded&&(a.isAdded=!1),!a.isAdded){b.settings.subTitle.style=b.grid_item.sub_title.content[0].style,angular.isArray(a.text.content)&&(b.settings.text.style=b.grid_item.text.content[0].style),b.settings.link["content-style"]=b.grid_item.link["content-style"];var g=angular.copy(b.grid_item.sub_title.content[0].classes),h=g.indexOf("js-placeholder");if(h>-1&&g.splice(h,1),b.settings.subTitle.classes=g,angular.isArray(a.text.content)&&void 0!==b.grid_item.text.content[0]&&void 0!==b.grid_item.text.content[0].classes){var i=angular.copy(b.grid_item.text.content[0].classes),j=i.indexOf("js-placeholder");j>-1&&i.splice(j,1),b.settings.text.classes=i}var k=angular.copy(b.grid_item.link.classes),l=k.indexOf("js-placeholder");l>-1&&k.splice(l,1),b.settings.link.classes=k}}},!0),a.addEventListener(b,window,"resize",function(){$(".grid").find(".dm-widget").removeClass("show"),$(".grid").find("li").removeClass("grid-item-selected"),$(".grid").find(".dm-grid-item").removeClass("hover")})}return{link:b}}])}(),function(){angular.module("dmApp").directive("dmGridLayout",["$compile","widgetIcons","events",function(a,b,c){function d(a){return Object.keys(a)}function e(a,b,e){function f(){a.dmGridLayout&&a.dmGridLayout.image.value?$(".grid").find(".addCols-holder").find(".image").each(function(){$(this).height($(this).closest(".grid").find("li.dm-grid-item-holder").first().find(".droppable-media-holder").outerHeight())}):$(".grid").find(".addCols-holder").find(".image").each(function(){for(var a=$(this),b=0,c=0,d=a.closest(".grid").find("li.dm-grid-item-holder"),e=0;e!=d.length;++e)b=$(d[e]).height(),b>c&&(c=b);a.height(c)})}a.componentId=b.closest(".dm-template").attr("component-id"),c.addEventListener(a,b,"click",function(b){$(b.target).closest(".dm-grid-layout").length||(a.showEls=!1,a.showHeight=!1)}),a.$watch("dmGridImgHeight",function(){setTimeout(function(){f()},250)}),a.layoutChanged=function(){a.dmGridSeamless.value?a.dmGridLayout.image.value=!0:b.closest(".dm-template").find("li.dm-grid-item-holder").height("auto")},a.elsChanged=function(){(!a.dmGridLayout.title.value&&!a.dmGridLayout.description.value&&!a.dmGridLayout.image.value||a.dmGridSeamless.value)&&(a.dmGridLayout.image.value=!0),setTimeout(function(){f()},250)},a.$watch("dmGridLayout",function(){a.dmGridLayout&&(a.layout=d(a.dmGridLayout),a.showEls=!1,a.showHeight=!1,0==a.dmGridSeamless.value&&(a.dmGridSeamless.value=""),f())})}return{scope:{dmGridLayout:"=",dmGridSeamless:"=",dmGridImgHeight:"="},templateUrl:"../templates/ui-widgets/components/grid/layout.html",link:e}}])}(),function(){angular.module("dmApp").directive("dmGridLink",["events",function(a){function b(b,c,d){var e=c.find(".url-input");b.inputId=c.closest("li").index()+c.closest(".dm-template").attr("component-id"),b.inputIdNewTab=b.inputId+"-newTab",a.addEventListener(b,c,"keyup",function(a){27==a.keyCode&&c.find(".dm-widget-drop-down").hasClass("show-drop-down")&&c.find(".dm-widget-drop-down").removeClass("show-drop-down")}),b.$on("openDropDown",function(){e.focus()}),b.removeLink=function(){b.dmGridLink.url="",b.dmGridLink.content="",b.dmGridLink.bottom=!1},b.insertLink=function(a){13==a.keyCode&&b.dmGridLink.url&&(c.removeClass("active"),c.find(".dm-widget-drop-down").removeClass("show-drop-down"))}}return{templateUrl:"../templates/ui-widgets/components/grid/link.html",scope:{dmGridLink:"=",dmGridLinkLayout:"="},link:b}}])}(),function(){angular.module("dmApp").directive("dmGridMaxSize",function(){function a(a,b,c){a.content=b.find("[contenteditable]"),a.content.on("keydown",function(b){return 8==b.keyCode||9==b.keyCode||13==b.keyCode||16==b.keyCode||17==b.keyCode||18==b.keyCode||19==b.keyCode||20==b.keyCode||27==b.keyCode||33==b.keyCode||34==b.keyCode||35==b.keyCode||36==b.keyCode||37==b.keyCode||38==b.keyCode||39==b.keyCode||40==b.keyCode||46==b.keyCode||91==b.keyCode||92==b.keyCode||93==b.keyCode||112==b.keyCode||113==b.keyCode||114==b.keyCode||115==b.keyCode||116==b.keyCode||117==b.keyCode||118==b.keyCode||119==b.keyCode||120==b.keyCode||121==b.keyCode||122==b.keyCode||123==b.keyCode||144==b.keyCode||145==b.keyCode||b.ctrlKey||b.altKey||b.shiftKey||b.metaKey||($(b.target).closest(".grid.seamless").find("li.dm-grid-item-holder").height("auto"),$(b.target).closest(".grid.seamless").find("li.dm-grid-item-holder").height($(b.target).closest(".grid").find(".description-holder > *").outerHeight()),a.size=a.content.children().text().length,a.size!=a.dmGridMaxSize-1)?void 0:!1}),a.content.on("paste",function(b){setTimeout(function(){a.size=a.content.children().text().length,a.size>a.dmGridMaxSize-1&&(a.newContent=a.content.children().text().substring(0,a.dmGridMaxSize-1),a.content.children().text(a.newContent),a.dmGridMaxSizeComp=a.newContent),$(b.target).closest(".grid.seamless").find("li.dm-grid-item-holder").height("auto"),$(b.target).closest(".grid.seamless").find("li").height($(b.target).closest(".grid").find(".description-holder > *").outerHeight())},100)})}return{scope:{dmGridMaxSize:"=",dmGridMaxSizeComp:"="},link:a}})}(),function(){angular.module("dmApp").directive("dmGridRemove",["$timeout","$rootScope","events",function(a,b,c){function d(d,e,f){d.isClicked=!1;var g=$(e).find(".dm-widget-modal"),h="";d.removeColumn=function(c){b.$emit("closeAllDropDowns"),a(function(){if(2==d.dmGridRemoveCount&&2==d.dmGridRemoveContainer.length)return alert("There has to be at least two items in this grid!"),!1;if(3==d.dmGridRemoveCount&&3==d.dmGridRemoveContainer.length)return alert("There has to be at least three items in this grid!"),!1;if(4==d.dmGridRemoveCount&&4==d.dmGridRemoveContainer.length)return alert("There has to be at least four items in this grid!"),!1;if(h=d.dmGridRemoveContainer.indexOf(c),e.closest(".dm-grid-item-holder").find(".placeholderImg").is(":visible"))d.removeConfirm();else{d.isClicked=!0;var a=e.closest(".dm-widget").position().left-e.closest(".dm-widget").outerWidth()/2,b=e.closest("li").outerWidth(),f=e.closest("li").outerHeight();g.css({marginLeft:-a,width:b,height:f})}})},d.removeCancel=function(){g.removeClass("isVisible"),a(function(){d.isClicked=!1},250)},d.removeConfirm=function(){d.isClicked=!1,e.closest("li").addClass("removing"),a(function(){d.dmGridRemoveContainer.splice(h,1)},250)},c.addEventListener(d,window,"resize",function(){g.removeClass("isVisible"),a(function(){d.isClicked=!1},250)}),c.addEventListener(d,"body","click",function(b){$(b.target).closest(".dm-widget").length||(g.removeClass("isVisible"),a(function(){d.isClicked=!1},250))}),d.$watch("isClicked",function(){1==d.isClicked&&g.addClass("isVisible")})}return{templateUrl:"../templates/ui-widgets/components/grid/removeItem.html",scope:{dmGridRemove:"=",dmGridRemoveContainer:"=",dmGridRemoveCount:"="},link:d}}])}(),function(){angular.module("dmApp").directive("dmGridSrtbl",["$timeout",function(a){function b(a,b,d){var e=b.closest(".dm-template"),f=e.find("section.grid"),g=f.find(".grid-list"),h=e.find("[id=srtbl]");$(document).ready(function(){$(document).mouseup(function(c){var d=b.closest(".dm-template").find(".grid, .dm-widget");d.is(c.target)||0!==d.has(c.target).length||h.is(c.target)||!g.first().data("ui-sortable")||(g.sortable("disable"),g.enableSelection(),g.find(".dm-grid-item-holder").removeClass("srtbl-item"),a.srtbl=!1)}),g.sortable({connectWith:".grid-list",sort:function(a,b){b.helper.css({top:b.position.top+$(window).scrollTop()+"px"})},stop:function(a,b){c(),updateControls(!0)},items:".dm-grid-item-holder"}),g.sortable("disable"),h.click(function(){a.srtbl?(h.removeClass("active"),g.sortable("disable"),g.enableSelection(),g.find(".dm-grid-item-holder").removeClass("srtbl-item"),a.srtbl=!1):(h.addClass("active"),g.sortable("refreshPositions"),g.sortable("enable"),g.disableSelection(),g.find(".dm-grid-item-holder").addClass("srtbl-item"),a.srtbl=!0),c(),updateControls(!0)})}),a.srtbl=!1}function c(){$(".grid-list").each(function(){var a=$.makeArray($(this).children(".dm-grid-item-holder"));a=a.map(function(a){return angular.element(a).scope().grid_item.$$hashKey}),angular.element(this).scope().data.grid.sort(function(b,c){var d=a.indexOf(b.$$hashKey),e=a.indexOf(c.$$hashKey);return d-e})})}return{templateUrl:"../templates/ui-widgets/components/grid/srtbl.html",scope:{dmGridSrtbl:"=",dmGridSrtblContainer:"=",dmGridSrtblLayout:"="},link:b}}])}(),function(){angular.module("dmApp").directive("dmImageAlign",["$rootScope",function(a){function b(b,c,d){c.on("click",".dm-widget-icon",function(c){b.dmImageAlign="center"===b.dmImageAlign?"left":"center",a.$emit("closeAllDropDowns")})}return{scope:{dmImageAlign:"="},link:b,restirct:"A",template:'<i class="dm-widget-icon dm-widget-icon-image-align" ng-class="{ \'active\': dmImageAlign == \'center\' }"><svg class="styleable" width="19px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 16" enable-background="new 0 0 19 16"><path d="M4 0h11v2h-11zM0 7h19v2h-19zM4 14h11v2h-11z"/></svg></i>'}}])}(),function(){angular.module("dmApp").directive("dmImageLayout",["$rootScope","$timeout",function(a,b){function c(c,d,e){d.on("click",".dm-widget-drop-down-image-layout button",function(d){var e=angular.element(this).data("type");c.dmImageLayout=e,b(function(){a.$broadcast("applyPaddings")},1),c.$digest()}),c.showIcon=function(a){return c.dmImageLayout&&-1!==c.dmImageLayout.indexOf(a)}}return{scope:{dmImageLayout:"="},link:c,restirct:"A",templateUrl:"../templates/ui-widgets/components/image.directive/layout.html"}}])}(),function(){angular.module("dmApp").directive("dmImageLink",["$timeout",function(a){function b(b,c,d){function e(){var a=c.closest(".dm-widget-main"),b=g.outerWidth(),d=a.outerWidth(),e=$(document).width();g.css({"margin-left":0}),g.offset().left+b>e?g.css({"margin-left":-(g.offset().left+b-e+25)}):g.offset().left-(b-d)/2>25&&g.css({"margin-left":-(b-d)/2})}var f=c.find(".dm-widget-drop-down-image-link-text"),g=c.closest(".dm-widget");b.hasLink=!1,b.showReplacedDropDown=!1,b.$watch("dmImageLink",function(a){a&&(b.hasLink=!0)}),b.$on("openDropDown",function(c,d){d&&(b.showReplacedDropDown=!0,g.addClass("transparent"),g.addClass("dm-widget-replace-parent-link")),b.validLink=!1,f.val(b.dmImageLink),a(function(){f.focus(),d&&e()},0)}),b.$on("closedDropDown",function(a,c){c&&(b.showReplacedDropDown=!1,g.removeClass("transparent"),g.removeClass("dm-widget-replace-parent-link"),b.$emit("closeDropDown"),g.css({"margin-left":0}))}),c.on("click",".dm-widget-icon",function(){b.hasLink?(b.$emit("preventOpenDropDown"),b.dmImageLink="",b.hasLink=!1):b.$emit("allowOpenDropDown"),b.$apply()}),f.on("keyup",function(a){13===a.which&&b.$apply(function(){return b.addLink(),!1}),27===a.which&&b.$apply(function(){return b.$emit("closeDropDown"),!1}),b.validLink=f.val()?!0:!1,b.$apply()}),b.addLink=function(){b.dmImageLink=f.val(),b.hasLink=!0,b.$emit("closeDropDown")}}return{scope:{dmImageLink:"="},link:b,restirct:"A",templateUrl:"../templates/ui-widgets/components/image.directive/link.html"}}])}(),function(){angular.module("dmApp").directive("dmImage",["$rootScope","events",function(a,b){function c(c,d,e){function f(a,b){var e=!1;a?"small"==b&&h.width()<g.width()&&(e=!0):d.find(".image").hasClass("small")&&h.width()<g.width()&&(e=!0),c.$broadcast("imageIsSmall",e)}var g=d.find(".image-wrapper"),h=g.find("img");c.$watch(e.imageSrc,function(a){a&&h.off().load(function(){f()})}),c.$watch(e.imageLayout,function(a){a&&f("imageLayout",a)}),c.captionVisible=function(a,b){return a&&"<br/>"!==a&&"<br>"!==a?!1:!b},b.addEventListener(c,"body","click",function(a){var b=$(a.target);0==b.closest(".image-wrapper").length&&0==b.closest("[text-editing]").length&&c.$apply(function(){c.showCaption=!1})}),d.find(".image-wrapper").on("click",function(){c.$apply(function(){a.$emit("hideAllCaption"),c.showCaption=!0})}),a.$onWithAutoDeregister(c,"hideAllCaption",function(){c.showCaption=!1})}function d(a){a.getClassString=function(a,b){if(a){var c=[];return b?(c.push(b+a.media.image.layout),c.push(b+a.media.image.align),a.text.content[0].html&&"<br/>"!=a.text.content[0].html&&"<br />"!=a.text.content[0].html&&c.push(b+"description")):(c.push(a.media.image.layout),c.push(a.media.image.align),a.text.content[0].html&&"<br/>"!=a.text.content[0].html&&"<br />"!=a.text.content[0].html&&c.push("description"),c.push("top-padding-"+a.paddings.top),c.push("bottom-padding-"+a.paddings.bottom)),c.join(" ")}return""}}return{link:c,controller:["$scope",d],restirct:"A"}}]).directive("dmImageCheck",[function(){function a(a,b,c){a.$on("imageIsSmall",function(b,c){a.dmImageCheck=c})}return{scope:{dmImageCheck:"="},link:a,restirct:"A"}}])}(),function(){angular.module("dmApp").directive("dmMediaPreloader",[function(){function a(a,b,c){var d,e='<div class="media-preloader"><svg class="saving-icon" version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"> <path fill="#424242" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z" transform="rotate(19.6148 25 25)"> <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div>';b.append(e),d=b.find(".media-preloader"),a.$on("showPreloader",function(){d.addClass("saving")}),a.$on("hidePreloader",function(){d.removeClass("saving")}),a.$on("showPreloaderDelegate",function(){d.addClass("saving")}),a.$on("hidePreloaderDelegate",function(){d.removeClass("saving")})}return{link:a,restirct:"A"}}]).directive("dmMediaPreloaderDelegate",[function(){function a(a,b,c){a.$on("showPreloader",function(){a.$broadcast("showPreloaderDelegate")}),a.$on("hidePreloader",function(){a.$broadcast("hidePreloaderDelegate")})}return{link:a,restirct:"A"}}])}(),function(){angular.module("dmApp").directive("dmMenu",["$timeout",function(a){function b(b,c,d){function e(){g.removeClass("show-menu-layout"),g.removeClass("blue"),b.showReplacedDropDown=!1,b.$emit("closeDropDown")}var f=c.closest(".dm-template"),g=c.closest(".dm-widget"),h=c.find(".dm-widget-replace-panel");b.showReplacedDropDown=!1,b.showSelectivizr=!1,b.changeSelectivizr=function(a,c){b.dmMenuLinksAlign=a,c.stopPropagation()},h.on("click",function(a){$(a.target).closest(".dm-widget-selectivizr-button").length||b.$apply(function(){b.showSelectivizr=!1})}),b.$on("openDropDown",function(){g.addClass("show-menu-layout blue"),b.showReplacedDropDown=!0,b.showSelectivizr=!1}),b.$on("closedDropDown",function(){e()}),b.$watch("dmMenuLinksVisibility",function(c){c&&a(function(){$(".items",f).on("click","a",function(a){b.$apply(function(){a.preventDefault()})})},!1)})}return{scope:{dmMenuSticky:"=",dmMenuLinksAlign:"=",dmMenuLinksVisibility:"=",dmMenuButtonVisibility:"=",dmMenuExternalNav:"@"},link:b,restirct:"A",templateUrl:"../templates/ui-widgets/components/menu.directive/menu.html"}}])}(),function(){angular.module("dmApp").directive("dmNanoScroller",["$timeout",function(a){function b(a,b,c){$.browser.webkit||b.on("click",function(){b.parent().find(".nano").addClass("nano-on").nanoScroller()})}return{link:b}}])}(),function(){angular.module("dmApp").directive("dmNumbersOnly",[function(){function a(a,b,c,d){d.$parsers.push(function(a){var c=a.replace(/[^0-9]/g,""),e=b.val(),f=e.split(""),g="",h=!1;if(void 0==a)return"";if(c=""==c?"0":c,"0"===e.charAt(0)&&e.length>1){for(var i=0;i<f.length;i++)("0"!==f[i]||h)&&(g+=f[i],h=!0);c=g||"0"}return c!=a&&(d.$setViewValue(c),d.$render()),c}),$(b).on("keydown keypress",function(b){32===b.which&&(b.preventDefault(),a.$apply())})}return{link:a,require:"ngModel",restirct:"A"}}])}(),function(){angular.module("dmApp").directive("dmPaddingDraggableTop",["$timeout",function(a){function b(b,c,d){var e=b.$watch(function(){var d,f,g=0,h=$('<div class="padding-draggable-control padding-top-control"></div>'),i=$('<div class="padding-marker"></div>'),j=$('<div class="padding-drag-handle"></div>'),k=$('<div class="padding-number"></div>'),l=0,m=0,n=12;void 0!==b.data&&void 0!==b.data.paddings&&void 0!==b.data.paddings.top&&(f=b.data.paddings.top,e(),h.append(i),h.append(j),h.append(k),c.before(h),h.on("mouseenter",function(){f=b.data.paddings.top,l=$(this).offset().top,constStart=l-10*(12-f),constEnd=l+10*f,j.draggable({containment:[0,constStart,0,constEnd]})}),constStart=l-10*(12-f),constEnd=l+10*f,j.draggable({axis:"y",grid:[10,10],containment:[0,constStart,0,constEnd],start:function(){k.show()},stop:function(){var e=f-parseInt(d)/10;e=Math.max(m,Math.min(n,e)),$(this).draggable({containment:[0,constStart,0,constEnd]}),b.data.paddings.top=e,f=e,j.css("top",g),i.css("height",0),i.css("top",0),k.hide(),b.$broadcast("defaultTopPaddingWasChanged"),b.$apply(),a(function(){c.parent().addClass("isEdited")},200)},drag:function(){d=parseInt(j.css("top")),i.css("top",Math.min(0,d)),i.css("height",Math.abs(d)),k.html(f-d/10)}}))})}return{link:b}}])}(),function(){angular.module("dmApp").directive("dmPaddingDraggableBottom",["$timeout",function(a){function b(b,c,d){var e=b.$watch(function(){var d,f,g=-10,h=$('<div class="padding-draggable-control padding-bottom-control"></div>'),i=$('<div class="padding-marker"></div>'),j=$('<div class="padding-drag-handle"></div>'),k=$('<div class="padding-number"></div>'),l=0,m=0,n=12;void 0!==b.data&&void 0!==b.data.paddings&&void 0!==b.data.paddings.bottom&&(f=parseInt(b.data.paddings.bottom),e(),h.append(i),h.append(j),h.append(k),c.after(h),l=h.offset().top,h.on("mouseenter",function(){f=b.data.paddings.bottom,l=$(this).offset().top,constStart=l-10*f,constEnd=l+10*(12-f),j.draggable({containment:[0,constStart,0,constEnd]})}),constStart=l-10*f,constEnd=l+10*(12-f),j.draggable({axis:"y",grid:[10,10],containment:[0,constStart,0,constEnd],start:function(a){k.show()},stop:function(){var e=parseInt(f)+parseInt(d/10);e=Math.max(m,Math.min(n,e)),$(this).draggable({containment:[0,constStart,0,constEnd]}),b.data.paddings.bottom=e,j.css("top",g),i.css("height",0),i.css("top",0),k.hide(),b.$broadcast("defaultBottomPaddingWasChanged"),b.$apply(),a(function(){c.parent().addClass("isEdited")},200)},drag:function(){d=parseInt(j.css("top")),i.css("top",Math.min(0,d)),i.css("height",Math.abs(d)),k.html(parseInt(f)+parseInt(d/10))}}))})}return{link:b}}])}(),function(){angular.module("dmApp").directive("sectionAnchorEditor",["$timeout",function(a){return{scope:!1,templateUrl:"../templates/ui-widgets/components/section-anchor-editor.directive/editor.html",link:function(b,c,d){function e(b){"undefined"==typeof b&&(b=1e3),a.cancel(h),a.cancel(i),g.hasClass("active")&&g.removeClass("active"),h=a(function(){g.hasClass("active")||g.addClass("active"),a.cancel(i),i=a(function(){g.hasClass("active")&&g.removeClass("active")},1e3)},b)}var f=$(c).find(".dm-widget-popover-text-field"),g=$(c).find(".dm-widget-info"),h=null,i=null;$(c).on("keydown keypress",function(a){var b=1e3;13===a.which&&(a.preventDefault(),b=10),e(b)}),b.$watch("anchorValue",function(a){"undefined"!=typeof a&&(b.anchorValue=a.replace(/[^a-zA-Z0-9\-\._]/gi,"-").replace(/-{2,}/g,"-"))}),b.$on("setFocus",function(){f.focus()})}}}])}(),function(){angular.module("dmApp").directive("dmSubscribe",function(){function a(a){a.getClassString=function(a){return a&&a.paddings?"top-padding-"+a.paddings.top+" bottom-padding-"+a.paddings.bottom:""}}return{restrict:"A",controller:["$scope",a]}})}(),function(){angular.module("dmApp").directive("dmSubscribeLayout",["$compile","widgetIcons",function(a,b){function c(a){return Object.keys(a)}function d(d,e,f){var g=b.getIcon("layout");d.$watch("dmSubscribeLayout",function(){if(d.dmSubscribeLayout){d.subscribeLayout=c(d.dmSubscribeLayout);var b='<i class="dm-widget-icon">'+g+'</i><div class="dm-widget-drop-down has-arrow alt-drop-down"><div class="dm-widget-drop-body"><div class="layout-settings-item" ng-repeat="el in subscribeLayout track by $index"><input type="checkbox" id="[[ el ]]'+e.closest(".dm-template").attr("component-id")+'" ng-change="layoutChange(dmSubscribeLayout[el], $index)" ng-checked="dmSubscribeLayout[el].value" ng-model="dmSubscribeLayout[el].value" ng-true-value="1" ng-false-value=""><label ng-class="{\'checked\': dmSubscribeLayout[el].value}" for="[[ el ]]'+e.closest(".dm-template").attr("component-id")+'">[[dmSubscribeLayout[el].label]]</label></div></div></div>';e.prepend(a(b)(d))}})}return{scope:{dmSubscribeLayout:"="},link:d}}])}(),function(){angular.module("dmApp").directive("textEditingE",["$compile","fonts","compatibility","$timeout","$rootScope",function(a,b,c,d,e){function f(a){a.fonts||(a.fonts=a.webFonts.concat(a.googleFonts),a.fonts=a.fonts.concat(a.localFonts),a.fonts=a.fonts.concat(a.otherFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}))}function g(a){a.addedTypeKitFontsList||(a.fonts=a.fonts.concat(a.typeKitFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),a.addedTypeKitFontsList=!0)}function h(c,d,h,i){"undefined"==typeof c.editor&&(c.editor=null),c.canApplyStyles=!1,c.shownTools=!1,c.shownPopover=!0,c.bottomArrow=!0,c.extraPanel=!1,c.classes={"font-size":4,"line-height":4,"letter-spacing":11,"font-weight":4};var j=function(){if(!c.popoverWasCreated){var b=angular.element('<div text-editing-popover-e data-html2canvas-ignore ng-show="shownPopover"></div>');d.find(".dm-text-editing-holder").append(a(b)(c)),c.popoverWasCreated=!0}},k=h.textEditingInclude.split(/\[|,\s*|\]/);c.includes=k.filter(function(a){return""!==a&&void 0!==a}),$(d).on("mousedown",function(a){j(),$(window).on("mouseup",l),c.mouseDown=!0,c.$digest(),e.$emit("hide-widgets")}),$(d).on("keydown",function(a){j(),a.which>=37&&a.which<=40&&a.shiftKey&&(c.shownTools||0===window.getSelection().toString().length||(c.shownTools=!0),c.customizePopoverPosition(c.$popover))}),c.$watch("styling.link.target",function(a){c.doLink()}),c.safeApply=function(a){var b=this.$root.$$phase;"$apply"==b||"$digest"==b?a&&"function"==typeof a&&a():this.$apply(a)},c.loadFontsList=f,c.addTypeKitFontsList=g,c.addedTypeKitFontsList=!1,c.webFonts=b.getWebFonts(),c.googleFonts=b.getGoogleFonts(),c.localFonts=b.getLocalFonts(),c.otherFonts=b.getOtherFonts(),c.typeKitFonts=b.getTypeKitFonts(),e.$onWithAutoDeregister(c,"loaded-TypeKitFonts",function(a,b){c.typeKitFonts=b,c.$broadcast("loaded-TypeKitFonts-inside")}),c.customizePopoverPosition=function(a){if(!c.popoverWasCreated)return void(c.shownPopover=!1);e.$$phase||c.$digest();var b=($("#templates").offset().top,$(d).closest(".dm-template").offset().top),f=$(a).find(".js-panel-"+c.extraPanel).height()+50;c.bottomArrow=!0,(void 0===c.$popover||0===c.$popover.length)&&(c.$popover=a);var g=c.shownPopover?c.$popover.width():c.$popover.find(".dm-widget-popover-link-settings").outerWidth(),h=c.shownPopover?50:110,i=window.getSelection();if(i.rangeCount>0){var j=i.getRangeAt(0).cloneRange(),k=j.getBoundingClientRect();if(!k)return;var l=!0;if(k.width||(k=j.commonAncestorContainer.parentElement.getClientRects()[0],l=!1),!k)return;var m=k.top,n=k.left,o=k.width,p=$(window).scrollTop(),q=$(window).scrollLeft(),r=42*_.without(c.includes,"paragraphs").length+27;(!g||Math.abs(r-g)>20)&&(g=r);var s=m-b-8-h+p,t=n-g/2+o/2-q;s+b-f<=Math.abs(p-10)&&c.shownPopover&&(c.bottomArrow=!1,s=k.bottom-b+8+p);var u=$(window).width();if(0>=t&&(t=0),t+g>u?$(a).css({left:"auto",right:"0px"}):$(a).css({left:t+"px",right:"auto"}),c.extraPanel&&c.bottomArrow)s-=$(a).find(".js-panel-"+c.extraPanel).height();else{var v=($(document).height(),$(window).height());s+f+b>p+v&&k.height>v/2?(c.bottomArrow=!0,s=p-b+100):!c.bottomArrow&&s+f+b>p+v&&$("html, body").animate({scrollTop:p+150},400)}$(a).css({top:s+"px"})}},c.$watch('styling["color"]',function(a){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor){a&&c.editor.formatter.apply("forecolor",{value:a});var b=new tinyMCE.util.Color(a).toRgb();if(c.$popover){var d=c.$popover.find(".dm-color-icon"),e=b.r<128&&b.g<128&&b.b<128;e?d.addClass("border-light"):d.removeClass("border-light")}}}),c.$watch('classes["font-size"]',function(a,b){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor)if(a){var d=.5+a/8;d=parseFloat(d.toFixed(3)),c.editor.formatter.apply("font_size_format",{value:d+"em"}),c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-fs .ui-slider-handle").text(a)}else c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-fs .ui-slider-handle").text("")}),c.$watch('classes["line-height"]',function(a,b){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor)if(a){var d=.5+a/8;d=parseFloat(d.toFixed(3)),c.editor.formatter.apply("line_height_format",{value:d}),c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-lh .ui-slider-handle").text(a)}else c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-lh .ui-slider-handle").text("")}),c.$watch('classes["letter-spacing"]',function(a,b){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor)if(a){var d=-.1+(a-1)/100;d=parseFloat(d.toFixed(3)),c.editor.formatter.apply("letter_spacing_format",{value:d+"em"}),c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-ls .ui-slider-handle").text(a)}else c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-ls .ui-slider-handle").text("")}),c.$watch('classes["font-weight"]',function(a,b){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor)if(a){var d=100*a;c.editor.queryCommandState("bold")&&c.execCommand("bold"),c.editor.formatter.apply("font_weight_format",{value:d}),c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-fw .ui-slider-handle").text(a)}else c.$popover&&c.$popover.find(".dm-widget-panel-font-col.col-fw .ui-slider-handle").text("")}),c.doLink=function(){if(!c.canApplyStyles)return!1;if("undefined"!=typeof c.editor&&null!==c.editor)if(c.styling.link.href){var a={};a.href=c.styling.link.href,a.target=c.styling.link.target?"_blank":!1,c.editor.execCommand("mceInsertLink",!1,a)}else c.editor.execCommand("Unlink")};var l=function(a){c.mouseDown&&(c.shownTools=!0,c.customizePopoverPosition(c.$popover),c.extraPanel=!1),c.mouseDown=!1,$(window).off("mouseup",l)}}function i(a){var b=a.$watch("webFonts",function(c){if("undefined"!=typeof c&&c.length&&a.style){var d=$.grep(a.webFonts,function(b){return b.value==a.style["font-family"];
}),e=$.grep(a.googleFonts,function(b){return b.value==a.style["font-family"]}),f=$.grep(a.localFonts,function(b){return b.value==a.style["font-family"]});(0!=d.length||0!=e.length||0!=f.length)&&(a.style["font-family"]=0!=d.length?d[0].key:0!=e.length?e[0].key:f[0].key),b()}"undefined"!=typeof c&&c.length&&a.loadFontsList(a)},!0);e.$onWithAutoDeregister(a,"loaded-fonts",function(){f(a)}),a.$on("loaded-TypeKitFonts-inside",function(b){g(a)})}return{scope:{ngModel:"=ngModel",inverted:"=textEditingInverted"},require:"ngModel",restrict:"A",templateUrl:"../templates/ui-widgets/components/text-editing-e.directive/content.html",link:h,controller:["$scope",i]}}])}(),function(){angular.module("dmApp").directive("textEditingPopoverE",["compatibility","$timeout","$rootScope","events",function(a,b,c,d){function e(a,b){setTimeout(function(){var c=$(b).find(".dm-widget-panel-font-list .nano-content"),d=c.find("li").filter(function(){return-1!==$(this).text().indexOf(a.visibleFont)});d.length&&c.length&&(c.scrollTop(0),c.scrollTop(d.offset().top-c.offset().top))},10)}function f(a,d,f){a.panelHeights=[],a.styling={color:"#fff",bold:!1,italic:!1,justify:"JustifyLeft",format:!1,isQuote:!1,underline:!1,textTransform:"none",list:!1,link:{href:!1,target:!1}},b(function(){var b=$(d).find('div[class*="js-panel-"]');b.each(function(b,c){$(c).removeClass("ng-hide"),/js-panel-(\w+)/.test(c.className)&&a.panelHeights.push({"class":/js-panel-(\w+)/.exec(c.className)[1],height:$(c).outerHeight()}),$(c).addClass("ng-hide")})},0),a.$popover=$(d).parent(),a.popoverWasCreated=!0,a.collapseFontsList=e,a.restoreDefaults=h,a.$watch("shownTools",function(b){var e=$(d).closest(".dm-template");b?(a.restoreDefaults(a),c.$emit("text-editing-shown",a.$id),e.addClass("active-template"),$("body").on("wheel",".dm-widget-panel-font-list .nano-content",i)):(e.removeClass("active-template"),$("body").off("wheel",".dm-widget-panel-font-list .nano-content",i),a.collapseFontsList(a,d))}),a.triggerPanel=function(b,c){1===b.which&&(a.extraPanel=c)},a.changeLink=function(b){13===b.which&&(b.preventDefault(),a.doLink(),a.extraPanel=!1)},a.execCmd=function(b){return"undefined"!=typeof a.editor&&null!==a.editor?(a.editor.execCommand(b),!0):!1},a.execCommand=function(b){a.execCmd(b)&&(a.styling[b]=a.editor.queryCommandState(b))},a.execCommandList=function(b){a.execCmd(b)&&(a.styling.list=a.editor.queryCommandState(b)?b:!1)},a.execQuote=function(){"undefined"!=typeof a.editor&&null!==a.editor&&(a.editor.execCommand("FormatBlock",{},"blockquote"),a.styling.isQuote=a.editor.formatter.match("blockquote"))},a.removeColor=function(){if("undefined"!=typeof a.editor&&null!==a.editor)try{a.editor.formatter.remove("forecolor",{value:null},null,!0),a.editor.dom.getParents(a.editor.selection.getStart(),function(b){var c;(c=b.style.color)&&(a.styling.color=new tinyMCE.util.Color(c).toHex())})}catch(b){}},a.execJustify=function(b){a.execCmd(b)&&(a.styling.justify=a.editor.queryCommandState(b)?b:"JustifyLeft","JustifyFull"==b&&a.editor.formatter.match("alignjustify")&&(a.styling.justify="JustifyFull"))},a.execFormat=function(b){"undefined"!=typeof a.editor&&null!==a.editor&&(a.editor.execCommand("FormatBlock",{},b),a.styling.format=a.editor.formatter.match(b)?b:!1)},a.execTextTransform=function(b){"undefined"!=typeof a.editor&&null!==a.editor&&(a.editor.formatter.match("font_transform_format",{value:b})&&(b="none"),a.styling.textTransform=b,a.editor.formatter.apply("font_transform_format",{value:b}))},a.selectFont=function(b){var c,d,e=$(b.target).prop("tagName").toLowerCase();("span"===e||"button"===e)&&(d=b.target.textContent.trimStart().trimEnd(),a.fonts.map(function(a){a.key==d&&(c=a.value)})),c&&(a.editor.formatter.apply("font_family_format",{value:c}),a.editor.formatter.match("font_family_format",{value:c})?a.styling.family=a.visibleFont=d:a.styling.family=a.visibleFont=!1)};var g=$(d).parent(),j=$(g).closest(".dm-template");j.append($(g)),a.reduceFontSize=function(b){b.preventDefault(),a.classes["font-size"]>1&&--a.classes["font-size"]},a.increaseFontSize=function(b){b.preventDefault(),a.classes["font-size"]<18&&++a.classes["font-size"]},a.reduceLineHeight=function(){a.classes["line-height"]>1&&--a.classes["line-height"]},a.increaseLineHeight=function(){a.classes["line-height"]<18&&++a.classes["line-height"]}}function g(a){c.$onWithAutoDeregister(a,"text-editing-shown",function(b,d){a.$id!==d&&(c.textEditingId=d,a.shownTools=!1)}),c.$onWithAutoDeregister(a,"hide-widgets",function(){a.shownTools&&(a.shownTools=!1)}),a.$watch("extraPanel",function(c,d){"color"==c&&a.$broadcast("openDropDown"),"color"==d&&a.$broadcast("closedDropDown"),b(function(){a.customizePopoverPosition(a.$popover)},10)})}function h(a,c){function d(a){return a&&"A"===a.nodeName&&a.href}function e(a){return tinymce.util.Tools.grep(a,d).length>0}function f(b){return a.editor.dom.getParent(b,"a[href]")}function g(){return f(a.editor.selection.getStart())}function h(a){var b=a.getAttribute("data-mce-href");return b?b:a.getAttribute("href")}function i(a){var b=a.getAttribute("data-mce-target");return b?b:a.getAttribute("target")}if(a.editor){a.canApplyStyles=!1,a.styling.bold=a.editor.queryCommandState("bold"),a.styling.italic=a.editor.queryCommandState("italic"),a.styling.isQuote=a.editor.formatter.match("blockquote"),a.styling.underline=a.editor.queryCommandState("underline"),a.styling.justify="JustifyLeft",["JustifyLeft","JustifyRight","JustifyCenter","JustifyFull"].map(function(b){a.editor.queryCommandState(b)&&(a.styling.justify=b)}),a.editor.formatter.match("alignjustify")&&(a.styling.justify="JustifyFull"),a.styling.list=!1,["InsertUnorderedList","InsertOrderedList"].map(function(b){a.editor.queryCommandState(b)&&(a.styling.list=b)}),a.styling.format=!1,["h1","h2","h3","h4","h5","h6"].map(function(b){a.editor.formatter.match(b)&&(a.styling.format=b)}),a.styling.family=a.visibleFont=!1,a.fonts.map(function(b){a.editor.formatter.match("font_family_format",{value:b.value})&&(a.styling.family=a.visibleFont=b.key)}),a.classes["font-size"]=4,Array.apply(null,{length:18}).map(function(b,c){var d=.5+(c+1)/8;d=parseFloat(d.toFixed(3)),a.editor.formatter.match("font_size_format",{value:d+"em"})&&(a.classes["font-size"]=c+1)}),a.classes["line-height"]=4,Array.apply(null,{length:18}).map(function(b,c){var d=.5+(c+1)/8;d=parseFloat(d.toFixed(3)),a.editor.formatter.match("line_height_format",{value:d})&&(a.classes["line-height"]=c+1)}),a.classes["letter-spacing"]=11,Array.apply(null,{length:21}).map(function(b,c){var d=-.1+c/100;d=parseFloat(d.toFixed(3)),a.editor.formatter.match("letter_spacing_format",{value:d+"em"})&&(a.classes["letter-spacing"]=c+1)}),a.classes["font-weight"]=4,Array.apply(null,{length:9}).map(function(b,c){var d=100*(c+1);a.editor.formatter.match("font_weight_format",{value:d})&&(a.classes["font-weight"]=c+1)}),a.$popover&&(a.$popover.find(".dm-widget-panel-font-col.col-fs .ui-slider-handle").text(a.classes["font-size"]),a.$popover.find(".dm-widget-panel-font-col.col-lh .ui-slider-handle").text(a.classes["line-height"]),a.$popover.find(".dm-widget-panel-font-col.col-fw .ui-slider-handle").text(a.classes["font-weight"]),a.$popover.find(".dm-widget-panel-font-col.col-ls .ui-slider-handle").text(a.classes["letter-spacing"])),a.styling.textTransform="none",["uppercase","lowercase"].map(function(b){a.editor.formatter.match("font_transform_format",{value:b})&&(a.styling.textTransform=b)});var j=!1;if(a.editor.dom.getParents(a.editor.selection.getStart(),function(b){var c;!j&&(c=b.style.color)&&(a.styling.color=new tinyMCE.util.Color(c).toHex(),j=!0)}),a.styling.link.target=!1,a.styling.link.href="",e(a.editor.dom.getParents(a.editor.selection.getStart()))){var k=g();a.styling.link.href=h(k),a.styling.link.target="_blank"==i(k)}b(function(){a.canApplyStyles=!0},10)}}function i(a){var b=$(this).scrollTop(),c=a.originalEvent,d=c.deltaY;return d>0&&b>=$(this)[0].scrollHeight-$(this).outerHeight()||0>d&&0>=b?!1:void 0}return{restrict:"A",templateUrl:"../templates/ui-widgets/components/text-editing-e.directive/popover.html",link:f,controller:["$scope",g]}}])}(),function(){angular.module("dmApp").directive("dmTextWidthEditor",[function(){return{scope:{size:"=",position:"="},restirct:"A",templateUrl:"../templates/ui-widgets/components/text-editing-e.directive/width-editor.html"}}])}(),function(){angular.module("dmApp").directive("dmTextEditingMenu",["$rootScope","fonts",function(a,b){function c(c,d,g){function h(){i.removeClass("show-menu-text-editing"),c.showReplacedDropDown=!1,c.changeFont=!1,c.changeColor=!1,c.$emit("closeDropDown")}var i=d.closest(".dm-widget");c.showReplacedDropDown=!1,c.changeFont=!1,c.changeColor=!1,c.webFonts=b.getWebFonts(),c.googleFonts=b.getGoogleFonts(),c.localFonts=b.getLocalFonts(),c.typeKitFonts=b.getTypeKitFonts(),a.$onWithAutoDeregister(c,"loaded-TypeKitFonts",function(a,b){c.typeKitFonts=b,c.$broadcast("loaded-TypeKitFonts-inside")}),c.loadFontsList=e,c.addTypeKitFontsList=f,c.addedTypeKitFontsList=!1,c.setBold=function(){c.dmTextEditingMenu.bold="normal"==c.dmTextEditingMenu.bold?"bold":"normal"},c.setItalic=function(){c.dmTextEditingMenu.italic="normal"==c.dmTextEditingMenu.italic?"italic":"normal"},c.triggerFontsEditor=function(){c.changeColor=!1,c.changeFont=!c.changeFont},c.toggleColorPicker=function(a){c.changeFont=!1,c.changeColor=!c.changeColor},c.reduceFontSize=function(){c.dmTextEditingMenu.fontSize>1&&--c.dmTextEditingMenu.fontSize},c.increaseFontSize=function(){c.dmTextEditingMenu.fontSize<7&&++c.dmTextEditingMenu.fontSize},c.reduceLineHeight=function(){c.dmTextEditingMenu.lineHeight>1&&--c.dmTextEditingMenu.lineHeight},c.increaseLineHeight=function(){c.dmTextEditingMenu.lineHeight<7&&++c.dmTextEditingMenu.lineHeight},c.$watch("dmTextEditingMenu.fontSize",function(a){d.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text(a)}),c.$watch("dmTextEditingMenu.lineHeight",function(a){d.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text(a)}),c.$watch("dmTextEditingMenu.fontFamily",function(a){if(a&&(a=a.replace(/"/g,"'"),c.webFonts.length&&c.googleFonts.length&&c.localFonts.length&&c.typeKitFonts.length)){var b=$.grep(c.webFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),d=$.grep(c.googleFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),e=$.grep(c.localFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")}),f=$.grep(c.typeKitFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")});(0!=b.length||0!=d.length||0!=e.length||0!=f.length)&&(0!=b.length?c.visibleFont=b[0].key:0!=d.length?c.visibleFont=d[0].key:0!=e.length?c.visibleFont=e[0].key:c.visibleFont=f[0].key)}}),c.$on("openDropDown",function(){i.addClass("show-menu-text-editing"),c.showReplacedDropDown=!0}),c.$on("closedDropDown",function(){h()}),c.selectFont=function(a){var b=$(a.target).prop("tagName").toLowerCase();if("span"===b||"button"===b){var d=a.target.textContent.trimStart().trimEnd(),e=$.grep(c.webFonts,function(a){return a.key==d}),f=$.grep(c.googleFonts,function(a){return a.key==d}),g=$.grep(c.localFonts,function(a){return a.key==d}),h=$.grep(c.typeKitFonts,function(a){return a.key==d});c.dmTextEditingMenu.fontFamily=0!=e.length?e[0].value:0!=f.length?f[0].value:0!=g.length?g[0].value:h[0].value}}}function d(b){b.$watch("webFonts",function(a){if(a.length&&b.style){var c=$.grep(b.webFonts,function(a){return a.value==b.style["font-family"]}),d=$.grep(b.googleFonts,function(a){return a.value==b.style["font-family"]}),e=$.grep(b.localFonts,function(a){return a.value==b.style["font-family"]});(0!=c.length||0!=d.length||0!=e.length)&&(b.style["font-family"]=0!=c.length?c[0].key:0!=d.length?d[0].key:e[0].key)}a.length&&b.loadFontsList(b)},!0),b.$watch("typeKitFonts",function(a){if(a.length&&b.style){var c=$.grep(b.typeKitFonts,function(a){return a.value==b.style["font-family"]});0!=c.length&&(b.style["font-family"]=c[0].key)}a.length&&b.addTypeKitFontsList(b)},!0),a.$onWithAutoDeregister(b,"loaded-fonts",function(){e(b)}),b.$on("loaded-TypeKitFonts-inside",function(a){f(b)})}function e(a){a.fonts||(a.fonts=a.webFonts.concat(a.googleFonts),a.fonts=a.fonts.concat(a.localFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}))}function f(a){a.addedTypeKitFontsList||(a.fonts=a.fonts.concat(a.typeKitFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),a.addedTypeKitFontsList=!0)}return{scope:{dmTextEditingMenu:"="},link:c,restirct:"A",controller:["$scope",d],templateUrl:"../templates/ui-widgets/components/text-editing-menu.directive/text-editing-menu.html"}}])}(),function(){angular.module("dmApp").directive("textEditingPopover",["compatibility","$timeout","$rootScope","events",function(a,b,c,d){function e(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function f(a,b){setTimeout(function(){var c=$(b).find(".dm-widget-panel-font-list .nano-content"),d=c.find("li").filter(function(){return-1!==$(this).text().indexOf(a.visibleFont)});d.length&&c.length&&(c.scrollTop(0),c.scrollTop(d.offset().top-c.offset().top))},10)}function g(a){for(var b=a.childNodes,c="",d=0;d!=b.length;++d)c+=3===b[d].nodeType?b[d].textContent:b[d].outerHTML;return c}function h(a,b,c,d){var e=window.getSelection().getRangeAt(0).cloneRange(),f=$(e.startContainer).closest("h1, h2, h3, p"),g=$(e.endContainer).closest("h1, h2, h3, p");if(f.index()>g.index()){var h=f;f=g,g=h}var i;f.index()!=g.index()?(i=f.nextUntil(g),i=i.add(f),i=i.add(g)):i=f;var j=$.map(i,function(a){d($(a));var b=$(a).fromExisting(c,$(a).html()),e=$(a).classes(),f=$.grep(e,function(a){return-1!==a.indexOf("font-size-")})[0],g=$.grep(e,function(a){return-1!==a.indexOf("line-height-")})[0];b.addClass(f),b.addClass(g);var h=$(a).styles();for(var i in h)h.hasOwnProperty(i)&&b.css(i,h[i]);return $(a).replaceWith(b),b});return a.$editor.trigger("input"),j}function i(){function a(b,c,d){if(b.isEqualNode(c))return d;for(var e=$(b).contents(),f=0;f!=e.length;++f){var g=d.slice();g.push(f);var h=a(e[f],c,g);if(h)return h}}function b(a,c,d){var e=$(a).contents(),f=d.shift();return void 0!==f?b(e[f],c,d):a}if(window.getSelection().rangeCount>0){var c=window.getSelection().getRangeAt(0).cloneRange(),d=c.startContainer,e=$(c.startContainer).closest("h1, h2, h3, p"),f=c.startOffset,g=c.endContainer,h=$(c.endContainer).closest("h1, h2, h3, p"),i=c.endOffset,j=a(e[0],d,[]),k=a(h[0],g,[]),l=Array.prototype.slice.call(arguments),n=l.shift(),o=n.apply(this,l);window.getSelection().removeAllRanges(),c.selectNodeContents(l[0].$editor[0]);var p=b(o[0],d,j),q=b(o[o.length-1],g,k);c.setStart(p,f),c.setEnd(q,i),window.getSelection().addRange(c),m(l[0])}}function j(b,c,d){if(!a.isIE){var e,f=b.anchorNode,g=b.focusNode,h=b.anchorOffset,i=b.focusOffset,j=$(f),k=$(g),l=document.createRange(),m=!1,n=(b.rangeCount>0?b.getRangeAt(0).cloneRange():null,"p, h1, h2, h3");if($(j).prop("tagName")&&"div"===$(j).prop("tagName").toLowerCase()&&(j=$(j).children().get(h),f=$(j).contents()[0],h=0),$(k).prop("tagName")&&"div"===$(k).prop("tagName").toLowerCase()){k=$(k).children().get(i-1);var o=$(k).contents();if(g=o[o.length-1],!g)return;for(;3!==g.nodeType;)o=$(o[o.length-1]).contents(),g=o[o.length-1];i=g.textContent.length}if(j=$(j).closest(n),k=$(k).closest(n),f&&g){f.isEqualNode(g)?h>i&&(m=!0):2===f.compareDocumentPosition(g)&&(m=!0,e=j,j=k,k=e),m&&(e=f,f=g,g=e,e=h,h=i,i=e),l.selectNodeContents(d[0]),l.setStart(f,h),l.setEnd(g,i);var o;if(0===i){for(o=$(k).contents(),e=o[0];3!==e.nodeType;)if(o=$(o[0]).contents(),e=o[0],!e)return;if(3===g.nodeType&&e.isEqualNode(g)||3!==g.nodeType&&-1!==n.indexOf($(g).prop("tagName").toLowerCase())){if(k=$(k).prev(),o=$(k).contents(),e=o[o.length-1],!e)return;for(;3!==e.nodeType;)o=$(o[o.length-1]).contents(),e=o[o.length-1];l.setEnd(e,e.textContent.length)}}for(o=$(j).contents(),e=o[o.length-1];3!==e.nodeType;)o=$(o[o.length-1]).contents(),e=o[o.length-1];if(h===e.textContent.length&&f.isEqualNode(e)){if(j=$(j).next(),o=$(j).contents(),!o)return;l.setStart(o[0],0)}b.removeAllRanges(),b.addRange(l),m&&c.selectRangeBackwards(l)}}}function k(e,k,l){e.panelHeights=[],b(function(){var a=$(k).find('div[class*="js-panel-"]');a.each(function(a,b){$(b).removeClass("ng-hide");var c=-1!==b.className.indexOf("heading")?"heading":-1!==b.className.indexOf("color")?"color":"fonts";e.panelHeights.push({"class":c,height:$(b).outerHeight()}),$(b).addClass("ng-hide")})},0),e.$popover=$(k).parent(),e.popoverWasCreated=!0,e.collapseFontsList=f,e.restoreDefaults=m,e.$watch("shownTools",function(b){var d=$(k).closest(".dm-template");b?(e.restoreDefaults(e),c.$emit("text-editing-shown",e.$id),d.addClass("active-template"),$("body").on("wheel",".dm-widget-panel-font-list .nano-content",n)):(a.isIE||e.restoreDefaults(e),d.removeClass("active-template"),$("body").off("wheel",".dm-widget-panel-font-list .nano-content",n),e.collapseFontsList(e,k))}),e.correctSelection=function(){j(window.getSelection(),e,k)},e.execBold=function(){document.execCommand("bold",!1,null),e.bold=document.queryCommandState("bold"),a.isIE&&e.$editor.trigger("input")},e.execItalic=function(){document.execCommand("italic",!1,null),e.italic=document.queryCommandState("italic"),a.isIE&&e.$editor.trigger("input")},e.execJustify=function(){if(e.justified?document.execCommand("justifyLeft",!1,null):document.execCommand("justifyCenter",!1,null),a.isFirefox||a.isIE){var b=window.getSelection(),c=(b.anchorNode,b.focusNode,$(b.anchorNode).closest("h1, h2, h3, p")),d=$(b.focusNode).closest("h1, h2, h3, p");if(c.index()>d.index()){var f=c;c=d,d=f}var g;c.index()!=d.index()?(g=c.nextUntil(d),g=g.add(c),g=g.add(d)):g=c,e.justified?g.each(function(a,b){$(b).css("text-align","left")}):g.each(function(a,b){$(b).css("text-align","center")}),e.$editor.trigger("input")}m(e),a.isIE&&e.$editor.trigger("input")},e.triggerHeadingEditor=function(b){function c(a){a.removeClass("hero"),a.removeClass("h1")}1===b.which&&(e.restoreSelectionAfterStyling(),e.selectedH1||e.selectedHero||e.selectedSmall?(i(h,e,k,"p",c),e.selectedH1=!1,e.selectedHero=!1,e.selectedSmall=!1,e.isHeadlineReplaced=!1,e.h1=!0,e.hero=!1,e.small=!1,a.isIE&&e.$editor.trigger("input")):(e.execH1(),e.changeHeading=!0,e.changeFont=!1,e.changeColor=!1))},e.replaceHeadline=function(){function a(a){a.removeClass("h1")}function a(a){a.addClass("h1")}e.isHeadlineReplaced?(i(h,e,k,"h1",a),e.selectedH1=!0,e.selectedHero=!1,e.selectedSmall=!1,e.changeHeading=!0):(i(h,e,k,"p",a),e.selectedH1=!0,e.selectedHero=!1,e.selectedSmall=!1,e.changeHeading=!0),e.isHeadlineReplaced=!e.isHeadlineReplaced},e.isHeadlineReplaced=!1,e.execHeading=function(a){var b=a.target;$(b).is("[class*=-h1]")?e.execH1():$(b).is("[class*=-h2]")?e.execHero():$(b).is("[class*=-h3]")?e.execSmall():$(b).is("input")&&e.replaceHeadline()},e.execH1=function(){function a(a){a.removeClass("hero");var b=a.prop("tagName").toLowerCase();"p"===b?a.css("color").trim()===$(e.$defaultParagraph).css("color").trim()&&a.css("color",""):"h2"===b?a.css("color").trim()===e.defColor.hero.trim()&&a.css("color",""):"h3"===b&&a.css("color").trim()===e.defColor.small.trim()&&a.css("color","")}i(h,e,k,"h1",a),e.selectedH1=!0,e.selectedHero=!1,e.selectedSmall=!1,e.changeHeading=!0,e.isHeadlineReplaced=!1},e.execHero=function(){function a(a){a.removeClass("hero");var b=a.prop("tagName").toLowerCase();"h1"===b?a.css("color").trim()===e.defColor.h1.trim()&&a.css("color",""):"p"===b?a.css("color").trim()===$(e.$defaultParagraph).css("color").trim()&&a.css("color",""):"h3"===b&&a.css("color").trim()===e.defColor.small.trim()&&a.css("color","")}i(h,e,k,"h2",a),e.selectedH1=!1,e.selectedHero=!0,e.selectedSmall=!1,e.changeHeading=!0,e.isHeadlineReplaced=!1},e.execSmall=function(){function a(a){a.removeClass("hero");var b=a.prop("tagName").toLowerCase();"p"===b?a.css("color").trim()===$(e.$defaultParagraph).css("color").trim()&&a.css("color",""):"h2"===b?a.css("color").trim()===e.defColor.hero.trim()&&a.css("color",""):"h1"===b&&a.css("color").trim()===e.defColor.h1.trim()&&a.css("color","")}i(h,e,k,"h3",a),e.selectedH1=!1,e.selectedHero=!1,e.selectedSmall=!0,e.changeHeading=!0,e.isHeadlineReplaced=!1},e.triggerLinkEditor=function(){if(e.savedSelection=e.saveLastSelection(),e.changeHeading=!1,e.changeFont=!1,e.changeColor=!1,e.existsLink){var c,d=window.getSelection();a.isFirefox?c=o(d):(c=$(d.focusNode).parent().closest("a")[0],c||(c=d.anchorNode)),e.removeSelection(),e.selectWholeTagContent(c),document.execCommand("unlink",!1,null),e.existsLink=!1,e.validLink=!1,e.link=""}else e.shownAnchorEditor=!0,b(function(){e.customizePopoverPosition($(k).parent()),e.$broadcast("setFocus")},10),e.restoreSelectionAfterStyling()},e.triggerFontsEditor=function(b){if(1===b.which){e.restoreSelectionAfterStyling(),e.changeFont=!e.changeFont,e.changeFont&&(e.savedSelection=e.saveLastSelection(),e.changeColor=!1,e.changeHeading=!1);var c=window.getSelection(),d=$(c.anchorNode).closest("h1, h2, h3, p"),f=$(c.focusNode).closest("h1, h2, h3, p"),g=d.index(),h=f.index();if(g>h){var i=g;g=h,h=i}for(var j=!0,k=e.$editor.find("h1, h2, h3, p"),l=d.css("font-family"),m=g;m!=h+1;++m){var n=$(k[m]).css("font-family");if(l!==n){j=!1;break}}if(j&&(e.style["font-family"]=d.css("font-family"),a.isFirefox)){var o=$.grep(e.webFonts,function(a){return a.value.trim().replace(/'/g,"")==e.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),p=$.grep(e.googleFonts,function(a){return a.value.trim().replace(/'/g,"")==e.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),q=$.grep(e.localFonts,function(a){return a.value.trim().replace(/'/g,"")==e.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")}),r=$.grep(e.typeKitFonts,function(a){return a.value.trim().replace(/'/g,"")==e.style["font-family"].replace(/"/g,"'").replace(/,/g,", ").replace(/'/g,"")});(0!=o.length||0!=p.length||0!=q.length||0!=r.length)&&(0!=o.length?e.visibleFont=o[0].key:0!=p.length?e.visibleFont=p[0].key:0!=q.length?e.visibleFont=q[0].key:e.visibleFont=r[0].key)}}},d.addEventListener(e,k,"keydown",function(a){if(e.shownTools&&e.changeFont&&(38===a.which||40===a.which)){a.preventDefault(),a.stopPropagation();var b=e.visibleFont,c=_.findIndex(e.fonts,function(a){return a.key==b});if(-1!==c){var d=c+(38===a.which?-1:1);d>=0&&d<e.fonts.length&&(e.style["font-family"]=e.fonts[d].value,e.$digest())}}}),e.selectFont=function(a){var b=$(a.target).prop("tagName").toLowerCase();if("span"===b||"button"===b){var c=a.target.textContent.trimStart().trimEnd(),d=$.grep(e.webFonts,function(a){return a.key==c}),f=$.grep(e.googleFonts,function(a){return a.key==c}),g=$.grep(e.localFonts,function(a){return a.key==c}),h=$.grep(e.typeKitFonts,function(a){return a.key==c});e.style["font-family"]=0!=d.length?d[0].value:0!=f.length?f[0].value:0!=g.length?g[0].value:h[0].value}},e.addLink=function(){if(e.removeSelection(),e.restoreLastSelection(e.savedSelection),e.existsLink){var c;c=a.isFirefox?o(window.getSelection()):a.isIE?window.getSelection().focusNode:window.getSelection().focusNode.parentElement,$(c).attr("href",e.link),$(c).attr("target",e.isInNewTab?"_blank":"")}else{var d=window.getSelection().getRangeAt(0).cloneContents(),f=g(d),h='<a href="'+e.link+'"';e.isInNewTab&&(h+=' target="_blank"'),h+=">"+f+"</a>",e.pasteHtmlAtCaret(h)}e.$editor.trigger("input"),e.changeLink=!1,e.existsLink=!0,e.shownPopover=!0,b(function(){e.customizePopoverPosition($(k).parent())},10)},e.change=function(){e.addLink()};var p=$(k).parent(),q=$(p).closest(".dm-template");q.append($(p)),e.toggleColorPicker=function(a){1===a.which&&(e.changeFont&&(e.changeFont=!1),e.changeColor=!e.changeColor,e.changeColor?(e.changeFont=!1,e.changeHeading=!1,e.savedSelection=e.saveLastSelection()):e.restoreSelectionAfterStyling())},e.reduceFontSize=function(){e.classes["font-size"]>1&&--e.classes["font-size"]},e.increaseFontSize=function(){e.classes["font-size"]<9&&++e.classes["font-size"]},e.reduceLineHeight=function(){e.classes["line-height"]>1&&--e.classes["line-height"]},e.increaseLineHeight=function(){e.classes["line-height"]<7&&++e.classes["line-height"]}}function l(a){c.$onWithAutoDeregister(a,"text-editing-shown",function(b,d){a.$id!==d&&(c.textEditingId=d,a.shownTools=!1)}),c.$onWithAutoDeregister(a,"hide-widgets",function(){a.shownTools&&(a.shownTools=!1,window.getSelection().removeAllRanges(),a.$editor.trigger("blur"))}),a.$watch("changeColor",function(b){b?a.$broadcast("openDropDown"):a.$broadcast("closedDropDown")})}function m(b,c){function d(a){b.existsLink=!0,b.validLink=!0,b.link=$(a).attr("href")}var f=window.getSelection(),g=f.anchorNode,h=f.focusNode;if(c&&g){var i=f.anchorOffset,j=f.focusOffset;b.savedRevertedSelection=null,g.isEqualNode(h)?i>j&&(b.savedRevertedSelection=f.getRangeAt(0).cloneRange()):2===g.compareDocumentPosition(h)&&(b.savedRevertedSelection=f.getRangeAt(0).cloneRange())}b.shownPopover=!0,b.savedSelection=null;var k=$(f.anchorNode).closest("h1, h2, h3, p"),l=$(f.focusNode).closest("h1, h2, h3, p");if(b.changeLink=!1,b.existsLink=!1,b.validLink=!1,b.link="",b.changeFont=!1,b.changeHeading=!1,b.changeColor=!1,b.small=!1,b.hero=!1,b.h1=!1,b.isInNewTab=!1,b.bold=document.queryCommandState("bold"),b.italic=document.queryCommandState("italic"),a.isFirefox||a.isIE){if(0!==k.length){var m=k.css("text-align");b.justified=-1!==m.indexOf("center")}}else b.justified=document.queryCommandState("justifyCenter");var n=$(k).css("color");if(void 0!==n&&-1!==n.indexOf("rgb")&&(n=e(n)),0!==k.length){var p=$.grep(k[0].className.split(" "),function(a){return 0===a.indexOf("font-size-")})[0],q=$.grep(k[0].className.split(" "),function(a){return 0===a.indexOf("line-height-")})[0],r=k.index(),s=l.index();if(r>s){var t=r;r=s,s=t}var u=!0,v=b.$editor.find("h1, h2, h3, p");if(v.length&&r>=0&&s>=0){for(var w=r;w!=s+1;++w){if(!v[w]){u=!1;break}var x=$.grep(v[w].className.split(" "),function(a){return 0===a.indexOf("font-size-")})[0],y=$.grep(v[w].className.split(" "),function(a){return 0===a.indexOf("line-height-")})[0];if(x!==p||y!==q){u=!1;break}}if(u){b.small=b.selectedSmall="h3"===k.prop("tagName").toLowerCase(),b.hero=b.selectedHero="h2"===k.prop("tagName").toLowerCase(),b.h1=b.selectedH1="h1"===k.prop("tagName").toLowerCase()||k.hasClass("h1");var p=$.grep(k[0].className.split(" "),function(a){return 0===a.indexOf("font-size-")})[0],q=$.grep(k[0].className.split(" "),function(a){return 0===a.indexOf("line-height-")})[0];b.classes["font-size"]=p.split("-")[2],b.classes["line-height"]=q.split("-")[2],b.$popover&&(b.$popover.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text(b.classes["font-size"]),b.$popover.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text(b.classes["line-height"]))}else b.classes["font-size"]=void 0,b.classes["line-height"]=void 0}b.style.color=n}var z,A;if(g){if(z=$(g).parent().closest("a"),void 0!==z.prop("tagName")&&"a"===z.prop("tagName").toLowerCase())A=!0,a.isFirefox?f.anchorNode.isEqualNode(f.focusNode)||(A=!1):a.isChrome&&g!=h&&1!==f.focusOffset&&(A=!1);else if(g!=h&&!a.isFirefox){var B=$(g).text().length,C=$(h).text().length;B===f.anchorOffset&&0===f.focusOffset?(z=$(g).nextUntil($(h)),A=!0):0===f.anchorOffset&&f.focusOffset===C?(z=$(g).prevUntil($(h)),A=!0):void 0!==$(h).closest("a").prop("tagName")&&"a"===$(h).closest("a").prop("tagName").toLowerCase()&&3!==g.nodeType&&(z=$(h).closest("a"),A=!0)}if(A&&1==z.length)b.selectWholeTagContent(z[0]),d(z);else if(a.isFirefox){var D=o(f);D&&d(D)}}}function n(a){var b=$(this).scrollTop(),c=a.originalEvent,d=c.deltaY;return d>0&&b>=$(this)[0].scrollHeight-$(this).outerHeight()||0>d&&0>=b?!1:void 0}function o(a){for(var b=a.anchorNode.childNodes,c=a.getRangeAt(0),d=0;d<b.length;++d)if(3!==b[d].nodeType&&$(b[d]).text()===c.toString()&&void 0!==$(b[d]).prop("tagName")&&"a"===$(b[d]).prop("tagName").toLowerCase()&&d===a.anchorOffset)return b[d]}return{restrict:"A",templateUrl:"../templates/ui-widgets/components/text-editing.directive/popover.html",link:k,controller:["$scope",l]}}])}(),function(){angular.module("dmApp").directive("textEditing",["$compile","fonts","compatibility","$timeout","$rootScope",function(a,b,c,d,e){function f(a,b,c){var d=$(c).contents(),e=(d.length,a.startContainer),f=a.startOffset;d[0];return a.selectNode(b),a.setStart(c[0],0),a.setEnd(e,f),a}function g(a,b,c){var d=$(c).contents(),e=d.length,f=a.endContainer,g=a.endOffset;d[e-1];return a.selectNode(b),a.setStart(f,g),a.setEnd(c[0],e),a}function h(a){for(var b=a.childNodes,c="",d=0;d!=b.length;++d)c+=3!==b[d].nodeType?b[d].outerHTML:b[d].textContent;return c}function i(i,j,t,u){i.$editor=$(j).find("[contenteditable]"),i.$undoManager={states:[],memorize:function(){this.states.push(i.$editor.html()),this.states.length>1e3&&this.states.shift()},undo:function(){if(this.states.length>1){var a=this.states[this.states.length-2];i.$editor.html(a),this.states.pop(),window.getSelection().removeAllRanges()}}},i.webFonts=b.getWebFonts(),i.googleFonts=b.getGoogleFonts(),i.localFonts=b.getLocalFonts(),i.typeKitFonts=b.getTypeKitFonts(),e.$onWithAutoDeregister(i,"loaded-TypeKitFonts",function(a,b){i.typeKitFonts=b,i.$broadcast("loaded-TypeKitFonts-inside")}),i.shownTools=!1,i.shownPopover=!0,i.bottomArrow=!0,i.style={},i.classes={"font-size":4,"line-height":4};var v=function(){if(!i.popoverWasCreated){var b=angular.element('<div text-editing-popover data-html2canvas-ignore ng-show="shownPopover"></div>');j.find(".dm-text-editing-holder").append(a(b)(i)),i.$editor=$(j).find("[contenteditable]")}},w=i.$watch("ngModel",function(a){if(a){var b=t.textEditingInclude.split(/\[|,\s*|\]/);i.includes=b.filter(function(a){return""!==a&&void 0!==a}),i.model=a;for(var c=0;c!=i.model.content.length;++c){for(var d=i.model.content[c],e=$("<"+d.tagName+">"+d.html+"</"+d.tagName+">"),f=0;f!=d.classes.length;++f)e.addClass(d.classes[f]);e.addClass("overrided-paragraph");for(var g in d.style)d.style.hasOwnProperty(g)&&e.css(""+g,""+d.style[g]);i.$editor.append(e)}i.model.placeholder&&i.$editor.attr("placeholder",i.model.placeholder);var h,j,k=t.textEditingDefaultParagraph?t.textEditingDefaultParagraph:"p",l="";if((-1===i.includes.indexOf("paragraphs")||t.textEditingDefaultParagraph)&&(h=$(i.$editor.children().first()).css("color"),j=$(i.$editor.children().first()).css("font-family")),"hero"===k&&(k="p",l="hero"),void 0===h||void 0===j){var m=i.model.content.filter(function(a){return"p"===a.tagName});0!==m.length?(h=m[0].style.color,j=m[0].style["font-family"]):(m=$("<p></p>"),i.$editor.append(m),h=m.css("color"),j=m.css("font-family"),m.remove())}i.$defaultParagraph="<"+k+' class="'+l+' font-size-4 line-height-4" style="',h&&(i.$defaultParagraph+="color: "+h+"; "),j&&(i.$defaultParagraph+="font-family: "+j.replace(/"/g,"'")+";"),i.$defaultParagraph+='"><br></'+k+">";var n=$("<h1></h1>"),o=$("<h2></h2>"),p=$("<h3></h3>");i.$editor.append(n),i.$editor.append(o),i.$editor.append(p),i.defColor={},i.defColor.h1=n.css("color"),i.defColor.hero=o.css("color"),i.defColor.small=p.css("color"),n.remove(),o.remove(),p.remove(),i.$editor.trigger("input",{silent:!0}),w()}},!0);$(j).on("input",function(a,b){if(!(!i.model||b&&b.silent)){var c=function(a,b){var c=$(i.$defaultParagraph);c.html(a[b]),i.$editor.html(c);var d=document.createRange();d.selectNodeContents(i.$editor[0]),d.setStart(c[0],c.contents().length),d.setEnd(c[0],c.contents().length),window.getSelection().removeAllRanges(),window.getSelection().addRange(d)},e=function(a){var b=i.$editor.find("div, pre"),d=i.$editor.contents();if(1===d.length?3===d[0].nodeType&&c(d,0):2===d.length&&3===d[1].nodeType&&0===d[0].textContent.length&&c(d,1),b.each(function(a,b){var c=$(i.$defaultParagraph);c.html($(b).contents()),
$(b).replaceWith(c)}),b=i.$editor.find("span").not('[style*="normal"]').not('[style*="bold"]'),b.each(function(a,b){var c=$(b).html();$(b).replaceWith(c)}),a.silent||i.model.content.splice(0,i.model.content.length),b=$(j).find("h1, h2, h3, p"),b.each(function(b,c){if(0!==$(c).text().length&&$(c).find("br").replaceWith(" "),!a.silent){var d=$(c).html(),e=$(c).classes(),f=e.indexOf("js-placeholder");-1!==f&&(e.splice(f,1),d="<br/>"),f=e.indexOf("overrided-paragraph"),-1!==f&&e.splice(f,1),i.model.content.push({tagName:$(c).prop("tagName").toLowerCase(),html:d,classes:e,style:$(c).styles()})}}),0===i.model.content.length){var e=$(i.$defaultParagraph);i.model.content.push({tagName:e.prop("tagName").toLowerCase(),html:"<br/>",classes:e.classes(),style:e.styles()})}i.bold=document.queryCommandState("bold"),i.italic=document.queryCommandState("italic"),i.$undoManager.memorize()};d(function(){e(a)},0)}}),$(j).on("blur input focusout",function(a){if(i.model&&0===i.$editor.text().trim().length){i.$editor.empty(),i.$savedParagraph=angular.copy(i.$defaultParagraph);var b=$(i.$defaultParagraph);b.removeClass();for(var c=0;c!=i.model.content[0].classes.length;++c)b.addClass(i.model.content[0].classes[c]);b.css(i.model.content[0].style),i.$defaultParagraph=b[0].outerHTML,b.addClass("js-placeholder"),b.text(i.$editor.attr("placeholder")),i.$editor.prepend(b),window.getSelection().removeAllRanges()}else i.$savedParagraph&&(i.$defaultParagraph=angular.copy(i.$savedParagraph))}),$(j).on("mousedown",function(a){if(v(),$(window).on("mouseup",x),c.isChrome&&i.changingSelection)a.preventDefault();else{i.mouseDown=!0,i.$digest(),e.$emit("hide-widgets");var b=i.$editor.find(".js-placeholder");if(b.length){b.removeClass("js-placeholder"),c.isIE?b.html(""):b.html("<br/>");var d=document.createRange();window.getSelection().removeAllRanges(),d.selectNodeContents(i.$editor[0]),d.setStart(b[0],0),d.setEnd(b[0],0),window.getSelection().addRange(d),c.isFirefox&&setTimeout(function(){i.$editor.focus()},10)}}}),$(j).on("keydown",function(a){function b(a,b,c,d){c&&b.preventDefault();var e=a;e+=d?e:"",i.pasteHtmlAtCaret(e)}function e(a){var b=document.createRange();window.getSelection().removeAllRanges(),b.selectNodeContents(i.$editor[0]),b.setStart(i.$editor[0],a.index()+1),b.setEnd(i.$editor[0],a.index()+1),window.getSelection().addRange(b)}function f(a){var b=document.createRange();window.getSelection().removeAllRanges(),b.selectNodeContents(i.$editor[0]),b.setStart(a[0],0),b.setEnd(a[0],0),window.getSelection().addRange(b)}var k=i.$editor.find(".js-placeholder");if(k.length){c.isIE?k.html(""):k.html("<br/>"),k.css("color",$(i.$defaultParagraph).css("color")),k.removeClass("js-placeholder");var l=document.createRange();l.selectNodeContents(i.$editor[0]),l.setStart(k[0],0),l.setEnd(k[0],0),window.getSelection().removeAllRanges(),window.getSelection().addRange(l)}if((window.getSelection().isCollapsed||0===window.getSelection().rangeCount)&&(i.shownTools=!1,i.$digest()),65===a.which&&(a.ctrlKey||a.metaKey)){if(i.savedRevertedSelection=null,(c.isIE||c.isFirefox)&&i.textWasInserted)return void(i.textWasInserted=!1);v(),i.shownTools=!0,i.customizePopoverPosition(i.$popover)}else if(13===a.which){if(-1===i.includes.indexOf("paragraphs"))return a.preventDefault(),a.stopImmediatePropagation(),!1;var m=window.getSelection(),n=m.focusNode,o=$(n).closest("h1, h2, h3, p");if(0!==o.length){var p=g(m.getRangeAt(0).cloneRange(),$(j)[0],o),q=h(p.cloneContents());if(0===q.trim().length){var r;r=o.length&&"p"===o.prop("tagName").toLowerCase()&&!o.hasClass("hero")?$(o).fromExisting("p","<br/>")[0].outerHTML:i.$defaultParagraph,c.isSafari?(a.preventDefault(),o.after(r),f(o.next())):(e(o),b(r,a,!0),f(o.next()))}}else b(i.$defaultParagraph,a,!0,!0),f(o.next());i.$editor.trigger("input")}else if(8===a.which||46===a.which){if(window.getSelection().isCollapsed){var s=$(window.getSelection().anchorNode);if(s.length)if(0===s.text().trim().length){var t=s.next();if(0!==t.length){s.remove(),window.getSelection().removeAllRanges();var l=document.createRange();l.selectNodeContents(i.$editor[0]),l.setStart(t[0],0),l.setEnd(t[0],0),window.getSelection().addRange(l),a.preventDefault()}}else{var u=$(s).closest("h1, h2, h3, p").prev();u.length&&(0===u.text().trim().length?u.remove():setTimeout(function(){var a=u.find("i, a, b");a.css({"font-weight":"inherit","font-size":"inherit","line-height":"inherit"})},200))}}i.$editor.trigger("input"),d(function(){i.shownTools=!1},100)}else{if((26===a.which||90===a.which)&&(a.ctrlKey||a.metaKey))return a.preventDefault(),a.stopImmediatePropagation(),i.$undoManager.undo(),!1;66===a.which&&(a.ctrlKey||a.metaKey)?c.isFirefox&&(a.preventDefault(),document.execCommand("bold",!1,null)):73===a.which&&(a.ctrlKey||a.metaKey)?c.isFirefox&&(a.preventDefault(),document.execCommand("italic",!1,null)):85===a.which&&(a.ctrlKey||a.metaKey)&&a.preventDefault()}}),$(j).on("keydown",function(a){v(),a.which>=37&&a.which<=40&&a.shiftKey&&(i.shownTools||0===window.getSelection().toString().length||(i.shownTools=!0),i.restoreDefaults(i,!0),i.correctSelection(),i.customizePopoverPosition(i.$popover))}),$(j).on("keyup",function(){c.isIE&&i.$editor.trigger("input")}),i.$watch('style["color"]',function(a){if(a&&i.changeColor){if(i.savedSelection){var b=i.savedSelection.cloneRange(),c=$(b.startContainer).closest("h1, h2, h3, p"),d=$(b.endContainer).closest("h1, h2, h3, p");0===d.length&&(d=i.$editor.find("h1, h2, h3, p").last()),0===c.length&&(c=i.savedAnchor,d=i.savedFocus)}else c=i.savedAnchor,d=i.savedFocus;if(void 0!==c){if(c.index()>d.index()){var e=c;c=d,d=e}var f;c.index()!=d.index()?(f=c.nextUntil(d),f=f.add(c),f=f.add(d)):f=c,f.each(function(a,b){$(b).css("color",i.style.color)}),i.savedAnchor=c,i.savedFocus=d,i.$editor.trigger("input")}}if(a){for(var g=[],h=1;7>h;h+=2)g.push(parseInt("0x"+a.substr(h,2),16));if(i.$popover){var j=i.$popover.find(".dm-color-icon"),k=g[0]<128&&g[1]<128&&g[2]<128;k?j.addClass("border-light"):j.removeClass("border-light")}}}),i.editingRange=document.createRange(),i.$on("startEditingHexField",function(){i.editingRange.setStart(i.savedSelection.startContainer,i.savedSelection.startOffset),i.editingRange.setEnd(i.savedSelection.endContainer,i.savedSelection.endOffset)}),i.$on("hexFieldKeyDown",function(a,b){if(console.log(i.editingRange),i.editingRange){var c=document.getSelection();c.removeAllRanges(),c.addRange(i.editingRange),i.style.color=$(b).val(),document.execCommand("foreColor",!1,$(b).val()),$(b).focus()}}),i.$watch('style["font-family"]',function(a){if(a){if(a=a.replace(/"/g,"'"),i.webFonts.length&&i.googleFonts.length&&i.localFonts.length&&i.typeKitFonts.length){var b=$.grep(i.webFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),c=$.grep(i.googleFonts,function(b){return b.value.trim().replace(/'/g,"")==a.trim().replace(/'/g,"")}),d=$.grep(i.localFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")}),e=$.grep(i.typeKitFonts,function(b){return b.value.trim().replace(/'/g,"")===a.trim().replace(/'/g,"")});(0!=b.length||0!=c.length||0!=d.length||0!=e.length)&&(0!=b.length?i.visibleFont=b[0].key:0!=c.length?i.visibleFont=c[0].key:0!=d.length?i.visibleFont=d[0].key:i.visibleFont=e[0].key)}if(window.getSelection().rangeCount>0){var f=window.getSelection().getRangeAt(0).cloneRange(),g=$(f.startContainer).closest("h1, h2, h3, p"),h=$(f.endContainer).closest("h1, h2, h3, p");if(0===h.length&&(h=i.$editor.find("h1, h2, h3, p").last()),g.index()>h.index()){var j=g;g=h,h=j}var k;g.index()!=h.index()?(k=g.nextUntil(h),k=k.add(g),k=k.add(h)):k=g,k.each(function(a,b){$(b).css("font-family",i.style["font-family"])}),i.$editor.trigger("input")}}}),i.$watch('classes["font-size"]',function(a){if(a){if(i.restoreSelectionAfterStyling(),window.getSelection().rangeCount>0){if(0===window.getSelection().toString().length)return;var b=window.getSelection().getRangeAt(0).cloneRange(),c=$(b.startContainer).closest("h1, h2, h3, p"),d=$(b.endContainer).closest("h1, h2, h3, p");if(0===d.length&&(d=i.$editor.find("h1, h2, h3, p").last()),c.index()>d.index()){var e=c;c=d,d=e}var f;c.index()!=d.index()?(f=c.nextUntil(d),f=f.add(c),f=f.add(d)):f=c,f.each(function(b,c){var d=$.grep(c.className.split(" "),function(a){return 0===a.indexOf("font-size-")})[0];$(c).removeClass(d),$(c).addClass("font-size-"+a)}),i.$popover&&(i.$popover.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text(a),i.$editor.trigger("input"))}}else i.$popover&&i.$popover.find(".dm-widget-panel-font-col").first().find(".ui-slider-handle").text("")}),i.$watch('classes["line-height"]',function(a){if(a){if(i.restoreSelectionAfterStyling(),window.getSelection().rangeCount>0){if(0===window.getSelection().toString().length)return;var b=window.getSelection().getRangeAt(0).cloneRange(),c=$(b.startContainer).closest("h1, h2, h3, p"),d=$(b.endContainer).closest("h1, h2, h3, p");if(0===d.length&&(d=i.$editor.find("h1, h2, h3, p").last()),c.index()>d.index()){var e=c;c=d,d=e}var f;c.index()!=d.index()?(f=c.nextUntil(d),f=f.add(c),f=f.add(d)):f=c,f.each(function(b,c){var d=$.grep(c.className.split(" "),function(a){return 0===a.indexOf("line-height-")})[0];$(c).removeClass(d),$(c).addClass("line-height-"+a)}),i.$popover&&(i.$popover.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text(a),i.$editor.trigger("input"))}}else i.$popover&&i.$popover.find(".dm-widget-panel-font-col").last().find(".ui-slider-handle").text("")}),i.$watch("changeHeading",function(a,b){"boolean"==typeof a&&a&&i.customizePopoverPosition(i.$popover)}),i.$watch("changeColor",function(a,b){"boolean"==typeof a&&a&&i.customizePopoverPosition(i.$popover)}),i.$watch("changeFont",function(a,b){"boolean"==typeof a&&a&&i.customizePopoverPosition(i.$popover)}),i.saveLastSelection=k,i.restoreLastSelection=l,i.removeSelection=m,i.selectWholeTagContent=n,i.loadFontsList=o,i.addTypeKitFontsList=p,i.addedTypeKitFontsList=!1,i.pasteHtmlAtCaret=s,i.selectRangeBackwards=r,i.$watch("popoverWasCreated",function(a){i.customizePopoverPosition(i.$popover),i.shownPopover=!0}),i.customizePopoverPosition=function(a){if(!i.popoverWasCreated)return void(i.shownPopover=!1);e.$$phase||i.$digest();var b=($("#templates").offset().top,$(j).closest(".dm-template").offset().top),d=_.result(_.max(i.panelHeights,function(a){return a.height}),"height")+50;i.bottomArrow=!0,(void 0===i.$popover||0===i.$popover.length)&&(i.$popover=a);var f=i.shownPopover?i.$popover.width():i.$popover.find(".dm-widget-popover-link-settings").outerWidth(),g=i.shownPopover?50:110,h=window.getSelection();if(h.rangeCount>0){var k=h.getRangeAt(0).cloneRange(),l=k.getBoundingClientRect();if(!l)return;var m=!0;if(l.width||(l=k.commonAncestorContainer.parentElement.getClientRects()[0],m=!1),!l)return;var n=l.top,o=l.left,p=l.width,q=1;if(c.isChrome&&m){i.changingSelection=!0;try{var s=k.toString();if(s.length>1)if(h.anchorOffset>h.focusOffset)h.modify("extend","right","character");else if(" "!==s){" "===s[s.length-1]&&(h.modify("extend","left","character"),q=2),h.collapseToEnd();for(var t=0;t<s.length-q;++t)h.modify("extend","left","character")}var u=h.getRangeAt(0).getBoundingClientRect();if(u.height!==l.height){n=u.top;var v=Math.abs(h.focusOffset-h.anchorOffset),w=u.width/v;o=u.left-w,p=u.width+w}" "!==s&&s.length>1&&h.modify("extend","left","character")}catch(x){}i.removeSelection(),i.savedRevertedSelection?r(i.savedRevertedSelection):i.restoreLastSelection(k),i.changingSelection=!1}var y=$(window).scrollTop(),z=$(window).scrollLeft(),A=42*_.without(i.includes,"paragraphs").length+27;(!f||Math.abs(A-f)>20)&&(f=A);var B=n-b-8-g+y,C=o-f/2+p/2-z;if(B+b-d<=Math.abs(y-10)&&i.shownPopover&&(i.bottomArrow=!1,B=l.bottom-b+8+y),0>=C)return void(i.shownTools=!1);$(a).css({left:C+"px"});var D=i.changeHeading||i.changeColor||i.changeFont;if(D&&i.bottomArrow){var E;E=i.changeHeading?_.result(_.find(i.panelHeights,function(a){return"heading"===a["class"]}),"height"):i.changeColor?_.result(_.find(i.panelHeights,function(a){return"color"===a["class"]}),"height"):_.result(_.find(i.panelHeights,function(a){return"fonts"===a["class"]}),"height"),B-=E}else{var F=($(document).height(),$(window).height());B+d+b>y+F&&l.height>F/2?(i.bottomArrow=!0,B=y-b+100):!i.bottomArrow&&B+d+b>y+F&&$("html, body").animate({scrollTop:y+150},400)}$(a).css({top:B+"px"}),i.changeFont&&i.collapseFontsList(i,i.$popover)}},i.restoreSelectionAfterStyling=function(){i.savedSelection&&(i.removeSelection(),i.restoreLastSelection(i.savedSelection))};var x=function(a){if(i.mouseDown){var b=window.getSelection().toString();if(!b)return $(window).off("mouseup",x),!1;i.shownTools=!0,i.customizePopoverPosition(i.$popover)}i.mouseDown=!1,$(window).off("mouseup",x)};$(document).on("copy cut",function(a){var b=window.getSelection();if(b.rangeCount>0){var c=b.getRangeAt(0).cloneContents(),d=h(c),e=d.indexOf("<h1")&&d.indexOf("<h2")&&d.indexOf("<h3")&&d.indexOf("<p");if(-1===e){var f=$(b.anchorNode).closest("h1, h2, h3, p");f.length&&(f=f.clone(),f.html(d),i.savedClipboard=f)}else i.savedClipboard=d}}),$(j).on("paste drop",function(a){i.textWasInserted=!0,a.preventDefault();var b="drop"===a.type?a.originalEvent.dataTransfer:a.originalEvent.clipboardData;if(b||(b=window.clipboardData),window.getSelection().rangeCount>0){var c=b.getData("text");if("drop"===a.type){var e=a.originalEvent;q(e.x,e.y,e.x,e.y)}if(-1===i.includes.indexOf("paragraphs"))i.pasteHtmlAtCaret(c.split(/\n/g).join(""));else{var k=window.getSelection().getRangeAt(0),l=window.getSelection().anchorNode,m=window.getSelection().focusNode,n=$(l).closest("h1, h2, h3, p"),o=$(m).closest("h1, h2, h3, p");0===o.length&&(o=i.$editor.find("h1, h2, h3, p").first());var p=f(k.cloneRange(),$(j)[0],n),r=g(k.cloneRange(),$(j)[0],o),s=h(p.cloneContents()),t=h(r.cloneContents());k.deleteContents();var u=c.split(/\n/g).filter(function(a){return 0!=a.length&&13!==a.charCodeAt(0)}),v=$(i.savedClipboard).text().trim().replace(/\n/g,""),w=c.trim().replace(/\n/g,""),x=v.replace(/\s*/g,"").toLowerCase()===w.replace(/\s*/g,"").toLowerCase();if(u.length>0){for(var y=0;y!=u.length;++y)u[y]=u[y].trimStart().trimEnd();var z=$(i.savedClipboard);0===s.length&&x?n=$(z[0].outerHTML).replaceAll(n):n.html(s+u[0]);for(var A=n,B=$(n).clone(),y=1;y<u.length-1;++y)x?B=$(z[y].outerHTML):B.html(u[y]),A.after(B),B=B.clone(),A=A.next();var C;u.length>1?(B=A.clone(),x?B=$(z[z.length-1].outerHTML):B.html(u[u.length-1]+t),A.after(B),C=B):(n.html(n.html()+t),C=n),d(function(){if(0!==$(C).length){var a=$(C).offset().top,b=$(C).height(),c=a+b,d=$(window).scrollTop()+$(window).height();c>d&&$("html, body").animate({scrollTop:a},400)}},50),window.getSelection().removeAllRanges();var D=i.$editor.find("h1, h2, h3, p");D.each(function(a,b){var c=$(b);0===c.html().length&&c.addClass("removed")}),i.$editor.find(".removed").remove()}}i.shownTools=!1,d(function(){i.$editor.trigger("input")},10)}})}function j(a){var b=a.$watch("webFonts",function(c){if(c.length&&a.style){var d=$.grep(a.webFonts,function(b){return b.value==a.style["font-family"]}),e=$.grep(a.googleFonts,function(b){return b.value==a.style["font-family"]}),f=$.grep(a.localFonts,function(b){return b.value==a.style["font-family"]});(0!=d.length||0!=e.length||0!=f.length)&&(a.style["font-family"]=0!=d.length?d[0].key:0!=e.length?e[0].key:f[0].key),b()}c.length&&a.loadFontsList(a)},!0),c=a.$watch("typeKitFonts",function(b){if(b.length&&a.style){var d=$.grep(a.typeKitFonts,function(b){return b.value==a.style["font-family"]});0!=d.length&&(a.style["font-family"]=d[0].key),c()}b.length&&a.addTypeKitFontsList(a)},!0);e.$onWithAutoDeregister(a,"loaded-fonts",function(){o(a)}),a.$on("loaded-TypeKitFonts-inside",function(b){p(a)}),a.$on("editors-update",function(){var b=a.$editor.find("p, h1, h2, h3");b.each(function(b,c){var d=$(c).hasClass("js-placeholder");$(c).css(a.model.content[b].style),$(c).removeClass(),d&&$(c).addClass("js-placeholder");for(var e=0;e!=a.model.content[b].classes.length;++e)$(c).addClass(a.model.content[b].classes[e])}),a.$editor.trigger("input",{silent:!0})}),a.$watch("shownPopover",function(b){b&&(a.shownAnchorEditor=!1)}),a.$watch("shownAnchorEditor",function(b){b&&(a.shownPopover=!1)})}function k(){return window.getSelection().getRangeAt(0)}function l(a){window.getSelection().addRange(a)}function m(){window.getSelection().removeAllRanges()}function n(a){var b,c;c=window.getSelection(),b=document.createRange(),b.selectNodeContents(a),c.removeAllRanges(),c.addRange(b)}function o(a){a.fonts||(a.fonts=a.webFonts.concat(a.googleFonts),a.fonts=a.fonts.concat(a.localFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}))}function p(a){a.addedTypeKitFontsList||(a.fonts=a.fonts.concat(a.typeKitFonts),a.fonts.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),a.addedTypeKitFontsList=!0)}function q(a,b,c,d){var e,f,g=document,h=null;if("undefined"!=typeof g.caretPositionFromPoint?(e=g.caretPositionFromPoint(a,b),f=g.caretPositionFromPoint(c,d),h=g.createRange(),h.setStart(e.offsetNode,e.offset),h.setEnd(f.offsetNode,f.offset)):"undefined"!=typeof g.caretRangeFromPoint&&(e=g.caretRangeFromPoint(a,b),f=g.caretRangeFromPoint(c,d),h=g.createRange(),h.setStart(e.startContainer,e.startOffset),h.setEnd(f.startContainer,f.startOffset)),null!==h&&"undefined"!=typeof window.getSelection){var i=window.getSelection();i.removeAllRanges(),i.addRange(h)}else if("undefined"!=typeof g.body.createTextRange){h=g.body.createTextRange(),h.moveToPoint(a,b);var j=h.duplicate();j.moveToPoint(c,d),h.setEndPoint("EndToEnd",j),h.select()}}function r(a){var b=window.getSelection(),c=a.cloneRange();c.collapse(!1),b.removeAllRanges(),b.addRange(c),b.extend(a.startContainer,a.startOffset)}function s(a){var b,c;if(b=window.getSelection(),b.getRangeAt&&b.rangeCount){c=b.getRangeAt(0),c.deleteContents();var d=document.createElement("p");d.innerHTML=a;for(var e,f,g=document.createDocumentFragment();e=d.firstChild;)f=g.appendChild(e);c.insertNode(g),f&&(c=c.cloneRange(),c.setStartAfter(f),c.collapse(!0),b.removeAllRanges(),b.addRange(c))}}return{scope:{ngModel:"=ngModel",inverted:"=textEditingInverted"},require:"ngModel",restrict:"A",templateUrl:"../templates/ui-widgets/components/text-editing.directive/content.html",link:i,controller:["$scope",j]}}])}(),function(){angular.module("dmApp").directive("dmText",function(){function a(a,b,c){a.getClassString=function(a){if(a&&a.paddings){var b=[];return b.push("top-padding-"+a.paddings.top),b.push("bottom-padding-"+a.paddings.bottom),"undefined"!=typeof a.text&&("undefined"!=typeof a.text.width&&b.push("width-"+a.text.width),"undefined"!=typeof a.text.position&&b.push("position-"+a.text.position)),b.join(" ")}return""}}return{restrict:"A",link:a}})}(),function(){angular.module("dmApp").directive("dmTools",["api","$http","$window","$rootScope",function(a,b,c,d){function e(b,e,f){function g(a){if(m.prev().hasClass("fake-template")){if(m.prev().prev().hasClass(a))return!0}else if(m.prev().hasClass(a))return!0}function h(a){if(m.next().hasClass("fake-template")){if(m.next().next().hasClass(a))return!0}else if(m.next().hasClass(a))return!0}function i(){b.showUp=!1,b.showDown=!1,m.prev().length&&!m.prev().hasClass("dm-menu")&&(b.showUp=!0),m.next().length&&(b.showDown=!0)}var j,k,l,m=e.closest(".dm-template"),n=e.closest(".dm-widget"),o=[];b.move=!1,b.duplicate=!1,b.appearance=!1,b.changeAppearance=!1,b.changePaddings=!1,b.customCSS=!1,b.remove=!1,b.showReplacedDropDown=!1,b.anchor=!1,b.shownAnchorEditor=!1,o=b.dmTools;for(var p=0;p<o.length;p++)b[o[p]]=!0;m.hasClass("dm-footer")&&(b.hideInFooter=!0),b.$on("openDropDown",function(a,c){c&&(b.showReplacedDropDown=!0,n.addClass("transparent")),i(),b.move=m.siblings(".dm-template:not(.dm-menu)").length&&!m.hasClass("dm-menu")?!0:!1,b.reordering=!1,b.changeAppearance=!1,b.changePaddings=!1,b.shownAnchorEditor=!1}),b.$on("closedDropDown",function(a,c){c&&(b.showReplacedDropDown=!1,n.removeClass("transparent"),b.$emit("closeDropDown"))}),b.$watch("topPadding",function(a,c){b.topPadding>=10?e.find(".top-padding-handle").addClass("big-handle"):b.topPadding<10&&e.find(".top-padding-handle").removeClass("big-handle")}),b.$watch("bottomPadding",function(a,c){b.bottomPadding>=10?e.find(".bottom-padding-handle").addClass("big-handle"):b.bottomPadding<10&&e.find(".bottom-padding-handle").removeClass("big-handle")}),e.on("click",".remove-template",function(){var a=confirm("Are you sure you want to remove this block?");a&&b.$apply(function(){b.$emit("remove-template"),m.remove(),DmCommonFunc.appendStyles()})}),$(e).on("mousedown",function(a){if($(a.target).closest(".ui-slider").length){$(a.target).hasClass("top-padding-handle")?e.closest(".dm-template").find("section").addClass("topPaddingIsChanged"):$(a.target).hasClass("bottom-padding-handle")&&e.closest(".dm-template").find("section").addClass("bottomPaddingIsChanged");var b=function(){e.closest(".dm-template").find("section").removeClass("topPaddingIsChanged"),e.closest(".dm-template").find("section").removeClass("bottomPaddingIsChanged"),$("body").off("mouseup",b)};$("body").on("mouseup",b)}}),e.on("click",".edit-css-template",function(){var b=m.attr("component-id");angular.element("body").removeClass("preview"),a.call("component.template.get",{component_id:b,pure_html:!1,model:m.scope().data},function(a){DmCommonFunc.createEditingPage(a,b)})}),e.on("click",".move-up, .move-down",function(a){var d,e,f=angular.element(this),g=angular.element(c),h=g.scrollTop(),j=m.prev(),k=m.next(),l=angular.element(this).closest(".dm-widget"),n=l.offset().top-h,o=m.find(".mb_YTPlayer");o.length&&(m.hasClass("custom-block")&&(e=o.data("property")),m.find($(".mb_YTPlayer")).playerDestroy({move:!0})),f.hasClass("move-down")&&k.length&&m.insertAfter(k),f.hasClass("move-up")&&j.length&&m.insertBefore(j),o.length&&DmCommonFunc.updateMovingVideo(m,e),d=l.offset().top-h,g.scrollTop(h-(n-d)),i(),b.$emit("reorder-block"),b.$digest()}),e.on("click",".reorder",function(){b.$apply(function(){b.reordering=!0,DmCommonFunc.createReordering(e)})}),e.on("click",".duplicate-template",function(){var b=m.attr("component-id");a.call("component.duplicate",{component_id:b,model:m.scope().data},function(a){d.$emit("closeAllDropDowns"),DmCommonFunc.addDuplicateBlocks(a)})}),e.on("click",".appearance-template",function(){b.$apply(function(){b.changeAppearance=!0})}),e.on("click",".section-anchor",function(){b.$apply(function(){b.shownAnchorEditor=!0})}),e.on("click",".background-template",function(){e.closest(".dm-template").find(".dm-bg-options .dm-color-icon").trigger("click")}),e.on("click",".paddings-template",function(){b.$apply(function(){b.changePaddings=!0})}),b.$on("applyPaddings",function(a){j=b.$watch("defaultTopPadding",function(a){a&&(m.hasClass("dm-image-full")&&(g("dm-image-full")||g("dm-cover")||!m.prev().prev().length?b.topPadding=0:b.topPadding=6),m.hasClass("dm-image-medium")&&(g("dm-image-medium")?b.topPadding=0:b.topPadding=4),m.hasClass("dm-image-small")&&(g("dm-image-small")?b.topPadding=0:b.topPadding=2),m.hasClass("dm-footer")&&(g("dm-footer")?b.topPadding=0:b.topPadding=12))}),l=b.$watch(function(){return m.attr("class")},function(a){m.hasClass("dm-image-full")&&b.defaultBottomPadding&&!m.find("section.image").hasClass("textover")&&m.next(".dm-image-full").length&&(-1!=a.indexOf("dm-image-description")?b.bottomPadding=6:b.bottomPadding=4),m.hasClass("dm-image-small")&&b.defaultBottomPadding&&m.next(".dm-image-small").length&&(-1!=a.indexOf("dm-image-description")?b.bottomPadding=2:b.bottomPadding=4)}),k=b.$watch("defaultBottomPadding",function(a){a&&(m.hasClass("dm-image-full")&&(m.hasClass("dm-image-description")&&!m.find("section.image").hasClass("textover")||!h("dm-image-full")?b.bottomPadding=6:b.bottomPadding=4),m.hasClass("dm-image-medium")&&(b.bottomPadding=4),m.hasClass("dm-image-small")&&(!m.hasClass("dm-image-description")&&h("dm-image-small")?b.bottomPadding=4:b.bottomPadding=2))})}),b.$on("setDefaultPaddings",function(a){b.defaultTopPadding=!0,b.defaultBottomPadding=!0}),b.$on("defaultTopPaddingWasChanged",function(a){b.defaultTopPadding=!1,j()}),b.$on("defaultBottomPaddingWasChanged",function(a){b.defaultBottomPadding=!1,k(),l()})}return{scope:{dmTools:"=",topPadding:"=",anchorValue:"=",bottomPadding:"="},link:e,restirct:"A",templateUrl:"../templates/ui-widgets/components/tools.directive/tools.html"}}])}(),function(){angular.module("dmApp").directive("dmDropImage",[function(){function a(a,b,c){var d=$(".droppable-media-holder");d.on("dragenter",function(a){a.preventDefault(),$(this).addClass("dropzone")}),d.on("dragover",function(a){a.preventDefault()}),d.on("dragleave",function(a){$(this).removeClass("dropzone")}),d.on("drop",function(a){$(this).removeClass("dropzone"),a.preventDefault()}),b.on("click",function(){"dmDropImageClickable"in c&&a.$broadcast("clickedToUploadMedia")}),a.$on("fileUploaded",function(b,c){c.length&&(a.dmDropImage=c[0].dataUrl.original,a.dmMediaShow&&(a.dmMediaShow="image"))}),a.$watch("dmDropImage",function(){a.dmDropImage&&a.$emit("imgChanged",a.dmDropImage)})}function b(a){}return{scope:{dmDropImage:"=",dmImageWidth:"=",dmMediaShow:"="},link:a,controller:["$scope",b],restrict:"A",templateUrl:"../templates/ui-widgets/components/upload-media.directive/drop-image.html"}}])}(),function(){angular.module("dmApp").directive("dmUploadDropDownImage",[function(){function a(a,b,c){a.openWPMediaLibrary=function(b){b||(a.$emit("openedWPMediaLibrary"),a.$broadcast("setFocus"))}}return{link:a,restrict:"A",transclude:!0,templateUrl:"../templates/ui-widgets/components/upload-media.directive/upload-drop-down-image.html"}}])}(),function(){angular.module("dmApp").directive("dmUploadDropDownVideo",[function(){function a(a,b,c){a.openVideoSettings=function(b){b||(a.$emit("openedVideoSettings"),a.$broadcast("setFocus"))}}return{link:a,restrict:"A",transclude:!0,templateUrl:"../templates/ui-widgets/components/upload-media.directive/upload-drop-down-video.html"}}])}(),function(){angular.module("dmApp").directive("dmUploadMedia",["events",function(a){function b(b,c,d){function e(){i.css({marginLeft:-i.outerWidth()/2}),i.offset().left<=0&&i.css({marginLeft:-i.outerWidth()/2-i.offset().left+10})}function f(){b.$broadcast("hideWPMediaLibraryLocal"),b.showUploadVideoDropDown=!1,i.removeClass("inverse"),i.removeClass("dm-widget-drop-down-upload-video"),g(),e()}function g(){b.$broadcast("closeVideoQuality"),i.removeClass("dm-widget-drop-down-video-quality"),e()}function h(){b.showWPMediaLibrary=!1,i.removeClass("dm-widget-drop-down-image-library"),$("#customOffset").remove(),e()}var i=c.find(".dm-widget-drop-down");b.showUploadVideoDropDown=!1,b.showWPMediaLibrary=!1,b.insideDropDown=!0,b.$on("openDropDown",function(){f(),h()}),b.$on("closeVideoSettings",function(){f()}),b.$on("closeWPMediaLibrary",function(){h()}),b.$on("openedVideoSettings",function(){b.showUploadVideoDropDown=!0,b.showWPMediaLibrary=!1,i.hasClass("dm-widget-drop-down-image-library")||i.addClass("inverse dm-widget-drop-down-upload-video"),e()}),b.$on("openedWPMediaLibrary",function(){b.showUploadVideoDropDown=!1,b.showWPMediaLibrary=!0,i.removeClass("inverse"),i.removeClass("dm-widget-drop-down-upload-video"),i.addClass("dm-widget-drop-down-image-library"),$("#templates").append("<div id='customOffset' style='height:200px'></div>"),e()}),b.$on("showVideoQuality",function(a,b){b?i.addClass("dm-widget-drop-down-video-quality"):i.removeClass("dm-widget-drop-down-video-quality"),e()}),a.addEventListener(b,c,"keyup mouseup",function(a){27===a.keyCode&&(i.hasClass("dm-widget-drop-down-upload-video")&&!i.hasClass("dm-widget-drop-down-video-quality")&&b.$apply(function(){f()}),i.hasClass("dm-widget-drop-down-video-quality")&&b.$apply(function(){g()}))})}return{link:b,restirct:"A",transclude:!0,templateUrl:"../templates/ui-widgets/components/upload-media.directive/upload-media.html"}}])}(),function(){angular.module("dmApp").directive("dmUploadVideo",["youtubeValidator","$interval","$timeout",function(a,b,c){function d(d,e,f){function g(b){var c=a.init(b);c.http.success(function(a){a.items[0]&&a.items[0].id?(k.val(c.id),d.dmUploadVideo=c.id,d.dmMediaShow="video"):h()}).error(function(){h()})}function h(){k.val(d.dmUploadVideo),alert("Invalid URL or video ID")}var i,j,k=e.find(".videoID"),l={"default":"Default",small:"Small",medium:"Medium",large:"Large",hd720:"HD 720",hd1080:"HD 1080"},m=1e3;d.showVideoQualityPanel=!1,d.showWPMediaLibrary=!1,d.$watch("dmUploadVideo",function(a,b){var c=e.closest(".dm-template").find(".video-background,.dm-background-video");void 0!==a&&(d.tempVideoID=a,""!==a&&c.length&&setTimeout(function(){c.getPlayer()?c.changeMovie({videoURL:a}):c.YTPlayer(),c.on("YTPStart",function(a){c.pauseYTP()})},0))}),d.$watch("tempVideoID",function(a,c){a&&a!=c&&(j&&b.cancel(j),i=Date.now(),j=b(function(){Date.now()-i>m&&(g(a),b.cancel(j))},m))}),d.$watch("dmMediaShow",function(a){"image"===a&&(d.dmUploadVideo="",d.dmUploadVideoQuality&&(d.dmUploadVideoQuality="default"),d.dmUploadVideoFirstFrame&&(d.dmUploadVideoFirstFrame=""),d.dmUploadVideoStartAt&&(d.dmUploadVideoStartAt="0"),d.dmUploadVideoStopAt&&(d.dmUploadVideoStopAt="0"))}),d.$on("setFocus",function(){c(function(){k.focus()},!1)}),d.$on("closeVideoQuality",function(a){d.showVideoQualityPanel=!1}),d.setVideoQuality=function(a){d.dmUploadVideoQuality=a},d.qualityName=function(a){for(var b in l)if(a===b)return l[b]},d.showVideoQuality=function(a){d.showVideoQualityPanel=a,d.$emit("showVideoQuality",a)},d.removeVideo=function(){d.dmMediaShow="image",d.$emit("closeVideoSettings")},d.checkVisibility=function(a){return"undefined"!=typeof a},d.$on("hideWPMediaLibraryLocal",function(){d.showWPMediaLibrary=!1,d.$emit("closeWPMediaLibrary")}),d.$on("hideWPMediaLibrary",function(){d.$emit("hideWPMediaLibraryLocal"),d.$emit("openedVideoSettings")}),d.openWPMediaLibrary=function(a){a||(d.showWPMediaLibrary=!0,d.$emit("openedWPMediaLibrary"),d.$broadcast("setFocus"))}}return{scope:{dmUploadVideo:"=",dmUploadVideoAutoplay:"=",dmUploadVideoControls:"=",dmUploadVideoQuality:"=",dmUploadVideoFirstFrame:"=",dmUploadVideoFirstFrameImageWidth:"=",dmUploadVideoStartAt:"=",dmUploadVideoStopAt:"=",dmMediaShow:"="},link:d,restrict:"A",templateUrl:"../templates/ui-widgets/components/upload-media.directive/video-settings.html"}}])}(),function(){angular.module("dmApp").directive("dmWpMediaLibrary",[function(){function a(a,b,c){function d(a){$(a).hide(),$(a).find("html").css({"padding-top":"0px"}),$(a).find("#wpcontent").css({"margin-left":"0px"}),$(a).find("#wpadminbar").remove(),$(a).find("#adminmenumain").remove(),$(a).find(".select-mode-toggle-button").remove(),$(a).find("#contextual-help-link-wrap").remove(),$(a).find(".error,.notice,.is-dismissible.update-nag,.woocommerce-message").remove(),$(a).find("#wpfooter").remove(),$(a).find("#wpwrap").css({"background-color":"white"}),$(a).show()}function e(b){$(b).find(".attachment-actions .select-image").remove(),$(b).find(".attachment-actions").append("<button type='button' class='button select-image button-primary'>Select image</button>"),$(b).find(".select-image").unbind("click"),$(b).find(".select-image").bind("click",function(){var c=$(b).find("[data-setting='url']>input").val();$(b).find("[data-setting='alt']>input").val();c=c.split("/"),c=c.slice(c.indexOf("wp-content")+1,c.length),c="../../"+c.join("/"),a.dmMediaShow="image",a.dmSelectedImage=c,a.$emit("WpMediaLibraryImageChange",c),a.$emit("hideWPMediaLibrary"),a.$apply()})}function f(a){$(a).click(function(b){($(b.target).hasClass("thumbnail")||$(b.target).hasClass("dashicons"))&&($(a).find(".attachment-actions").length?e(a):setTimeout(function(){e(a)},300))})}var g=(b.find(".dm-widget-drop-down"),b.find("#media-library")[0]);a.insideDropDown=!0,a.$on("openDropDown",function(){var b,c=_wpmejsSettings.pluginPath.split("/");c.splice(0,1),c.splice(c.indexOf("wp-includes"),100),console.log(c),g.src=(c.length?"/":"")+c.join("/")+"/wp-admin/upload.php?mode=grid",
a.$broadcast("showPreloader"),$(g).load(function(){b=$(this)[0].contentDocument,d(b),f(b),a.$broadcast("hidePreloader")})}),a.$on("closedDropDown",function(){g.src=""})}return{scope:{dmMediaShow:"=?",dmSelectedImage:"="},link:a,restirct:"A",templateUrl:"../templates/ui-widgets/components/upload-media.directive/wp-media-library.html"}}])}(),function(){angular.module("dmApp").directive("dmVideoPlayer",[function(){function a(a,b,c){a.$watch(c.dmVideoPlayer,function(a){void 0!=a&&(""==a?b.attr("src",""):b.attr("src","https://www.youtube.com/embed/"+a+"?rel=0&controls=0&showinfo=0&autohide=1&hd=1&wmode=transparent"))})}return{link:a,restirct:"A"}}])}();